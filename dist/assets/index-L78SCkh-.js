(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))o(p);new MutationObserver(p=>{for(const C of p)if(C.type==="childList")for(const U of C.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&o(U)}).observe(document,{childList:!0,subtree:!0});function y(p){const C={};return p.integrity&&(C.integrity=p.integrity),p.referrerPolicy&&(C.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?C.credentials="include":p.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function o(p){if(p.ep)return;p.ep=!0;const C=y(p);fetch(p.href,C)}})();var Hc={exports:{}},Wn={};var $f;function zg(){if($f)return Wn;$f=1;var r=Symbol.for("react.transitional.element"),g=Symbol.for("react.fragment");function y(o,p,C){var U=null;if(C!==void 0&&(U=""+C),p.key!==void 0&&(U=""+p.key),"key"in p){C={};for(var A in p)A!=="key"&&(C[A]=p[A])}else C=p;return p=C.ref,{$$typeof:r,type:o,key:U,ref:p!==void 0?p:null,props:C}}return Wn.Fragment=g,Wn.jsx=y,Wn.jsxs=y,Wn}var Ff;function Og(){return Ff||(Ff=1,Hc.exports=zg()),Hc.exports}var s=Og(),Lc={exports:{}},ye={};var Wf;function Mg(){if(Wf)return ye;Wf=1;var r=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),U=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),G=Symbol.for("react.activity"),B=Symbol.iterator;function K(d){return d===null||typeof d!="object"?null:(d=B&&d[B]||d["@@iterator"],typeof d=="function"?d:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function te(d,M,V){this.props=d,this.context=M,this.refs=R,this.updater=V||Y}te.prototype.isReactComponent={},te.prototype.setState=function(d,M){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,M,"setState")},te.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function _(){}_.prototype=te.prototype;function ne(d,M,V){this.props=d,this.context=M,this.refs=R,this.updater=V||Y}var ie=ne.prototype=new _;ie.constructor=ne,E(ie,te.prototype),ie.isPureReactComponent=!0;var fe=Array.isArray;function J(){}var X={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function ee(d,M,V){var $=V.ref;return{$$typeof:r,type:d,key:M,ref:$!==void 0?$:null,props:V}}function h(d,M){return ee(d.type,M,d.props)}function W(d){return typeof d=="object"&&d!==null&&d.$$typeof===r}function re(d){var M={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(V){return M[V]})}var Qe=/\/+/g;function he(d,M){return typeof d=="object"&&d!==null&&d.key!=null?re(""+d.key):M.toString(36)}function Le(d){switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:switch(typeof d.status=="string"?d.then(J,J):(d.status="pending",d.then(function(M){d.status==="pending"&&(d.status="fulfilled",d.value=M)},function(M){d.status==="pending"&&(d.status="rejected",d.reason=M)})),d.status){case"fulfilled":return d.value;case"rejected":throw d.reason}}throw d}function O(d,M,V,$,oe){var xe=typeof d;(xe==="undefined"||xe==="boolean")&&(d=null);var Ce=!1;if(d===null)Ce=!0;else switch(xe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(d.$$typeof){case r:case g:Ce=!0;break;case T:return Ce=d._init,O(Ce(d._payload),M,V,$,oe)}}if(Ce)return oe=oe(d),Ce=$===""?"."+he(d,0):$,fe(oe)?(V="",Ce!=null&&(V=Ce.replace(Qe,"$&/")+"/"),O(oe,M,V,"",function(el){return el})):oe!=null&&(W(oe)&&(oe=h(oe,V+(oe.key==null||d&&d.key===oe.key?"":(""+oe.key).replace(Qe,"$&/")+"/")+Ce)),M.push(oe)),1;Ce=0;var Pe=$===""?".":$+":";if(fe(d))for(var Re=0;Re<d.length;Re++)$=d[Re],xe=Pe+he($,Re),Ce+=O($,M,V,xe,oe);else if(Re=K(d),typeof Re=="function")for(d=Re.call(d),Re=0;!($=d.next()).done;)$=$.value,xe=Pe+he($,Re++),Ce+=O($,M,V,xe,oe);else if(xe==="object"){if(typeof d.then=="function")return O(Le(d),M,V,$,oe);throw M=String(d),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function k(d,M,V){if(d==null)return d;var $=[],oe=0;return O(d,$,"","",function(xe){return M.call(V,xe,oe++)}),$}function P(d){if(d._status===-1){var M=d._result;M=M(),M.then(function(V){(d._status===0||d._status===-1)&&(d._status=1,d._result=V)},function(V){(d._status===0||d._status===-1)&&(d._status=2,d._result=V)}),d._status===-1&&(d._status=0,d._result=M)}if(d._status===1)return d._result.default;throw d._result}var ve=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Se={map:k,forEach:function(d,M,V){k(d,function(){M.apply(this,arguments)},V)},count:function(d){var M=0;return k(d,function(){M++}),M},toArray:function(d){return k(d,function(M){return M})||[]},only:function(d){if(!W(d))throw Error("React.Children.only expected to receive a single React element child.");return d}};return ye.Activity=G,ye.Children=Se,ye.Component=te,ye.Fragment=y,ye.Profiler=p,ye.PureComponent=ne,ye.StrictMode=o,ye.Suspense=v,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ye.__COMPILER_RUNTIME={__proto__:null,c:function(d){return X.H.useMemoCache(d)}},ye.cache=function(d){return function(){return d.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(d,M,V){if(d==null)throw Error("The argument must be a React element, but you passed "+d+".");var $=E({},d.props),oe=d.key;if(M!=null)for(xe in M.key!==void 0&&(oe=""+M.key),M)!z.call(M,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&M.ref===void 0||($[xe]=M[xe]);var xe=arguments.length-2;if(xe===1)$.children=V;else if(1<xe){for(var Ce=Array(xe),Pe=0;Pe<xe;Pe++)Ce[Pe]=arguments[Pe+2];$.children=Ce}return ee(d.type,oe,$)},ye.createContext=function(d){return d={$$typeof:U,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null},d.Provider=d,d.Consumer={$$typeof:C,_context:d},d},ye.createElement=function(d,M,V){var $,oe={},xe=null;if(M!=null)for($ in M.key!==void 0&&(xe=""+M.key),M)z.call(M,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(oe[$]=M[$]);var Ce=arguments.length-2;if(Ce===1)oe.children=V;else if(1<Ce){for(var Pe=Array(Ce),Re=0;Re<Ce;Re++)Pe[Re]=arguments[Re+2];oe.children=Pe}if(d&&d.defaultProps)for($ in Ce=d.defaultProps,Ce)oe[$]===void 0&&(oe[$]=Ce[$]);return ee(d,xe,oe)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(d){return{$$typeof:A,render:d}},ye.isValidElement=W,ye.lazy=function(d){return{$$typeof:T,_payload:{_status:-1,_result:d},_init:P}},ye.memo=function(d,M){return{$$typeof:m,type:d,compare:M===void 0?null:M}},ye.startTransition=function(d){var M=X.T,V={};X.T=V;try{var $=d(),oe=X.S;oe!==null&&oe(V,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(J,ve)}catch(xe){ve(xe)}finally{M!==null&&V.types!==null&&(M.types=V.types),X.T=M}},ye.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ye.use=function(d){return X.H.use(d)},ye.useActionState=function(d,M,V){return X.H.useActionState(d,M,V)},ye.useCallback=function(d,M){return X.H.useCallback(d,M)},ye.useContext=function(d){return X.H.useContext(d)},ye.useDebugValue=function(){},ye.useDeferredValue=function(d,M){return X.H.useDeferredValue(d,M)},ye.useEffect=function(d,M){return X.H.useEffect(d,M)},ye.useEffectEvent=function(d){return X.H.useEffectEvent(d)},ye.useId=function(){return X.H.useId()},ye.useImperativeHandle=function(d,M,V){return X.H.useImperativeHandle(d,M,V)},ye.useInsertionEffect=function(d,M){return X.H.useInsertionEffect(d,M)},ye.useLayoutEffect=function(d,M){return X.H.useLayoutEffect(d,M)},ye.useMemo=function(d,M){return X.H.useMemo(d,M)},ye.useOptimistic=function(d,M){return X.H.useOptimistic(d,M)},ye.useReducer=function(d,M,V){return X.H.useReducer(d,M,V)},ye.useRef=function(d){return X.H.useRef(d)},ye.useState=function(d){return X.H.useState(d)},ye.useSyncExternalStore=function(d,M,V){return X.H.useSyncExternalStore(d,M,V)},ye.useTransition=function(){return X.H.useTransition()},ye.version="19.2.0",ye}var Pf;function Gc(){return Pf||(Pf=1,Lc.exports=Mg()),Lc.exports}var w=Gc(),Rc={exports:{}},Pn={},Bc={exports:{}},qc={};var em;function _g(){return em||(em=1,(function(r){function g(O,k){var P=O.length;O.push(k);e:for(;0<P;){var ve=P-1>>>1,Se=O[ve];if(0<p(Se,k))O[ve]=k,O[P]=Se,P=ve;else break e}}function y(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var k=O[0],P=O.pop();if(P!==k){O[0]=P;e:for(var ve=0,Se=O.length,d=Se>>>1;ve<d;){var M=2*(ve+1)-1,V=O[M],$=M+1,oe=O[$];if(0>p(V,P))$<Se&&0>p(oe,V)?(O[ve]=oe,O[$]=P,ve=$):(O[ve]=V,O[M]=P,ve=M);else if($<Se&&0>p(oe,P))O[ve]=oe,O[$]=P,ve=$;else break e}}return k}function p(O,k){var P=O.sortIndex-k.sortIndex;return P!==0?P:O.id-k.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var C=performance;r.unstable_now=function(){return C.now()}}else{var U=Date,A=U.now();r.unstable_now=function(){return U.now()-A}}var v=[],m=[],T=1,G=null,B=3,K=!1,Y=!1,E=!1,R=!1,te=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ie(O){for(var k=y(m);k!==null;){if(k.callback===null)o(m);else if(k.startTime<=O)o(m),k.sortIndex=k.expirationTime,g(v,k);else break;k=y(m)}}function fe(O){if(E=!1,ie(O),!Y)if(y(v)!==null)Y=!0,J||(J=!0,re());else{var k=y(m);k!==null&&Le(fe,k.startTime-O)}}var J=!1,X=-1,z=5,ee=-1;function h(){return R?!0:!(r.unstable_now()-ee<z)}function W(){if(R=!1,J){var O=r.unstable_now();ee=O;var k=!0;try{e:{Y=!1,E&&(E=!1,_(X),X=-1),K=!0;var P=B;try{t:{for(ie(O),G=y(v);G!==null&&!(G.expirationTime>O&&h());){var ve=G.callback;if(typeof ve=="function"){G.callback=null,B=G.priorityLevel;var Se=ve(G.expirationTime<=O);if(O=r.unstable_now(),typeof Se=="function"){G.callback=Se,ie(O),k=!0;break t}G===y(v)&&o(v),ie(O)}else o(v);G=y(v)}if(G!==null)k=!0;else{var d=y(m);d!==null&&Le(fe,d.startTime-O),k=!1}}break e}finally{G=null,B=P,K=!1}k=void 0}}finally{k?re():J=!1}}}var re;if(typeof ne=="function")re=function(){ne(W)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,he=Qe.port2;Qe.port1.onmessage=W,re=function(){he.postMessage(null)}}else re=function(){te(W,0)};function Le(O,k){X=te(function(){O(r.unstable_now())},k)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return B},r.unstable_next=function(O){switch(B){case 1:case 2:case 3:var k=3;break;default:k=B}var P=B;B=k;try{return O()}finally{B=P}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=B;B=O;try{return k()}finally{B=P}},r.unstable_scheduleCallback=function(O,k,P){var ve=r.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ve+P:ve):P=ve,O){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=P+Se,O={id:T++,callback:k,priorityLevel:O,startTime:P,expirationTime:Se,sortIndex:-1},P>ve?(O.sortIndex=P,g(m,O),y(v)===null&&O===y(m)&&(E?(_(X),X=-1):E=!0,Le(fe,P-ve))):(O.sortIndex=Se,g(v,O),Y||K||(Y=!0,J||(J=!0,re()))),O},r.unstable_shouldYield=h,r.unstable_wrapCallback=function(O){var k=B;return function(){var P=B;B=k;try{return O.apply(this,arguments)}finally{B=P}}}})(qc)),qc}var tm;function Ug(){return tm||(tm=1,Bc.exports=_g()),Bc.exports}var Qc={exports:{}},vt={};var lm;function Hg(){if(lm)return vt;lm=1;var r=Gc();function g(v){var m="https://react.dev/errors/"+v;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(){}var o={d:{f:y,r:function(){throw Error(g(522))},D:y,C:y,L:y,m:y,X:y,S:y,M:y},p:0,findDOMNode:null},p=Symbol.for("react.portal");function C(v,m,T){var G=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:G==null?null:""+G,children:v,containerInfo:m,implementation:T}}var U=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(v,m){if(v==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,vt.createPortal=function(v,m){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(g(299));return C(v,m,null,T)},vt.flushSync=function(v){var m=U.T,T=o.p;try{if(U.T=null,o.p=2,v)return v()}finally{U.T=m,o.p=T,o.d.f()}},vt.preconnect=function(v,m){typeof v=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(v,m))},vt.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},vt.preinit=function(v,m){if(typeof v=="string"&&m&&typeof m.as=="string"){var T=m.as,G=A(T,m.crossOrigin),B=typeof m.integrity=="string"?m.integrity:void 0,K=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;T==="style"?o.d.S(v,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:G,integrity:B,fetchPriority:K}):T==="script"&&o.d.X(v,{crossOrigin:G,integrity:B,fetchPriority:K,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},vt.preinitModule=function(v,m){if(typeof v=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var T=A(m.as,m.crossOrigin);o.d.M(v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(v)},vt.preload=function(v,m){if(typeof v=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var T=m.as,G=A(T,m.crossOrigin);o.d.L(v,T,{crossOrigin:G,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},vt.preloadModule=function(v,m){if(typeof v=="string")if(m){var T=A(m.as,m.crossOrigin);o.d.m(v,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(v)},vt.requestFormReset=function(v){o.d.r(v)},vt.unstable_batchedUpdates=function(v,m){return v(m)},vt.useFormState=function(v,m,T){return U.H.useFormState(v,m,T)},vt.useFormStatus=function(){return U.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var am;function Lg(){if(am)return Qc.exports;am=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(g){console.error(g)}}return r(),Qc.exports=Hg(),Qc.exports}var nm;function Rg(){if(nm)return Pn;nm=1;var r=Ug(),g=Gc(),y=Lg();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function C(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function U(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(C(e)!==e)throw Error(o(188))}function m(e){var t=e.alternate;if(!t){if(t=C(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return v(n),e;if(i===a)return v(n),t;i=i.sibling}throw Error(o(188))}if(l.return!==a.return)l=n,a=i;else{for(var u=!1,c=n.child;c;){if(c===l){u=!0,l=n,a=i;break}if(c===a){u=!0,a=n,l=i;break}c=c.sibling}if(!u){for(c=i.child;c;){if(c===l){u=!0,l=i,a=n;break}if(c===a){u=!0,a=i,l=n;break}c=c.sibling}if(!u)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var G=Object.assign,B=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),h=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function he(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case te:return"Profiler";case R:return"StrictMode";case fe:return"Suspense";case J:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Y:return"Portal";case ne:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:he(e.type)||"Memo";case z:t=e._payload,e=e._init;try{return he(e(t))}catch{}}return null}var Le=Array.isArray,O=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=y.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ve=[],Se=-1;function d(e){return{current:e}}function M(e){0>Se||(e.current=ve[Se],ve[Se]=null,Se--)}function V(e,t){Se++,ve[Se]=e.current,e.current=t}var $=d(null),oe=d(null),xe=d(null),Ce=d(null);function Pe(e,t){switch(V(xe,t),V(oe,e),V($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bf(t),e=vf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M($),V($,e)}function Re(){M($),M(oe),M(xe)}function el(e){e.memoizedState!==null&&V(Ce,e);var t=$.current,l=vf(t,e.type);t!==l&&(V(oe,e),V($,l))}function kt(e){oe.current===e&&(M($),M(oe)),Ce.current===e&&(M(Ce),Jn._currentValue=P)}var _t,tl;function Ut(e){if(_t===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);_t=t&&t[1]||"",tl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+e+tl}var le=!1;function pe(e,t){if(!e||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(D){var S=D}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(D){S=D}e.call(Q.prototype)}}else{try{throw Error()}catch(D){S=D}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(D){if(D&&S&&typeof D.stack=="string")return[D.stack,S.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),u=i[0],c=i[1];if(u&&c){var f=u.split(`
`),j=c.split(`
`);for(n=a=0;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;for(;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;if(a===f.length||n===j.length)for(a=f.length-1,n=j.length-1;1<=a&&0<=n&&f[a]!==j[n];)n--;for(;1<=a&&0<=n;a--,n--)if(f[a]!==j[n]){if(a!==1||n!==1)do if(a--,n--,0>n||f[a]!==j[n]){var L=`
`+f[a].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=a&&0<=n);break}}}finally{le=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Ut(l):""}function Nt(e,t){switch(e.tag){case 26:case 27:case 5:return Ut(e.type);case 16:return Ut("Lazy");case 13:return e.child!==t&&t!==null?Ut("Suspense Fallback"):Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 15:return pe(e.type,!1);case 11:return pe(e.type.render,!1);case 1:return pe(e.type,!0);case 31:return Ut("Activity");default:return""}}function jt(e){try{var t="",l=null;do t+=Nt(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Z=Object.prototype.hasOwnProperty,F=r.unstable_scheduleCallback,I=r.unstable_cancelCallback,ue=r.unstable_shouldYield,ll=r.unstable_requestPaint,we=r.unstable_now,aa=r.unstable_getCurrentPriorityLevel,je=r.unstable_ImmediatePriority,ul=r.unstable_UserBlockingPriority,Xe=r.unstable_NormalPriority,ml=r.unstable_LowPriority,Ee=r.unstable_IdlePriority,H=r.log,me=r.unstable_setDisableYieldValue,Ze=null,Fe=null;function pt(e){if(typeof H=="function"&&me(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Ze,e)}catch{}}var lt=Math.clz32?Math.clz32:cl,gl=Math.log,We=Math.LN2;function cl(e){return e>>>=0,e===0?32:31-(gl(e)/We|0)|0}var ge=256,ot=262144,bt=4194304;function na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function es(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var c=a&134217727;return c!==0?(a=c&~i,a!==0?n=na(a):(u&=c,u!==0?n=na(u):l||(l=c&~e,l!==0&&(n=na(l))))):(c=a&~i,c!==0?n=na(c):u!==0?n=na(u):l||(l=a&~e,l!==0&&(n=na(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function un(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ym(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var e=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),e}function Si(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function cn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pm(e,t,l,a,n,i){var u=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var c=e.entanglements,f=e.expirationTimes,j=e.hiddenUpdates;for(l=u&~l;0<l;){var L=31-lt(l),Q=1<<L;c[L]=0,f[L]=-1;var S=j[L];if(S!==null)for(j[L]=null,L=0;L<S.length;L++){var D=S[L];D!==null&&(D.lane&=-536870913)}l&=~Q}a!==0&&Pc(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(u&~t))}function Pc(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-lt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function er(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-lt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function tr(e,t){var l=t&-t;return l=(l&42)!==0?1:Ci(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ci(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ei(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lr(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:kf(e.type))}function ar(e,t){var l=k.p;try{return k.p=e,t()}finally{k.p=l}}var _l=Math.random().toString(36).slice(2),mt="__reactFiber$"+_l,Ct="__reactProps$"+_l,ja="__reactContainer$"+_l,Ai="__reactEvents$"+_l,bm="__reactListeners$"+_l,vm="__reactHandles$"+_l,nr="__reactResources$"+_l,rn="__reactMarker$"+_l;function Ti(e){delete e[mt],delete e[Ct],delete e[Ai],delete e[bm],delete e[vm]}function Sa(e){var t=e[mt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ja]||l[mt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Tf(e);e!==null;){if(l=e[mt])return l;e=Tf(e)}return t}e=l,l=e.parentNode}return null}function Ca(e){if(e=e[mt]||e[ja]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function on(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Ea(e){var t=e[nr];return t||(t=e[nr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[rn]=!0}var sr=new Set,ir={};function sa(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(ir[e]=t,e=0;e<t.length;e++)sr.add(t[e])}var Nm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ur={},cr={};function jm(e){return Z.call(cr,e)?!0:Z.call(ur,e)?!1:Nm.test(e)?cr[e]=!0:(ur[e]=!0,!1)}function ts(e,t,l){if(jm(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function ls(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function hl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sm(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(u){l=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(u){l=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wi(e){if(!e._valueTracker){var t=rr(e)?"checked":"value";e._valueTracker=Sm(e,t,""+e[t])}}function or(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=rr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function as(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cm=/[\n"\\]/g;function Zt(e){return e.replace(Cm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Di(e,t,l,a,n,i,u,c){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Xt(t)):e.value!==""+Xt(t)&&(e.value=""+Xt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?zi(e,u,Xt(t)):l!=null?zi(e,u,Xt(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+Xt(c):e.removeAttribute("name")}function dr(e,t,l,a,n,i,u,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){wi(e);return}l=l!=null?""+Xt(l):"",t=t!=null?""+Xt(t):l,c||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=c?e.checked:!!a,e.defaultChecked=!!a,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),wi(e)}function zi(e,t,l){t==="number"&&as(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ta(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Xt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function fr(e,t,l){if(t!=null&&(t=""+Xt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Xt(l):""}function mr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(Le(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Xt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),wi(e)}function wa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Em=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Em.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function hr(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&gr(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&gr(e,i,t[i])}function Oi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Am=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(e){return Tm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xl(){}var Mi=null;function _i(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,za=null;function xr(e){var t=Ca(e);if(t&&(e=t.stateNode)){var l=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(Di(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Ct]||null;if(!n)throw Error(o(90));Di(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&or(a)}break e;case"textarea":fr(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ta(e,!!l.multiple,t,!1)}}}var Ui=!1;function yr(e,t,l){if(Ui)return e(t,l);Ui=!0;try{var a=e(t);return a}finally{if(Ui=!1,(Da!==null||za!==null)&&(Zs(),Da&&(t=Da,e=za,za=Da=null,xr(t),e)))for(t=0;t<e.length;t++)xr(e[t])}}function dn(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Ct]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var yl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hi=!1;if(yl)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{Hi=!1}var Ul=null,Li=null,ss=null;function pr(){if(ss)return ss;var e,t=Li,l=t.length,a,n="value"in Ul?Ul.value:Ul.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var u=l-e;for(a=1;a<=u&&t[l-a]===n[i-a];a++);return ss=n.slice(e,1<a?1-a:void 0)}function is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function br(){return!1}function Et(e){function t(l,a,n,i,u){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(l=e[c],this[c]=l?l(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:br,this.isPropagationStopped=br,this}return G(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Et(ia),mn=G({},ia,{view:0,detail:0}),wm=Et(mn),Ri,Bi,gn,rs=G({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gn&&(gn&&e.type==="mousemove"?(Ri=e.screenX-gn.screenX,Bi=e.screenY-gn.screenY):Bi=Ri=0,gn=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:Bi}}),vr=Et(rs),Dm=G({},rs,{dataTransfer:0}),zm=Et(Dm),Om=G({},mn,{relatedTarget:0}),qi=Et(Om),Mm=G({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Et(Mm),Um=G({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hm=Et(Um),Lm=G({},ia,{data:0}),Nr=Et(Lm),Rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qm[e])?!!t[e]:!1}function Qi(){return Qm}var Ym=G({},mn,{key:function(e){if(e.key){var t=Rm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(e){return e.type==="keypress"?is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gm=Et(Ym),km=G({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jr=Et(km),Xm=G({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),Zm=Et(Xm),Vm=G({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Km=Et(Vm),Jm=G({},rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Im=Et(Jm),$m=G({},ia,{newState:0,oldState:0}),Fm=Et($m),Wm=[9,13,27,32],Yi=yl&&"CompositionEvent"in window,hn=null;yl&&"documentMode"in document&&(hn=document.documentMode);var Pm=yl&&"TextEvent"in window&&!hn,Sr=yl&&(!Yi||hn&&8<hn&&11>=hn),Cr=" ",Er=!1;function Ar(e,t){switch(e){case"keyup":return Wm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function e0(e,t){switch(e){case"compositionend":return Tr(t);case"keypress":return t.which!==32?null:(Er=!0,Cr);case"textInput":return e=t.data,e===Cr&&Er?null:e;default:return null}}function t0(e,t){if(Oa)return e==="compositionend"||!Yi&&Ar(e,t)?(e=pr(),ss=Li=Ul=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sr&&t.locale!=="ko"?null:t.data;default:return null}}var l0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!l0[e.type]:t==="textarea"}function Dr(e,t,l,a){Da?za?za.push(a):za=[a]:Da=a,t=Ws(t,"onChange"),0<t.length&&(l=new cs("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var xn=null,yn=null;function a0(e){mf(e,0)}function os(e){var t=on(e);if(or(t))return e}function zr(e,t){if(e==="change")return t}var Or=!1;if(yl){var Gi;if(yl){var ki="oninput"in document;if(!ki){var Mr=document.createElement("div");Mr.setAttribute("oninput","return;"),ki=typeof Mr.oninput=="function"}Gi=ki}else Gi=!1;Or=Gi&&(!document.documentMode||9<document.documentMode)}function _r(){xn&&(xn.detachEvent("onpropertychange",Ur),yn=xn=null)}function Ur(e){if(e.propertyName==="value"&&os(yn)){var t=[];Dr(t,yn,e,_i(e)),yr(a0,t)}}function n0(e,t,l){e==="focusin"?(_r(),xn=t,yn=l,xn.attachEvent("onpropertychange",Ur)):e==="focusout"&&_r()}function s0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return os(yn)}function i0(e,t){if(e==="click")return os(t)}function u0(e,t){if(e==="input"||e==="change")return os(t)}function c0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:c0;function pn(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Z.call(t,n)||!Ht(e[n],t[n]))return!1}return!0}function Hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lr(e,t){var l=Hr(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hr(l)}}function Rr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Br(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=as(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=as(e.document)}return t}function Xi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var r0=yl&&"documentMode"in document&&11>=document.documentMode,Ma=null,Zi=null,bn=null,Vi=!1;function qr(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Vi||Ma==null||Ma!==as(a)||(a=Ma,"selectionStart"in a&&Xi(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),bn&&pn(bn,a)||(bn=a,a=Ws(Zi,"onSelect"),0<a.length&&(t=new cs("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Ma)))}function ua(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var _a={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Ki={},Qr={};yl&&(Qr=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function ca(e){if(Ki[e])return Ki[e];if(!_a[e])return e;var t=_a[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Qr)return Ki[e]=t[l];return e}var Yr=ca("animationend"),Gr=ca("animationiteration"),kr=ca("animationstart"),o0=ca("transitionrun"),d0=ca("transitionstart"),f0=ca("transitioncancel"),Xr=ca("transitionend"),Zr=new Map,Ji="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ji.push("scrollEnd");function al(e,t){Zr.set(e,t),sa(t,[e])}var ds=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],Ua=0,Ii=0;function fs(){for(var e=Ua,t=Ii=Ua=0;t<e;){var l=Vt[t];Vt[t++]=null;var a=Vt[t];Vt[t++]=null;var n=Vt[t];Vt[t++]=null;var i=Vt[t];if(Vt[t++]=null,a!==null&&n!==null){var u=a.pending;u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n}i!==0&&Vr(l,n,i)}}function ms(e,t,l,a){Vt[Ua++]=e,Vt[Ua++]=t,Vt[Ua++]=l,Vt[Ua++]=a,Ii|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function $i(e,t,l,a){return ms(e,t,l,a),gs(e)}function ra(e,t){return ms(e,null,null,t),gs(e)}function Vr(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-lt(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function gs(e){if(50<Yn)throw Yn=0,sc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ha={};function m0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,l,a){return new m0(e,t,l,a)}function Fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pl(e,t){var l=e.alternate;return l===null?(l=Lt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Kr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hs(e,t,l,a,n,i){var u=0;if(a=e,typeof e=="function")Fi(e)&&(u=1);else if(typeof e=="string")u=pg(e,l,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Lt(31,l,t,n),e.elementType=ee,e.lanes=i,e;case E:return oa(l.children,n,i,t);case R:u=8,n|=24;break;case te:return e=Lt(12,l,t,n|2),e.elementType=te,e.lanes=i,e;case fe:return e=Lt(13,l,t,n),e.elementType=fe,e.lanes=i,e;case J:return e=Lt(19,l,t,n),e.elementType=J,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:u=10;break e;case _:u=9;break e;case ie:u=11;break e;case X:u=14;break e;case z:u=16,a=null;break e}u=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Lt(u,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function oa(e,t,l,a){return e=Lt(7,e,a,t),e.lanes=l,e}function Wi(e,t,l){return e=Lt(6,e,null,t),e.lanes=l,e}function Jr(e){var t=Lt(18,null,null,0);return t.stateNode=e,t}function Pi(e,t,l){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ir=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var l=Ir.get(e);return l!==void 0?l:(t={value:e,source:t,stack:jt(t)},Ir.set(e,t),t)}return{value:e,source:t,stack:jt(t)}}var La=[],Ra=0,xs=null,vn=0,Jt=[],It=0,Hl=null,rl=1,ol="";function bl(e,t){La[Ra++]=vn,La[Ra++]=xs,xs=e,vn=t}function $r(e,t,l){Jt[It++]=rl,Jt[It++]=ol,Jt[It++]=Hl,Hl=e;var a=rl;e=ol;var n=32-lt(a)-1;a&=~(1<<n),l+=1;var i=32-lt(t)+n;if(30<i){var u=n-n%5;i=(a&(1<<u)-1).toString(32),a>>=u,n-=u,rl=1<<32-lt(t)+n|l<<n|a,ol=i+e}else rl=1<<i|l<<n|a,ol=e}function eu(e){e.return!==null&&(bl(e,1),$r(e,1,0))}function tu(e){for(;e===xs;)xs=La[--Ra],La[Ra]=null,vn=La[--Ra],La[Ra]=null;for(;e===Hl;)Hl=Jt[--It],Jt[It]=null,ol=Jt[--It],Jt[It]=null,rl=Jt[--It],Jt[It]=null}function Fr(e,t){Jt[It++]=rl,Jt[It++]=ol,Jt[It++]=Hl,rl=t.id,ol=t.overflow,Hl=e}var gt=null,Je=null,Oe=!1,Ll=null,$t=!1,lu=Error(o(519));function Rl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nn(Kt(t,e)),lu}function Wr(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[mt]=e,t[Ct]=a,l){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(l=0;l<kn.length;l++)Te(kn[l],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),dr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),mr(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||yf(t.textContent,l)?(a.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),a.onScroll!=null&&Te("scroll",t),a.onScrollEnd!=null&&Te("scrollend",t),a.onClick!=null&&(t.onclick=xl),t=!0):t=!1,t||Rl(e,!0)}function Pr(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:gt=gt.return}}function Ba(e){if(e!==gt)return!1;if(!Oe)return Pr(e),Oe=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||vc(e.type,e.memoizedProps)),l=!l),l&&Je&&Rl(e),Pr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Je=Af(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Je=Af(e)}else t===27?(t=Je,Fl(e.type)?(e=Ec,Ec=null,Je=e):Je=t):Je=gt?Wt(e.stateNode.nextSibling):null;return!0}function da(){Je=gt=null,Oe=!1}function au(){var e=Ll;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),Ll=null),e}function Nn(e){Ll===null?Ll=[e]:Ll.push(e)}var nu=d(null),fa=null,vl=null;function Bl(e,t,l){V(nu,t._currentValue),t._currentValue=l}function Nl(e){e._currentValue=nu.current,M(nu)}function su(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function iu(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var u=n.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=n;for(var f=0;f<t.length;f++)if(c.context===t[f]){i.lanes|=l,c=i.alternate,c!==null&&(c.lanes|=l),su(i.return,l,e),a||(u=null);break e}i=c.next}}else if(n.tag===18){if(u=n.return,u===null)throw Error(o(341));u.lanes|=l,i=u.alternate,i!==null&&(i.lanes|=l),su(u,l,e),u=null}else u=n.child;if(u!==null)u.return=n;else for(u=n;u!==null;){if(u===e){u=null;break}if(n=u.sibling,n!==null){n.return=u.return,u=n;break}u=u.return}n=u}}function qa(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var u=n.alternate;if(u===null)throw Error(o(387));if(u=u.memoizedProps,u!==null){var c=n.type;Ht(n.pendingProps.value,u.value)||(e!==null?e.push(c):e=[c])}}else if(n===Ce.current){if(u=n.alternate,u===null)throw Error(o(387));u.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Jn):e=[Jn])}n=n.return}e!==null&&iu(t,e,l,a),t.flags|=262144}function ys(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){fa=e,vl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return eo(fa,e)}function ps(e,t){return fa===null&&ma(e),eo(e,t)}function eo(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},vl===null){if(e===null)throw Error(o(308));vl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vl=vl.next=t;return l}var g0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},h0=r.unstable_scheduleCallback,x0=r.unstable_NormalPriority,st={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uu(){return{controller:new g0,data:new Map,refCount:0}}function jn(e){e.refCount--,e.refCount===0&&h0(x0,function(){e.controller.abort()})}var Sn=null,cu=0,Qa=0,Ya=null;function y0(e,t){if(Sn===null){var l=Sn=[];cu=0,Qa=dc(),Ya={status:"pending",value:void 0,then:function(a){l.push(a)}}}return cu++,t.then(to,to),t}function to(){if(--cu===0&&Sn!==null){Ya!==null&&(Ya.status="fulfilled");var e=Sn;Sn=null,Qa=0,Ya=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function p0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var lo=O.S;O.S=function(e,t){Qd=we(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&y0(e,t),lo!==null&&lo(e,t)};var ga=d(null);function ru(){var e=ga.current;return e!==null?e:Ve.pooledCache}function bs(e,t){t===null?V(ga,ga.current):V(ga,t.pool)}function ao(){var e=ru();return e===null?null:{parent:st._currentValue,pool:e}}var Ga=Error(o(460)),ou=Error(o(474)),vs=Error(o(542)),Ns={then:function(){}};function no(e){return e=e.status,e==="fulfilled"||e==="rejected"}function so(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(xl,xl),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uo(e),e;default:if(typeof t.status=="string")t.then(xl,xl);else{if(e=Ve,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,uo(e),e}throw xa=t,Ga}}function ha(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(xa=l,Ga):l}}var xa=null;function io(){if(xa===null)throw Error(o(459));var e=xa;return xa=null,e}function uo(e){if(e===Ga||e===vs)throw Error(o(483))}var ka=null,Cn=0;function js(e){var t=Cn;return Cn+=1,ka===null&&(ka=[]),so(ka,e,t)}function En(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ss(e,t){throw t.$$typeof===B?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function co(e){function t(b,x){if(e){var N=b.deletions;N===null?(b.deletions=[x],b.flags|=16):N.push(x)}}function l(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function a(b){for(var x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function n(b,x){return b=pl(b,x),b.index=0,b.sibling=null,b}function i(b,x,N){return b.index=N,e?(N=b.alternate,N!==null?(N=N.index,N<x?(b.flags|=67108866,x):N):(b.flags|=67108866,x)):(b.flags|=1048576,x)}function u(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function c(b,x,N,q){return x===null||x.tag!==6?(x=Wi(N,b.mode,q),x.return=b,x):(x=n(x,N),x.return=b,x)}function f(b,x,N,q){var ce=N.type;return ce===E?L(b,x,N.props.children,q,N.key):x!==null&&(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===z&&ha(ce)===x.type)?(x=n(x,N.props),En(x,N),x.return=b,x):(x=hs(N.type,N.key,N.props,null,b.mode,q),En(x,N),x.return=b,x)}function j(b,x,N,q){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Pi(N,b.mode,q),x.return=b,x):(x=n(x,N.children||[]),x.return=b,x)}function L(b,x,N,q,ce){return x===null||x.tag!==7?(x=oa(N,b.mode,q,ce),x.return=b,x):(x=n(x,N),x.return=b,x)}function Q(b,x,N){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Wi(""+x,b.mode,N),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case K:return N=hs(x.type,x.key,x.props,null,b.mode,N),En(N,x),N.return=b,N;case Y:return x=Pi(x,b.mode,N),x.return=b,x;case z:return x=ha(x),Q(b,x,N)}if(Le(x)||re(x))return x=oa(x,b.mode,N,null),x.return=b,x;if(typeof x.then=="function")return Q(b,js(x),N);if(x.$$typeof===ne)return Q(b,ps(b,x),N);Ss(b,x)}return null}function S(b,x,N,q){var ce=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ce!==null?null:c(b,x,""+N,q);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case K:return N.key===ce?f(b,x,N,q):null;case Y:return N.key===ce?j(b,x,N,q):null;case z:return N=ha(N),S(b,x,N,q)}if(Le(N)||re(N))return ce!==null?null:L(b,x,N,q,null);if(typeof N.then=="function")return S(b,x,js(N),q);if(N.$$typeof===ne)return S(b,x,ps(b,N),q);Ss(b,N)}return null}function D(b,x,N,q,ce){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return b=b.get(N)||null,c(x,b,""+q,ce);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case K:return b=b.get(q.key===null?N:q.key)||null,f(x,b,q,ce);case Y:return b=b.get(q.key===null?N:q.key)||null,j(x,b,q,ce);case z:return q=ha(q),D(b,x,N,q,ce)}if(Le(q)||re(q))return b=b.get(N)||null,L(x,b,q,ce,null);if(typeof q.then=="function")return D(b,x,N,js(q),ce);if(q.$$typeof===ne)return D(b,x,N,ps(x,q),ce);Ss(x,q)}return null}function ae(b,x,N,q){for(var ce=null,Me=null,se=x,Ne=x=0,ze=null;se!==null&&Ne<N.length;Ne++){se.index>Ne?(ze=se,se=null):ze=se.sibling;var _e=S(b,se,N[Ne],q);if(_e===null){se===null&&(se=ze);break}e&&se&&_e.alternate===null&&t(b,se),x=i(_e,x,Ne),Me===null?ce=_e:Me.sibling=_e,Me=_e,se=ze}if(Ne===N.length)return l(b,se),Oe&&bl(b,Ne),ce;if(se===null){for(;Ne<N.length;Ne++)se=Q(b,N[Ne],q),se!==null&&(x=i(se,x,Ne),Me===null?ce=se:Me.sibling=se,Me=se);return Oe&&bl(b,Ne),ce}for(se=a(se);Ne<N.length;Ne++)ze=D(se,b,Ne,N[Ne],q),ze!==null&&(e&&ze.alternate!==null&&se.delete(ze.key===null?Ne:ze.key),x=i(ze,x,Ne),Me===null?ce=ze:Me.sibling=ze,Me=ze);return e&&se.forEach(function(la){return t(b,la)}),Oe&&bl(b,Ne),ce}function de(b,x,N,q){if(N==null)throw Error(o(151));for(var ce=null,Me=null,se=x,Ne=x=0,ze=null,_e=N.next();se!==null&&!_e.done;Ne++,_e=N.next()){se.index>Ne?(ze=se,se=null):ze=se.sibling;var la=S(b,se,_e.value,q);if(la===null){se===null&&(se=ze);break}e&&se&&la.alternate===null&&t(b,se),x=i(la,x,Ne),Me===null?ce=la:Me.sibling=la,Me=la,se=ze}if(_e.done)return l(b,se),Oe&&bl(b,Ne),ce;if(se===null){for(;!_e.done;Ne++,_e=N.next())_e=Q(b,_e.value,q),_e!==null&&(x=i(_e,x,Ne),Me===null?ce=_e:Me.sibling=_e,Me=_e);return Oe&&bl(b,Ne),ce}for(se=a(se);!_e.done;Ne++,_e=N.next())_e=D(se,b,Ne,_e.value,q),_e!==null&&(e&&_e.alternate!==null&&se.delete(_e.key===null?Ne:_e.key),x=i(_e,x,Ne),Me===null?ce=_e:Me.sibling=_e,Me=_e);return e&&se.forEach(function(Dg){return t(b,Dg)}),Oe&&bl(b,Ne),ce}function ke(b,x,N,q){if(typeof N=="object"&&N!==null&&N.type===E&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case K:e:{for(var ce=N.key;x!==null;){if(x.key===ce){if(ce=N.type,ce===E){if(x.tag===7){l(b,x.sibling),q=n(x,N.props.children),q.return=b,b=q;break e}}else if(x.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===z&&ha(ce)===x.type){l(b,x.sibling),q=n(x,N.props),En(q,N),q.return=b,b=q;break e}l(b,x);break}else t(b,x);x=x.sibling}N.type===E?(q=oa(N.props.children,b.mode,q,N.key),q.return=b,b=q):(q=hs(N.type,N.key,N.props,null,b.mode,q),En(q,N),q.return=b,b=q)}return u(b);case Y:e:{for(ce=N.key;x!==null;){if(x.key===ce)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){l(b,x.sibling),q=n(x,N.children||[]),q.return=b,b=q;break e}else{l(b,x);break}else t(b,x);x=x.sibling}q=Pi(N,b.mode,q),q.return=b,b=q}return u(b);case z:return N=ha(N),ke(b,x,N,q)}if(Le(N))return ae(b,x,N,q);if(re(N)){if(ce=re(N),typeof ce!="function")throw Error(o(150));return N=ce.call(N),de(b,x,N,q)}if(typeof N.then=="function")return ke(b,x,js(N),q);if(N.$$typeof===ne)return ke(b,x,ps(b,N),q);Ss(b,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,x!==null&&x.tag===6?(l(b,x.sibling),q=n(x,N),q.return=b,b=q):(l(b,x),q=Wi(N,b.mode,q),q.return=b,b=q),u(b)):l(b,x)}return function(b,x,N,q){try{Cn=0;var ce=ke(b,x,N,q);return ka=null,ce}catch(se){if(se===Ga||se===vs)throw se;var Me=Lt(29,se,null,b.mode);return Me.lanes=q,Me.return=b,Me}finally{}}}var ya=co(!0),ro=co(!1),ql=!1;function du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ql(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ue&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=gs(e),Vr(e,null,l),t}return ms(e,a,t,l),gs(e)}function An(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,er(e,l)}}function mu(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var u={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=u:i=i.next=u,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var gu=!1;function Tn(){if(gu){var e=Ya;if(e!==null)throw e}}function wn(e,t,l,a){gu=!1;var n=e.updateQueue;ql=!1;var i=n.firstBaseUpdate,u=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var f=c,j=f.next;f.next=null,u===null?i=j:u.next=j,u=f;var L=e.alternate;L!==null&&(L=L.updateQueue,c=L.lastBaseUpdate,c!==u&&(c===null?L.firstBaseUpdate=j:c.next=j,L.lastBaseUpdate=f))}if(i!==null){var Q=n.baseState;u=0,L=j=f=null,c=i;do{var S=c.lane&-536870913,D=S!==c.lane;if(D?(De&S)===S:(a&S)===S){S!==0&&S===Qa&&(gu=!0),L!==null&&(L=L.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var ae=e,de=c;S=t;var ke=l;switch(de.tag){case 1:if(ae=de.payload,typeof ae=="function"){Q=ae.call(ke,Q,S);break e}Q=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=de.payload,S=typeof ae=="function"?ae.call(ke,Q,S):ae,S==null)break e;Q=G({},Q,S);break e;case 2:ql=!0}}S=c.callback,S!==null&&(e.flags|=64,D&&(e.flags|=8192),D=n.callbacks,D===null?n.callbacks=[S]:D.push(S))}else D={lane:S,tag:c.tag,payload:c.payload,callback:c.callback,next:null},L===null?(j=L=D,f=Q):L=L.next=D,u|=S;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;D=c,c=D.next,D.next=null,n.lastBaseUpdate=D,n.shared.pending=null}}while(!0);L===null&&(f=Q),n.baseState=f,n.firstBaseUpdate=j,n.lastBaseUpdate=L,i===null&&(n.shared.lanes=0),Vl|=u,e.lanes=u,e.memoizedState=Q}}function oo(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function fo(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)oo(l[e],t)}var Xa=d(null),Cs=d(0);function mo(e,t){e=zl,V(Cs,e),V(Xa,t),zl=e|t.baseLanes}function hu(){V(Cs,zl),V(Xa,Xa.current)}function xu(){zl=Cs.current,M(Xa),M(Cs)}var Rt=d(null),Ft=null;function Gl(e){var t=e.alternate;V(at,at.current&1),V(Rt,e),Ft===null&&(t===null||Xa.current!==null||t.memoizedState!==null)&&(Ft=e)}function yu(e){V(at,at.current),V(Rt,e),Ft===null&&(Ft=e)}function go(e){e.tag===22?(V(at,at.current),V(Rt,e),Ft===null&&(Ft=e)):kl()}function kl(){V(at,at.current),V(Rt,Rt.current)}function Bt(e){M(Rt),Ft===e&&(Ft=null),M(at)}var at=d(0);function Es(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Sc(l)||Cc(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jl=0,be=null,Ye=null,it=null,As=!1,Za=!1,pa=!1,Ts=0,Dn=0,Va=null,b0=0;function et(){throw Error(o(321))}function pu(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Ht(e[l],t[l]))return!1;return!0}function bu(e,t,l,a,n,i){return jl=i,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Fo:Uu,pa=!1,i=l(a,n),pa=!1,Za&&(i=xo(t,l,a,n)),ho(e),i}function ho(e){O.H=Mn;var t=Ye!==null&&Ye.next!==null;if(jl=0,it=Ye=be=null,As=!1,Dn=0,Va=null,t)throw Error(o(300));e===null||ut||(e=e.dependencies,e!==null&&ys(e)&&(ut=!0))}function xo(e,t,l,a){be=e;var n=0;do{if(Za&&(Va=null),Dn=0,Za=!1,25<=n)throw Error(o(301));if(n+=1,it=Ye=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=Wo,i=t(l,a)}while(Za);return i}function v0(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?zn(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(be.flags|=1024),t}function vu(){var e=Ts!==0;return Ts=0,e}function Nu(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function ju(e){if(As){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}As=!1}jl=0,it=Ye=be=null,Za=!1,Dn=Ts=0,Va=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?be.memoizedState=it=e:it=it.next=e,it}function nt(){if(Ye===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=it===null?be.memoizedState:it.next;if(t!==null)it=t,Ye=e;else{if(e===null)throw be.alternate===null?Error(o(467)):Error(o(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},it===null?be.memoizedState=it=e:it=it.next=e}return it}function ws(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zn(e){var t=Dn;return Dn+=1,Va===null&&(Va=[]),e=so(Va,e,t),t=be,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Fo:Uu),e}function Ds(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zn(e);if(e.$$typeof===ne)return ht(e)}throw Error(o(438,String(e)))}function Su(e){var t=null,l=be.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=be.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=ws(),be.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=h;return t.index++,l}function Sl(e,t){return typeof t=="function"?t(e):t}function zs(e){var t=nt();return Cu(t,Ye,e)}function Cu(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var u=n.next;n.next=i.next,i.next=u}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var c=u=null,f=null,j=t,L=!1;do{var Q=j.lane&-536870913;if(Q!==j.lane?(De&Q)===Q:(jl&Q)===Q){var S=j.revertLane;if(S===0)f!==null&&(f=f.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Q===Qa&&(L=!0);else if((jl&S)===S){j=j.next,S===Qa&&(L=!0);continue}else Q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},f===null?(c=f=Q,u=i):f=f.next=Q,be.lanes|=S,Vl|=S;Q=j.action,pa&&l(i,Q),i=j.hasEagerState?j.eagerState:l(i,Q)}else S={lane:Q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},f===null?(c=f=S,u=i):f=f.next=S,be.lanes|=Q,Vl|=Q;j=j.next}while(j!==null&&j!==t);if(f===null?u=i:f.next=c,!Ht(i,e.memoizedState)&&(ut=!0,L&&(l=Ya,l!==null)))throw l;e.memoizedState=i,e.baseState=u,e.baseQueue=f,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Eu(e){var t=nt(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var u=n=n.next;do i=e(i,u.action),u=u.next;while(u!==n);Ht(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function yo(e,t,l){var a=be,n=nt(),i=Oe;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var u=!Ht((Ye||n).memoizedState,l);if(u&&(n.memoizedState=l,ut=!0),n=n.queue,wu(vo.bind(null,a,n,e),[e]),n.getSnapshot!==t||u||it!==null&&it.memoizedState.tag&1){if(a.flags|=2048,Ka(9,{destroy:void 0},bo.bind(null,a,n,l,t),null),Ve===null)throw Error(o(349));i||(jl&127)!==0||po(a,t,l)}return l}function po(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=be.updateQueue,t===null?(t=ws(),be.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function bo(e,t,l,a){t.value=l,t.getSnapshot=a,No(t)&&jo(e)}function vo(e,t,l){return l(function(){No(t)&&jo(e)})}function No(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Ht(e,l)}catch{return!0}}function jo(e){var t=ra(e,2);t!==null&&zt(t,e,2)}function Au(e){var t=St();if(typeof e=="function"){var l=e;if(e=l(),pa){pt(!0);try{l()}finally{pt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:e},t}function So(e,t,l,a){return e.baseState=l,Cu(e,Ye,typeof a=="function"?a:Sl)}function N0(e,t,l,a,n){if(_s(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){i.listeners.push(u)}};O.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Co(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Co(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=O.T,u={};O.T=u;try{var c=l(n,a),f=O.S;f!==null&&f(u,c),Eo(e,t,c)}catch(j){Tu(e,t,j)}finally{i!==null&&u.types!==null&&(i.types=u.types),O.T=i}}else try{i=l(n,a),Eo(e,t,i)}catch(j){Tu(e,t,j)}}function Eo(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Ao(e,t,a)},function(a){return Tu(e,t,a)}):Ao(e,t,l)}function Ao(e,t,l){t.status="fulfilled",t.value=l,To(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Co(e,l)))}function Tu(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,To(t),t=t.next;while(t!==a)}e.action=null}function To(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wo(e,t){return t}function Do(e,t){if(Oe){var l=Ve.formState;if(l!==null){e:{var a=be;if(Oe){if(Je){t:{for(var n=Je,i=$t;n.nodeType!==8;){if(!i){n=null;break t}if(n=Wt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Je=Wt(n.nextSibling),a=n.data==="F!";break e}}Rl(a)}a=!1}a&&(t=l[0])}}return l=St(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},l.queue=a,l=Jo.bind(null,be,a),a.dispatch=l,a=Au(!1),i=_u.bind(null,be,!1,a.queue),a=St(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=N0.bind(null,be,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function zo(e){var t=nt();return Oo(t,Ye,e)}function Oo(e,t,l){if(t=Cu(e,t,wo)[0],e=zs(Sl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=zn(t)}catch(u){throw u===Ga?vs:u}else a=t;t=nt();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(be.flags|=2048,Ka(9,{destroy:void 0},j0.bind(null,n,l),null)),[a,i,e]}function j0(e,t){e.action=t}function Mo(e){var t=nt(),l=Ye;if(l!==null)return Oo(t,l,e);nt(),t=t.memoizedState,l=nt();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Ka(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=be.updateQueue,t===null&&(t=ws(),be.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function _o(){return nt().memoizedState}function Os(e,t,l,a){var n=St();be.flags|=e,n.memoizedState=Ka(1|t,{destroy:void 0},l,a===void 0?null:a)}function Ms(e,t,l,a){var n=nt();a=a===void 0?null:a;var i=n.memoizedState.inst;Ye!==null&&a!==null&&pu(a,Ye.memoizedState.deps)?n.memoizedState=Ka(t,i,l,a):(be.flags|=e,n.memoizedState=Ka(1|t,i,l,a))}function Uo(e,t){Os(8390656,8,e,t)}function wu(e,t){Ms(2048,8,e,t)}function S0(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=ws(),be.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Ho(e){var t=nt().memoizedState;return S0({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Lo(e,t){return Ms(4,2,e,t)}function Ro(e,t){return Ms(4,4,e,t)}function Bo(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qo(e,t,l){l=l!=null?l.concat([e]):null,Ms(4,4,Bo.bind(null,t,e),l)}function Du(){}function Qo(e,t){var l=nt();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&pu(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Yo(e,t){var l=nt();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&pu(t,a[1]))return a[0];if(a=e(),pa){pt(!0);try{e()}finally{pt(!1)}}return l.memoizedState=[a,t],a}function zu(e,t,l){return l===void 0||(jl&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Gd(),be.lanes|=e,Vl|=e,l)}function Go(e,t,l,a){return Ht(l,t)?l:Xa.current!==null?(e=zu(e,l,a),Ht(e,t)||(ut=!0),e):(jl&42)===0||(jl&1073741824)!==0&&(De&261930)===0?(ut=!0,e.memoizedState=l):(e=Gd(),be.lanes|=e,Vl|=e,t)}function ko(e,t,l,a,n){var i=k.p;k.p=i!==0&&8>i?i:8;var u=O.T,c={};O.T=c,_u(e,!1,t,l);try{var f=n(),j=O.S;if(j!==null&&j(c,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var L=p0(f,a);On(e,t,L,Yt(e))}else On(e,t,a,Yt(e))}catch(Q){On(e,t,{then:function(){},status:"rejected",reason:Q},Yt())}finally{k.p=i,u!==null&&c.types!==null&&(u.types=c.types),O.T=u}}function C0(){}function Ou(e,t,l,a){if(e.tag!==5)throw Error(o(476));var n=Xo(e).queue;ko(e,n,t,P,l===null?C0:function(){return Zo(e),l(a)})}function Xo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:P},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zo(e){var t=Xo(e);t.next===null&&(t=e.alternate.memoizedState),On(e,t.next.queue,{},Yt())}function Mu(){return ht(Jn)}function Vo(){return nt().memoizedState}function Ko(){return nt().memoizedState}function E0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Yt();e=Ql(l);var a=Yl(t,e,l);a!==null&&(zt(a,t,l),An(a,t,l)),t={cache:uu()},e.payload=t;return}t=t.return}}function A0(e,t,l){var a=Yt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_s(e)?Io(t,l):(l=$i(e,t,l,a),l!==null&&(zt(l,e,a),$o(l,t,a)))}function Jo(e,t,l){var a=Yt();On(e,t,l,a)}function On(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_s(e))Io(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,c=i(u,l);if(n.hasEagerState=!0,n.eagerState=c,Ht(c,u))return ms(e,t,n,0),Ve===null&&fs(),!1}catch{}finally{}if(l=$i(e,t,n,a),l!==null)return zt(l,e,a),$o(l,t,a),!0}return!1}function _u(e,t,l,a){if(a={lane:2,revertLane:dc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_s(e)){if(t)throw Error(o(479))}else t=$i(e,l,a,2),t!==null&&zt(t,e,2)}function _s(e){var t=e.alternate;return e===be||t!==null&&t===be}function Io(e,t){Za=As=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function $o(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,er(e,l)}}var Mn={readContext:ht,use:Ds,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};Mn.useEffectEvent=et;var Fo={readContext:ht,use:Ds,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Uo,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Os(4194308,4,Bo.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){Os(4,2,e,t)},useMemo:function(e,t){var l=St();t=t===void 0?null:t;var a=e();if(pa){pt(!0);try{e()}finally{pt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=St();if(l!==void 0){var n=l(t);if(pa){pt(!0);try{l(t)}finally{pt(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=A0.bind(null,be,e),[a.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Au(e);var t=e.queue,l=Jo.bind(null,be,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Du,useDeferredValue:function(e,t){var l=St();return zu(l,e,t)},useTransition:function(){var e=Au(!1);return e=ko.bind(null,be,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=be,n=St();if(Oe){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Ve===null)throw Error(o(349));(De&127)!==0||po(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Uo(vo.bind(null,a,i,e),[e]),a.flags|=2048,Ka(9,{destroy:void 0},bo.bind(null,a,i,l,t),null),l},useId:function(){var e=St(),t=Ve.identifierPrefix;if(Oe){var l=ol,a=rl;l=(a&~(1<<32-lt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Ts++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=b0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Mu,useFormState:Do,useActionState:Do,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=_u.bind(null,be,!0,l),l.dispatch=t,[e,t]},useMemoCache:Su,useCacheRefresh:function(){return St().memoizedState=E0.bind(null,be)},useEffectEvent:function(e){var t=St(),l={impl:e};return t.memoizedState=l,function(){if((Ue&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Uu={readContext:ht,use:Ds,useCallback:Qo,useContext:ht,useEffect:wu,useImperativeHandle:qo,useInsertionEffect:Lo,useLayoutEffect:Ro,useMemo:Yo,useReducer:zs,useRef:_o,useState:function(){return zs(Sl)},useDebugValue:Du,useDeferredValue:function(e,t){var l=nt();return Go(l,Ye.memoizedState,e,t)},useTransition:function(){var e=zs(Sl)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:zn(e),t]},useSyncExternalStore:yo,useId:Vo,useHostTransitionStatus:Mu,useFormState:zo,useActionState:zo,useOptimistic:function(e,t){var l=nt();return So(l,Ye,e,t)},useMemoCache:Su,useCacheRefresh:Ko};Uu.useEffectEvent=Ho;var Wo={readContext:ht,use:Ds,useCallback:Qo,useContext:ht,useEffect:wu,useImperativeHandle:qo,useInsertionEffect:Lo,useLayoutEffect:Ro,useMemo:Yo,useReducer:Eu,useRef:_o,useState:function(){return Eu(Sl)},useDebugValue:Du,useDeferredValue:function(e,t){var l=nt();return Ye===null?zu(l,e,t):Go(l,Ye.memoizedState,e,t)},useTransition:function(){var e=Eu(Sl)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:zn(e),t]},useSyncExternalStore:yo,useId:Vo,useHostTransitionStatus:Mu,useFormState:Mo,useActionState:Mo,useOptimistic:function(e,t){var l=nt();return Ye!==null?So(l,Ye,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Su,useCacheRefresh:Ko};Wo.useEffectEvent=Ho;function Hu(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:G({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lu={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Yt(),n=Ql(a);n.payload=t,l!=null&&(n.callback=l),t=Yl(e,n,a),t!==null&&(zt(t,e,a),An(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Yt(),n=Ql(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Yl(e,n,a),t!==null&&(zt(t,e,a),An(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Yt(),a=Ql(l);a.tag=2,t!=null&&(a.callback=t),t=Yl(e,a,l),t!==null&&(zt(t,e,l),An(t,e,l))}};function Po(e,t,l,a,n,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,u):t.prototype&&t.prototype.isPureReactComponent?!pn(l,a)||!pn(n,i):!0}function ed(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Lu.enqueueReplaceState(t,t.state,null)}function ba(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=G({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function td(e){ds(e)}function ld(e){console.error(e)}function ad(e){ds(e)}function Us(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function nd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ru(e,t,l){return l=Ql(l),l.tag=3,l.payload={element:null},l.callback=function(){Us(e,t)},l}function sd(e){return e=Ql(e),e.tag=3,e}function id(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){nd(t,l,a)}}var u=l.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){nd(t,l,a),typeof n!="function"&&(Kl===null?Kl=new Set([this]):Kl.add(this));var c=a.stack;this.componentDidCatch(a.value,{componentStack:c!==null?c:""})})}function T0(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&qa(t,l,n,!0),l=Rt.current,l!==null){switch(l.tag){case 31:case 13:return Ft===null?Vs():l.alternate===null&&tt===0&&(tt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===Ns?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),cc(e,a,n)),!1;case 22:return l.flags|=65536,a===Ns?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),cc(e,a,n)),!1}throw Error(o(435,l.tag))}return cc(e,a,n),Vs(),!1}if(Oe)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==lu&&(e=Error(o(422),{cause:a}),Nn(Kt(e,l)))):(a!==lu&&(t=Error(o(423),{cause:a}),Nn(Kt(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Kt(a,l),n=Ru(e.stateNode,a,n),mu(e,n),tt!==4&&(tt=2)),!1;var i=Error(o(520),{cause:a});if(i=Kt(i,l),Qn===null?Qn=[i]:Qn.push(i),tt!==4&&(tt=2),t===null)return!0;a=Kt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Ru(l.stateNode,a,e),mu(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Kl===null||!Kl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=sd(n),id(n,e,l,a),mu(l,n),!1}l=l.return}while(l!==null);return!1}var Bu=Error(o(461)),ut=!1;function xt(e,t,l,a){t.child=e===null?ro(t,null,l,a):ya(t,e.child,l,a)}function ud(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var u={};for(var c in a)c!=="ref"&&(u[c]=a[c])}else u=a;return ma(t),a=bu(e,t,l,u,i,n),c=vu(),e!==null&&!ut?(Nu(e,t,n),Cl(e,t,n)):(Oe&&c&&eu(t),t.flags|=1,xt(e,t,a,n),t.child)}function cd(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Fi(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,rd(e,t,i,a,n)):(e=hs(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Vu(e,n)){var u=i.memoizedProps;if(l=l.compare,l=l!==null?l:pn,l(u,a)&&e.ref===t.ref)return Cl(e,t,n)}return t.flags|=1,e=pl(i,a),e.ref=t.ref,e.return=t,t.child=e}function rd(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(pn(i,a)&&e.ref===t.ref)if(ut=!1,t.pendingProps=a=i,Vu(e,n))(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Cl(e,t,n)}return qu(e,t,l,a,n)}function od(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return dd(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bs(t,i!==null?i.cachePool:null),i!==null?mo(t,i):hu(),go(t);else return a=t.lanes=536870912,dd(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(bs(t,i.cachePool),mo(t,i),kl(),t.memoizedState=null):(e!==null&&bs(t,null),hu(),kl());return xt(e,t,n,l),t.child}function _n(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dd(e,t,l,a,n){var i=ru();return i=i===null?null:{parent:st._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&bs(t,null),hu(),go(t),e!==null&&qa(e,t,a,!0),t.childLanes=n,null}function Hs(e,t){return t=Rs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fd(e,t,l){return ya(t,e.child,null,l),e=Hs(t,t.pendingProps),e.flags|=2,Bt(t),t.memoizedState=null,e}function w0(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(a.mode==="hidden")return e=Hs(t,a),t.lanes=536870912,_n(null,e);if(yu(t),(e=Je)?(e=Ef(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hl!==null?{id:rl,overflow:ol}:null,retryLane:536870912,hydrationErrors:null},l=Jr(e),l.return=t,t.child=l,gt=t,Je=null)):e=null,e===null)throw Rl(t);return t.lanes=536870912,null}return Hs(t,a)}var i=e.memoizedState;if(i!==null){var u=i.dehydrated;if(yu(t),n)if(t.flags&256)t.flags&=-257,t=fd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(ut||qa(e,t,l,!1),n=(l&e.childLanes)!==0,ut||n){if(a=Ve,a!==null&&(u=tr(a,l),u!==0&&u!==i.retryLane))throw i.retryLane=u,ra(e,u),zt(a,e,u),Bu;Vs(),t=fd(e,t,l)}else e=i.treeContext,Je=Wt(u.nextSibling),gt=t,Oe=!0,Ll=null,$t=!1,e!==null&&Fr(t,e),t=Hs(t,a),t.flags|=4096;return t}return e=pl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ls(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function qu(e,t,l,a,n){return ma(t),l=bu(e,t,l,a,void 0,n),a=vu(),e!==null&&!ut?(Nu(e,t,n),Cl(e,t,n)):(Oe&&a&&eu(t),t.flags|=1,xt(e,t,l,n),t.child)}function md(e,t,l,a,n,i){return ma(t),t.updateQueue=null,l=xo(t,a,l,n),ho(e),a=vu(),e!==null&&!ut?(Nu(e,t,i),Cl(e,t,i)):(Oe&&a&&eu(t),t.flags|=1,xt(e,t,l,i),t.child)}function gd(e,t,l,a,n){if(ma(t),t.stateNode===null){var i=Ha,u=l.contextType;typeof u=="object"&&u!==null&&(i=ht(u)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Lu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},du(t),u=l.contextType,i.context=typeof u=="object"&&u!==null?ht(u):Ha,i.state=t.memoizedState,u=l.getDerivedStateFromProps,typeof u=="function"&&(Hu(t,l,u,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(u=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),u!==i.state&&Lu.enqueueReplaceState(i,i.state,null),wn(t,a,i,n),Tn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var c=t.memoizedProps,f=ba(l,c);i.props=f;var j=i.context,L=l.contextType;u=Ha,typeof L=="object"&&L!==null&&(u=ht(L));var Q=l.getDerivedStateFromProps;L=typeof Q=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,L||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||j!==u)&&ed(t,i,a,u),ql=!1;var S=t.memoizedState;i.state=S,wn(t,a,i,n),Tn(),j=t.memoizedState,c||S!==j||ql?(typeof Q=="function"&&(Hu(t,l,Q,a),j=t.memoizedState),(f=ql||Po(t,l,f,a,S,j,u))?(L||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=j),i.props=a,i.state=j,i.context=u,a=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,fu(e,t),u=t.memoizedProps,L=ba(l,u),i.props=L,Q=t.pendingProps,S=i.context,j=l.contextType,f=Ha,typeof j=="object"&&j!==null&&(f=ht(j)),c=l.getDerivedStateFromProps,(j=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==Q||S!==f)&&ed(t,i,a,f),ql=!1,S=t.memoizedState,i.state=S,wn(t,a,i,n),Tn();var D=t.memoizedState;u!==Q||S!==D||ql||e!==null&&e.dependencies!==null&&ys(e.dependencies)?(typeof c=="function"&&(Hu(t,l,c,a),D=t.memoizedState),(L=ql||Po(t,l,L,a,S,D,f)||e!==null&&e.dependencies!==null&&ys(e.dependencies))?(j||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,D,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,D,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=D),i.props=a,i.state=D,i.context=f,a=L):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Ls(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ya(t,e.child,null,n),t.child=ya(t,null,l,n)):xt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=Cl(e,t,n),e}function hd(e,t,l,a){return da(),t.flags|=256,xt(e,t,l,a),t.child}var Qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yu(e){return{baseLanes:e,cachePool:ao()}}function Gu(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Qt),e}function xd(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),u&&(n=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(n?Gl(t):kl(),(e=Je)?(e=Ef(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hl!==null?{id:rl,overflow:ol}:null,retryLane:536870912,hydrationErrors:null},l=Jr(e),l.return=t,t.child=l,gt=t,Je=null)):e=null,e===null)throw Rl(t);return Cc(e)?t.lanes=32:t.lanes=536870912,null}var c=a.children;return a=a.fallback,n?(kl(),n=t.mode,c=Rs({mode:"hidden",children:c},n),a=oa(a,n,l,null),c.return=t,a.return=t,c.sibling=a,t.child=c,a=t.child,a.memoizedState=Yu(l),a.childLanes=Gu(e,u,l),t.memoizedState=Qu,_n(null,a)):(Gl(t),ku(t,c))}var f=e.memoizedState;if(f!==null&&(c=f.dehydrated,c!==null)){if(i)t.flags&256?(Gl(t),t.flags&=-257,t=Xu(e,t,l)):t.memoizedState!==null?(kl(),t.child=e.child,t.flags|=128,t=null):(kl(),c=a.fallback,n=t.mode,a=Rs({mode:"visible",children:a.children},n),c=oa(c,n,l,null),c.flags|=2,a.return=t,c.return=t,a.sibling=c,t.child=a,ya(t,e.child,null,l),a=t.child,a.memoizedState=Yu(l),a.childLanes=Gu(e,u,l),t.memoizedState=Qu,t=_n(null,a));else if(Gl(t),Cc(c)){if(u=c.nextSibling&&c.nextSibling.dataset,u)var j=u.dgst;u=j,a=Error(o(419)),a.stack="",a.digest=u,Nn({value:a,source:null,stack:null}),t=Xu(e,t,l)}else if(ut||qa(e,t,l,!1),u=(l&e.childLanes)!==0,ut||u){if(u=Ve,u!==null&&(a=tr(u,l),a!==0&&a!==f.retryLane))throw f.retryLane=a,ra(e,a),zt(u,e,a),Bu;Sc(c)||Vs(),t=Xu(e,t,l)}else Sc(c)?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Je=Wt(c.nextSibling),gt=t,Oe=!0,Ll=null,$t=!1,e!==null&&Fr(t,e),t=ku(t,a.children),t.flags|=4096);return t}return n?(kl(),c=a.fallback,n=t.mode,f=e.child,j=f.sibling,a=pl(f,{mode:"hidden",children:a.children}),a.subtreeFlags=f.subtreeFlags&65011712,j!==null?c=pl(j,c):(c=oa(c,n,l,null),c.flags|=2),c.return=t,a.return=t,a.sibling=c,t.child=a,_n(null,a),a=t.child,c=e.child.memoizedState,c===null?c=Yu(l):(n=c.cachePool,n!==null?(f=st._currentValue,n=n.parent!==f?{parent:f,pool:f}:n):n=ao(),c={baseLanes:c.baseLanes|l,cachePool:n}),a.memoizedState=c,a.childLanes=Gu(e,u,l),t.memoizedState=Qu,_n(e.child,a)):(Gl(t),l=e.child,e=l.sibling,l=pl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=l,t.memoizedState=null,l)}function ku(e,t){return t=Rs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rs(e,t){return e=Lt(22,e,null,t),e.lanes=0,e}function Xu(e,t,l){return ya(t,e.child,null,l),e=ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),su(e.return,t,l)}function Zu(e,t,l,a,n,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=l,u.tailMode=n,u.treeForkCount=i)}function pd(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var u=at.current,c=(u&2)!==0;if(c?(u=u&1|2,t.flags|=128):u&=1,V(at,u),xt(e,t,a,l),a=Oe?vn:0,!c&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yd(e,l,t);else if(e.tag===19)yd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&Es(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Zu(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Es(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Zu(t,!0,l,null,i,a);break;case"together":Zu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Cl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Vl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(qa(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=pl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=pl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Vu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ys(e)))}function D0(e,t,l){switch(t.tag){case 3:Pe(t,t.stateNode.containerInfo),Bl(t,st,e.memoizedState.cache),da();break;case 27:case 5:el(t);break;case 4:Pe(t,t.stateNode.containerInfo);break;case 10:Bl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Gl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?xd(e,t,l):(Gl(t),e=Cl(e,t,l),e!==null?e.sibling:null);Gl(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(qa(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return pd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),V(at,at.current),a)break;return null;case 22:return t.lanes=0,od(e,t,l,t.pendingProps);case 24:Bl(t,st,e.memoizedState.cache)}return Cl(e,t,l)}function bd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!Vu(e,l)&&(t.flags&128)===0)return ut=!1,D0(e,t,l);ut=(e.flags&131072)!==0}else ut=!1,Oe&&(t.flags&1048576)!==0&&$r(t,vn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ha(t.elementType),t.type=e,typeof e=="function")Fi(e)?(a=ba(e,a),t.tag=1,t=gd(null,t,e,a,l)):(t.tag=0,t=qu(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===ie){t.tag=11,t=ud(null,t,e,a,l);break e}else if(n===X){t.tag=14,t=cd(null,t,e,a,l);break e}}throw t=he(e)||e,Error(o(306,t,""))}}return t;case 0:return qu(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=ba(a,t.pendingProps),gd(e,t,a,n,l);case 3:e:{if(Pe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,fu(e,t),wn(t,a,null,l);var u=t.memoizedState;if(a=u.cache,Bl(t,st,a),a!==i.cache&&iu(t,[st],l,!0),Tn(),a=u.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=hd(e,t,a,l);break e}else if(a!==n){n=Kt(Error(o(424)),t),Nn(n),t=hd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=Wt(e.firstChild),gt=t,Oe=!0,Ll=null,$t=!0,l=ro(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(da(),a===n){t=Cl(e,t,l);break e}xt(e,t,a,l)}t=t.child}return t;case 26:return Ls(e,t),e===null?(l=Of(t.type,null,t.pendingProps,null))?t.memoizedState=l:Oe||(l=t.type,e=t.pendingProps,a=Ps(xe.current).createElement(l),a[mt]=t,a[Ct]=e,yt(a,l,e),dt(a),t.stateNode=a):t.memoizedState=Of(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return el(t),e===null&&Oe&&(a=t.stateNode=wf(t.type,t.pendingProps,xe.current),gt=t,$t=!0,n=Je,Fl(t.type)?(Ec=n,Je=Wt(a.firstChild)):Je=n),xt(e,t,t.pendingProps.children,l),Ls(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((n=a=Je)&&(a=sg(a,t.type,t.pendingProps,$t),a!==null?(t.stateNode=a,gt=t,Je=Wt(a.firstChild),$t=!1,n=!0):n=!1),n||Rl(t)),el(t),n=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,a=i.children,vc(n,i)?a=null:u!==null&&vc(n,u)&&(t.flags|=32),t.memoizedState!==null&&(n=bu(e,t,v0,null,null,l),Jn._currentValue=n),Ls(e,t),xt(e,t,a,l),t.child;case 6:return e===null&&Oe&&((e=l=Je)&&(l=ig(l,t.pendingProps,$t),l!==null?(t.stateNode=l,gt=t,Je=null,e=!0):e=!1),e||Rl(t)),null;case 13:return xd(e,t,l);case 4:return Pe(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ya(t,null,a,l):xt(e,t,a,l),t.child;case 11:return ud(e,t,t.type,t.pendingProps,l);case 7:return xt(e,t,t.pendingProps,l),t.child;case 8:return xt(e,t,t.pendingProps.children,l),t.child;case 12:return xt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Bl(t,t.type,a.value),xt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,ma(t),n=ht(n),a=a(n),t.flags|=1,xt(e,t,a,l),t.child;case 14:return cd(e,t,t.type,t.pendingProps,l);case 15:return rd(e,t,t.type,t.pendingProps,l);case 19:return pd(e,t,l);case 31:return w0(e,t,l);case 22:return od(e,t,l,t.pendingProps);case 24:return ma(t),a=ht(st),e===null?(n=ru(),n===null&&(n=Ve,i=uu(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},du(t),Bl(t,st,n)):((e.lanes&l)!==0&&(fu(e,t),wn(t,null,null,l),Tn()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Bl(t,st,a)):(a=i.cache,Bl(t,st,a),a!==n.cache&&iu(t,[st],l,!0))),xt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function El(e){e.flags|=4}function Ku(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Vd())e.flags|=8192;else throw xa=Ns,ou}else e.flags&=-16777217}function vd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lf(t))if(Vd())e.flags|=8192;else throw xa=Ns,ou}function Bs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Wc():536870912,e.lanes|=t,Fa|=t)}function Un(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function z0(e,t,l){var a=t.pendingProps;switch(tu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Nl(st),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ba(t)?El(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,au())),Ie(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(El(t),i!==null?(Ie(t),vd(t,i)):(Ie(t),Ku(t,n,null,a,l))):i?i!==e.memoizedState?(El(t),Ie(t),vd(t,i)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&El(t),Ie(t),Ku(t,n,e,a,l)),null;case 27:if(kt(t),l=xe.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&El(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ie(t),null}e=$.current,Ba(t)?Wr(t):(e=wf(n,a,l),t.stateNode=e,El(t))}return Ie(t),null;case 5:if(kt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&El(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ie(t),null}if(i=$.current,Ba(t))Wr(t);else{var u=Ps(xe.current);switch(i){case 1:i=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=u.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?u.createElement("select",{is:a.is}):u.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?u.createElement(n,{is:a.is}):u.createElement(n)}}i[mt]=t,i[Ct]=a;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=i;e:switch(yt(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&El(t)}}return Ie(t),Ku(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&El(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=xe.current,Ba(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=gt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[mt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||yf(e.nodeValue,l)),e||Rl(t,!0)}else e=Ps(e).createTextNode(a),e[mt]=t,t.stateNode=e}return Ie(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ba(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[mt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else l=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Bt(t),t):(Bt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ie(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ba(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[mt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),n=!1}else n=au(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Bt(t),t):(Bt(t),null)}return Bt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Bs(t,t.updateQueue),Ie(t),null);case 4:return Re(),e===null&&hc(t.stateNode.containerInfo),Ie(t),null;case 10:return Nl(t.type),Ie(t),null;case 19:if(M(at),a=t.memoizedState,a===null)return Ie(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Un(a,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Es(e),i!==null){for(t.flags|=128,Un(a,!1),e=i.updateQueue,t.updateQueue=e,Bs(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Kr(l,e),l=l.sibling;return V(at,at.current&1|2),Oe&&bl(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&we()>ks&&(t.flags|=128,n=!0,Un(a,!1),t.lanes=4194304)}else{if(!n)if(e=Es(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Bs(t,e),Un(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Oe)return Ie(t),null}else 2*we()-a.renderingStartTime>ks&&l!==536870912&&(t.flags|=128,n=!0,Un(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=we(),e.sibling=null,l=at.current,V(at,n?l&1|2:l&1),Oe&&bl(t,a.treeForkCount),e):(Ie(t),null);case 22:case 23:return Bt(t),xu(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),l=t.updateQueue,l!==null&&Bs(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&M(ga),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Nl(st),Ie(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function O0(e,t){switch(tu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nl(st),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kt(t),null;case 31:if(t.memoizedState!==null){if(Bt(t),t.alternate===null)throw Error(o(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(at),null;case 4:return Re(),null;case 10:return Nl(t.type),null;case 22:case 23:return Bt(t),xu(),e!==null&&M(ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Nl(st),null;case 25:return null;default:return null}}function Nd(e,t){switch(tu(t),t.tag){case 3:Nl(st),Re();break;case 26:case 27:case 5:kt(t);break;case 4:Re();break;case 31:t.memoizedState!==null&&Bt(t);break;case 13:Bt(t);break;case 19:M(at);break;case 10:Nl(t.type);break;case 22:case 23:Bt(t),xu(),e!==null&&M(ga);break;case 24:Nl(st)}}function Hn(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,u=l.inst;a=i(),u.destroy=a}l=l.next}while(l!==n)}}catch(c){qe(t,t.return,c)}}function Xl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var u=a.inst,c=u.destroy;if(c!==void 0){u.destroy=void 0,n=t;var f=l,j=c;try{j()}catch(L){qe(n,f,L)}}}a=a.next}while(a!==i)}}catch(L){qe(t,t.return,L)}}function jd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{fo(t,l)}catch(a){qe(e,e.return,a)}}}function Sd(e,t,l){l.props=ba(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){qe(e,t,a)}}function Ln(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){qe(e,t,n)}}function dl(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){qe(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){qe(e,t,n)}else l.current=null}function Cd(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){qe(e,e.return,n)}}function Ju(e,t,l){try{var a=e.stateNode;P0(a,e.type,l,t),a[Ct]=t}catch(n){qe(e,e.return,n)}}function Ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fl(e.type)||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=xl));else if(a!==4&&(a===27&&Fl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for($u(e,t,l),e=e.sibling;e!==null;)$u(e,t,l),e=e.sibling}function qs(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Fl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(qs(e,t,l),e=e.sibling;e!==null;)qs(e,t,l),e=e.sibling}function Ad(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);yt(t,a,l),t[mt]=e,t[Ct]=l}catch(i){qe(e,e.return,i)}}var Al=!1,ct=!1,Fu=!1,Td=typeof WeakSet=="function"?WeakSet:Set,ft=null;function M0(e,t){if(e=e.containerInfo,pc=ii,e=Br(e),Xi(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var u=0,c=-1,f=-1,j=0,L=0,Q=e,S=null;t:for(;;){for(var D;Q!==l||n!==0&&Q.nodeType!==3||(c=u+n),Q!==i||a!==0&&Q.nodeType!==3||(f=u+a),Q.nodeType===3&&(u+=Q.nodeValue.length),(D=Q.firstChild)!==null;)S=Q,Q=D;for(;;){if(Q===e)break t;if(S===l&&++j===n&&(c=u),S===i&&++L===a&&(f=u),(D=Q.nextSibling)!==null)break;Q=S,S=Q.parentNode}Q=D}l=c===-1||f===-1?null:{start:c,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(bc={focusedElem:e,selectionRange:l},ii=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var ae=ba(l.type,n);e=a.getSnapshotBeforeUpdate(ae,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(de){qe(l,l.return,de)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)jc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function wd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:wl(e,l),a&4&&Hn(5,l);break;case 1:if(wl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(u){qe(l,l.return,u)}else{var n=ba(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){qe(l,l.return,u)}}a&64&&jd(l),a&512&&Ln(l,l.return);break;case 3:if(wl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{fo(e,t)}catch(u){qe(l,l.return,u)}}break;case 27:t===null&&a&4&&Ad(l);case 26:case 5:wl(e,l),t===null&&a&4&&Cd(l),a&512&&Ln(l,l.return);break;case 12:wl(e,l);break;case 31:wl(e,l),a&4&&Od(e,l);break;case 13:wl(e,l),a&4&&Md(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Y0.bind(null,l),ug(e,l))));break;case 22:if(a=l.memoizedState!==null||Al,!a){t=t!==null&&t.memoizedState!==null||ct,n=Al;var i=ct;Al=a,(ct=t)&&!i?Dl(e,l,(l.subtreeFlags&8772)!==0):wl(e,l),Al=n,ct=i}break;case 30:break;default:wl(e,l)}}function Dd(e){var t=e.alternate;t!==null&&(e.alternate=null,Dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ti(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,At=!1;function Tl(e,t,l){for(l=l.child;l!==null;)zd(e,t,l),l=l.sibling}function zd(e,t,l){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Ze,l)}catch{}switch(l.tag){case 26:ct||dl(l,t),Tl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ct||dl(l,t);var a=$e,n=At;Fl(l.type)&&($e=l.stateNode,At=!1),Tl(e,t,l),Zn(l.stateNode),$e=a,At=n;break;case 5:ct||dl(l,t);case 6:if(a=$e,n=At,$e=null,Tl(e,t,l),$e=a,At=n,$e!==null)if(At)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(l.stateNode)}catch(i){qe(l,t,i)}else try{$e.removeChild(l.stateNode)}catch(i){qe(l,t,i)}break;case 18:$e!==null&&(At?(e=$e,Sf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),sn(e)):Sf($e,l.stateNode));break;case 4:a=$e,n=At,$e=l.stateNode.containerInfo,At=!0,Tl(e,t,l),$e=a,At=n;break;case 0:case 11:case 14:case 15:Xl(2,l,t),ct||Xl(4,l,t),Tl(e,t,l);break;case 1:ct||(dl(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Sd(l,t,a)),Tl(e,t,l);break;case 21:Tl(e,t,l);break;case 22:ct=(a=ct)||l.memoizedState!==null,Tl(e,t,l),ct=a;break;default:Tl(e,t,l)}}function Od(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{sn(e)}catch(l){qe(t,t.return,l)}}}function Md(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{sn(e)}catch(l){qe(t,t.return,l)}}function _0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Td),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Td),t;default:throw Error(o(435,e.tag))}}function Qs(e,t){var l=_0(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=G0.bind(null,e,a);a.then(n,n)}})}function Tt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,u=t,c=u;e:for(;c!==null;){switch(c.tag){case 27:if(Fl(c.type)){$e=c.stateNode,At=!1;break e}break;case 5:$e=c.stateNode,At=!1;break e;case 3:case 4:$e=c.stateNode.containerInfo,At=!0;break e}c=c.return}if($e===null)throw Error(o(160));zd(i,u,n),$e=null,At=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)_d(t,e),t=t.sibling}var nl=null;function _d(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),wt(e),a&4&&(Xl(3,e,e.return),Hn(3,e),Xl(5,e,e.return));break;case 1:Tt(t,e),wt(e),a&512&&(ct||l===null||dl(l,l.return)),a&64&&Al&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=nl;if(Tt(t,e),wt(e),a&512&&(ct||l===null||dl(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[rn]||i[mt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),yt(i,a,l),i[mt]=e,dt(i),a=i;break e;case"link":var u=Uf("link","href",n).get(a+(l.href||""));if(u){for(var c=0;c<u.length;c++)if(i=u[c],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){u.splice(c,1);break t}}i=n.createElement(a),yt(i,a,l),n.head.appendChild(i);break;case"meta":if(u=Uf("meta","content",n).get(a+(l.content||""))){for(c=0;c<u.length;c++)if(i=u[c],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){u.splice(c,1);break t}}i=n.createElement(a),yt(i,a,l),n.head.appendChild(i);break;default:throw Error(o(468,a))}i[mt]=e,dt(i),a=i}e.stateNode=a}else Hf(n,e.type,e.stateNode);else e.stateNode=_f(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Hf(n,e.type,e.stateNode):_f(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Ju(e,e.memoizedProps,l.memoizedProps)}break;case 27:Tt(t,e),wt(e),a&512&&(ct||l===null||dl(l,l.return)),l!==null&&a&4&&Ju(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Tt(t,e),wt(e),a&512&&(ct||l===null||dl(l,l.return)),e.flags&32){n=e.stateNode;try{wa(n,"")}catch(ae){qe(e,e.return,ae)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Ju(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Fu=!0);break;case 6:if(Tt(t,e),wt(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(ae){qe(e,e.return,ae)}}break;case 3:if(li=null,n=nl,nl=ei(t.containerInfo),Tt(t,e),nl=n,wt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{sn(t.containerInfo)}catch(ae){qe(e,e.return,ae)}Fu&&(Fu=!1,Ud(e));break;case 4:a=nl,nl=ei(e.stateNode.containerInfo),Tt(t,e),wt(e),nl=a;break;case 12:Tt(t,e),wt(e);break;case 31:Tt(t,e),wt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 13:Tt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gs=we()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 22:n=e.memoizedState!==null;var f=l!==null&&l.memoizedState!==null,j=Al,L=ct;if(Al=j||n,ct=L||f,Tt(t,e),ct=L,Al=j,wt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||f||Al||ct||va(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){f=l=t;try{if(i=f.stateNode,n)u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{c=f.stateNode;var Q=f.memoizedProps.style,S=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;c.style.display=S==null||typeof S=="boolean"?"":(""+S).trim()}}catch(ae){qe(f,f.return,ae)}}}else if(t.tag===6){if(l===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(ae){qe(f,f.return,ae)}}}else if(t.tag===18){if(l===null){f=t;try{var D=f.stateNode;n?Cf(D,!0):Cf(f.stateNode,!1)}catch(ae){qe(f,f.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Qs(e,l))));break;case 19:Tt(t,e),wt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Qs(e,a)));break;case 30:break;case 21:break;default:Tt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Ed(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,i=Iu(e);qs(e,i,n);break;case 5:var u=l.stateNode;l.flags&32&&(wa(u,""),l.flags&=-33);var c=Iu(e);qs(e,c,u);break;case 3:case 4:var f=l.stateNode.containerInfo,j=Iu(e);$u(e,j,f);break;default:throw Error(o(161))}}catch(L){qe(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ud(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ud(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wd(e,t.alternate,t),t=t.sibling}function va(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xl(4,t,t.return),va(t);break;case 1:dl(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Sd(t,t.return,l),va(t);break;case 27:Zn(t.stateNode);case 26:case 5:dl(t,t.return),va(t);break;case 22:t.memoizedState===null&&va(t);break;case 30:va(t);break;default:va(t)}e=e.sibling}}function Dl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,u=i.flags;switch(i.tag){case 0:case 11:case 15:Dl(n,i,l),Hn(4,i);break;case 1:if(Dl(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(j){qe(a,a.return,j)}if(a=i,n=a.updateQueue,n!==null){var c=a.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)oo(f[n],c)}catch(j){qe(a,a.return,j)}}l&&u&64&&jd(i),Ln(i,i.return);break;case 27:Ad(i);case 26:case 5:Dl(n,i,l),l&&a===null&&u&4&&Cd(i),Ln(i,i.return);break;case 12:Dl(n,i,l);break;case 31:Dl(n,i,l),l&&u&4&&Od(n,i);break;case 13:Dl(n,i,l),l&&u&4&&Md(n,i);break;case 22:i.memoizedState===null&&Dl(n,i,l),Ln(i,i.return);break;case 30:break;default:Dl(n,i,l)}t=t.sibling}}function Wu(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&jn(l))}function Pu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jn(e))}function sl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hd(e,t,l,a),t=t.sibling}function Hd(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:sl(e,t,l,a),n&2048&&Hn(9,t);break;case 1:sl(e,t,l,a);break;case 3:sl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jn(e)));break;case 12:if(n&2048){sl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,u=i.id,c=i.onPostCommit;typeof c=="function"&&c(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){qe(t,t.return,f)}}else sl(e,t,l,a);break;case 31:sl(e,t,l,a);break;case 13:sl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,u=t.alternate,t.memoizedState!==null?i._visibility&2?sl(e,t,l,a):Rn(e,t):i._visibility&2?sl(e,t,l,a):(i._visibility|=2,Ja(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Wu(u,t);break;case 24:sl(e,t,l,a),n&2048&&Pu(t.alternate,t);break;default:sl(e,t,l,a)}}function Ja(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,u=t,c=l,f=a,j=u.flags;switch(u.tag){case 0:case 11:case 15:Ja(i,u,c,f,n),Hn(8,u);break;case 23:break;case 22:var L=u.stateNode;u.memoizedState!==null?L._visibility&2?Ja(i,u,c,f,n):Rn(i,u):(L._visibility|=2,Ja(i,u,c,f,n)),n&&j&2048&&Wu(u.alternate,u);break;case 24:Ja(i,u,c,f,n),n&&j&2048&&Pu(u.alternate,u);break;default:Ja(i,u,c,f,n)}t=t.sibling}}function Rn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:Rn(l,a),n&2048&&Wu(a.alternate,a);break;case 24:Rn(l,a),n&2048&&Pu(a.alternate,a);break;default:Rn(l,a)}t=t.sibling}}var Bn=8192;function Ia(e,t,l){if(e.subtreeFlags&Bn)for(e=e.child;e!==null;)Ld(e,t,l),e=e.sibling}function Ld(e,t,l){switch(e.tag){case 26:Ia(e,t,l),e.flags&Bn&&e.memoizedState!==null&&bg(l,nl,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,t,l);break;case 3:case 4:var a=nl;nl=ei(e.stateNode.containerInfo),Ia(e,t,l),nl=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Bn,Bn=16777216,Ia(e,t,l),Bn=a):Ia(e,t,l));break;default:Ia(e,t,l)}}function Rd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];ft=a,qd(a,e)}Rd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 0:case 11:case 15:qn(e),e.flags&2048&&Xl(9,e,e.return);break;case 3:qn(e);break;case 12:qn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ys(e)):qn(e);break;default:qn(e)}}function Ys(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];ft=a,qd(a,e)}Rd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xl(8,t,t.return),Ys(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Ys(t));break;default:Ys(t)}e=e.sibling}}function qd(e,t){for(;ft!==null;){var l=ft;switch(l.tag){case 0:case 11:case 15:Xl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:jn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,ft=a;else e:for(l=e;ft!==null;){a=ft;var n=a.sibling,i=a.return;if(Dd(a),a===l){ft=null;break e}if(n!==null){n.return=i,ft=n;break e}ft=i}}}var U0={getCacheForType:function(e){var t=ht(st),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return ht(st).controller.signal}},H0=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ve=null,Ae=null,De=0,Be=0,qt=null,Zl=!1,$a=!1,ec=!1,zl=0,tt=0,Vl=0,Na=0,tc=0,Qt=0,Fa=0,Qn=null,Dt=null,lc=!1,Gs=0,Qd=0,ks=1/0,Xs=null,Kl=null,rt=0,Jl=null,Wa=null,Ol=0,ac=0,nc=null,Yd=null,Yn=0,sc=null;function Yt(){return(Ue&2)!==0&&De!==0?De&-De:O.T!==null?dc():lr()}function Gd(){if(Qt===0)if((De&536870912)===0||Oe){var e=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),Qt=e}else Qt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Qt}function zt(e,t,l){(e===Ve&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),Il(e,De,Qt,!1)),cn(e,l),((Ue&2)===0||e!==Ve)&&(e===Ve&&((Ue&2)===0&&(Na|=l),tt===4&&Il(e,De,Qt,!1)),fl(e))}function kd(e,t,l){if((Ue&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||un(e,t),n=a?B0(e,t):uc(e,t,!0),i=a;do{if(n===0){$a&&!a&&Il(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!L0(l)){n=uc(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var c=e;n=Qn;var f=c.current.memoizedState.isDehydrated;if(f&&(Pa(c,u).flags|=256),u=uc(c,u,!1),u!==2){if(ec&&!f){c.errorRecoveryDisabledLanes|=i,Na|=i,n=4;break e}i=Dt,Dt=n,i!==null&&(Dt===null?Dt=i:Dt.push.apply(Dt,i))}n=u}if(i=!1,n!==2)continue}}if(n===1){Pa(e,0),Il(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Il(a,t,Qt,!Zl);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=Gs+300-we(),10<n)){if(Il(a,t,Qt,!Zl),es(a,0,!0)!==0)break e;Ol=t,a.timeoutHandle=Nf(Xd.bind(null,a,l,Dt,Xs,lc,t,Qt,Na,Fa,Zl,i,"Throttled",-0,0),n);break e}Xd(a,l,Dt,Xs,lc,t,Qt,Na,Fa,Zl,i,null,-0,0)}}break}while(!0);fl(e)}function Xd(e,t,l,a,n,i,u,c,f,j,L,Q,S,D){if(e.timeoutHandle=-1,Q=t.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xl},Ld(t,i,Q);var ae=(i&62914560)===i?Gs-we():(i&4194048)===i?Qd-we():0;if(ae=vg(Q,ae),ae!==null){Ol=i,e.cancelPendingCommit=ae(Wd.bind(null,e,t,i,l,a,n,u,c,f,L,Q,null,S,D)),Il(e,i,u,!j);return}}Wd(e,t,i,l,a,n,u,c,f)}function L0(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!Ht(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Il(e,t,l,a){t&=~tc,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-lt(n),u=1<<i;a[i]=-1,n&=~u}l!==0&&Pc(e,l,t)}function Zs(){return(Ue&6)===0?(Gn(0),!1):!0}function ic(){if(Ae!==null){if(Be===0)var e=Ae.return;else e=Ae,vl=fa=null,ju(e),ka=null,Cn=0,e=Ae;for(;e!==null;)Nd(e.alternate,e),e=e.return;Ae=null}}function Pa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,lg(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ol=0,ic(),Ve=e,Ae=l=pl(e.current,null),De=t,Be=0,qt=null,Zl=!1,$a=un(e,t),ec=!1,Fa=Qt=tc=Na=Vl=tt=0,Dt=Qn=null,lc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-lt(a),i=1<<n;t|=e[n],a&=~i}return zl=t,fs(),l}function Zd(e,t){be=null,O.H=Mn,t===Ga||t===vs?(t=io(),Be=3):t===ou?(t=io(),Be=4):Be=t===Bu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qt=t,Ae===null&&(tt=1,Us(e,Kt(t,e.current)))}function Vd(){var e=Rt.current;return e===null?!0:(De&4194048)===De?Ft===null:(De&62914560)===De||(De&536870912)!==0?e===Ft:!1}function Kd(){var e=O.H;return O.H=Mn,e===null?Mn:e}function Jd(){var e=O.A;return O.A=U0,e}function Vs(){tt=4,Zl||(De&4194048)!==De&&Rt.current!==null||($a=!0),(Vl&134217727)===0&&(Na&134217727)===0||Ve===null||Il(Ve,De,Qt,!1)}function uc(e,t,l){var a=Ue;Ue|=2;var n=Kd(),i=Jd();(Ve!==e||De!==t)&&(Xs=null,Pa(e,t)),t=!1;var u=tt;e:do try{if(Be!==0&&Ae!==null){var c=Ae,f=qt;switch(Be){case 8:ic(),u=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var j=Be;if(Be=0,qt=null,en(e,c,f,j),l&&$a){u=0;break e}break;default:j=Be,Be=0,qt=null,en(e,c,f,j)}}R0(),u=tt;break}catch(L){Zd(e,L)}while(!0);return t&&e.shellSuspendCounter++,vl=fa=null,Ue=a,O.H=n,O.A=i,Ae===null&&(Ve=null,De=0,fs()),u}function R0(){for(;Ae!==null;)Id(Ae)}function B0(e,t){var l=Ue;Ue|=2;var a=Kd(),n=Jd();Ve!==e||De!==t?(Xs=null,ks=we()+500,Pa(e,t)):$a=un(e,t);e:do try{if(Be!==0&&Ae!==null){t=Ae;var i=qt;t:switch(Be){case 1:Be=0,qt=null,en(e,t,i,1);break;case 2:case 9:if(no(i)){Be=0,qt=null,$d(t);break}t=function(){Be!==2&&Be!==9||Ve!==e||(Be=7),fl(e)},i.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:no(i)?(Be=0,qt=null,$d(t)):(Be=0,qt=null,en(e,t,i,7));break;case 5:var u=null;switch(Ae.tag){case 26:u=Ae.memoizedState;case 5:case 27:var c=Ae;if(u?Lf(u):c.stateNode.complete){Be=0,qt=null;var f=c.sibling;if(f!==null)Ae=f;else{var j=c.return;j!==null?(Ae=j,Ks(j)):Ae=null}break t}}Be=0,qt=null,en(e,t,i,5);break;case 6:Be=0,qt=null,en(e,t,i,6);break;case 8:ic(),tt=6;break e;default:throw Error(o(462))}}q0();break}catch(L){Zd(e,L)}while(!0);return vl=fa=null,O.H=a,O.A=n,Ue=l,Ae!==null?0:(Ve=null,De=0,fs(),tt)}function q0(){for(;Ae!==null&&!ue();)Id(Ae)}function Id(e){var t=bd(e.alternate,e,zl);e.memoizedProps=e.pendingProps,t===null?Ks(e):Ae=t}function $d(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=md(l,t,t.pendingProps,t.type,void 0,De);break;case 11:t=md(l,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:ju(t);default:Nd(l,t),t=Ae=Kr(t,zl),t=bd(l,t,zl)}e.memoizedProps=e.pendingProps,t===null?Ks(e):Ae=t}function en(e,t,l,a){vl=fa=null,ju(t),ka=null,Cn=0;var n=t.return;try{if(T0(e,n,t,l,De)){tt=1,Us(e,Kt(l,e.current)),Ae=null;return}}catch(i){if(n!==null)throw Ae=n,i;tt=1,Us(e,Kt(l,e.current)),Ae=null;return}t.flags&32768?(Oe||a===1?e=!0:$a||(De&536870912)!==0?e=!1:(Zl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fd(t,e)):Ks(t)}function Ks(e){var t=e;do{if((t.flags&32768)!==0){Fd(t,Zl);return}e=t.return;var l=z0(t.alternate,t,zl);if(l!==null){Ae=l;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);tt===0&&(tt=5)}function Fd(e,t){do{var l=O0(e.alternate,e);if(l!==null){l.flags&=32767,Ae=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=l}while(e!==null);tt=6,Ae=null}function Wd(e,t,l,a,n,i,u,c,f){e.cancelPendingCommit=null;do Js();while(rt!==0);if((Ue&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=Ii,pm(e,l,i,u,c,f),e===Ve&&(Ae=Ve=null,De=0),Wa=t,Jl=e,Ol=l,ac=i,nc=n,Yd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k0(Xe,function(){return af(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null,n=k.p,k.p=2,u=Ue,Ue|=4;try{M0(e,t,l)}finally{Ue=u,k.p=n,O.T=a}}rt=1,Pd(),ef(),tf()}}function Pd(){if(rt===1){rt=0;var e=Jl,t=Wa,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var a=k.p;k.p=2;var n=Ue;Ue|=4;try{_d(t,e);var i=bc,u=Br(e.containerInfo),c=i.focusedElem,f=i.selectionRange;if(u!==c&&c&&c.ownerDocument&&Rr(c.ownerDocument.documentElement,c)){if(f!==null&&Xi(c)){var j=f.start,L=f.end;if(L===void 0&&(L=j),"selectionStart"in c)c.selectionStart=j,c.selectionEnd=Math.min(L,c.value.length);else{var Q=c.ownerDocument||document,S=Q&&Q.defaultView||window;if(S.getSelection){var D=S.getSelection(),ae=c.textContent.length,de=Math.min(f.start,ae),ke=f.end===void 0?de:Math.min(f.end,ae);!D.extend&&de>ke&&(u=ke,ke=de,de=u);var b=Lr(c,de),x=Lr(c,ke);if(b&&x&&(D.rangeCount!==1||D.anchorNode!==b.node||D.anchorOffset!==b.offset||D.focusNode!==x.node||D.focusOffset!==x.offset)){var N=Q.createRange();N.setStart(b.node,b.offset),D.removeAllRanges(),de>ke?(D.addRange(N),D.extend(x.node,x.offset)):(N.setEnd(x.node,x.offset),D.addRange(N))}}}}for(Q=[],D=c;D=D.parentNode;)D.nodeType===1&&Q.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<Q.length;c++){var q=Q[c];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}ii=!!pc,bc=pc=null}finally{Ue=n,k.p=a,O.T=l}}e.current=t,rt=2}}function ef(){if(rt===2){rt=0;var e=Jl,t=Wa,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var a=k.p;k.p=2;var n=Ue;Ue|=4;try{wd(e,t.alternate,t)}finally{Ue=n,k.p=a,O.T=l}}rt=3}}function tf(){if(rt===4||rt===3){rt=0,ll();var e=Jl,t=Wa,l=Ol,a=Yd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,Wa=Jl=null,lf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Kl=null),Ei(l),t=t.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Ze,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=O.T,n=k.p,k.p=2,O.T=null;try{for(var i=e.onRecoverableError,u=0;u<a.length;u++){var c=a[u];i(c.value,{componentStack:c.stack})}}finally{O.T=t,k.p=n}}(Ol&3)!==0&&Js(),fl(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===sc?Yn++:(Yn=0,sc=e):Yn=0,Gn(0)}}function lf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jn(t)))}function Js(){return Pd(),ef(),tf(),af()}function af(){if(rt!==5)return!1;var e=Jl,t=ac;ac=0;var l=Ei(Ol),a=O.T,n=k.p;try{k.p=32>l?32:l,O.T=null,l=nc,nc=null;var i=Jl,u=Ol;if(rt=0,Wa=Jl=null,Ol=0,(Ue&6)!==0)throw Error(o(331));var c=Ue;if(Ue|=4,Bd(i.current),Hd(i,i.current,u,l),Ue=c,Gn(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Ze,i)}catch{}return!0}finally{k.p=n,O.T=a,lf(e,t)}}function nf(e,t,l){t=Kt(l,t),t=Ru(e.stateNode,t,2),e=Yl(e,t,2),e!==null&&(cn(e,2),fl(e))}function qe(e,t,l){if(e.tag===3)nf(e,e,l);else for(;t!==null;){if(t.tag===3){nf(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Kl===null||!Kl.has(a))){e=Kt(l,e),l=sd(2),a=Yl(t,l,2),a!==null&&(id(l,a,t,e),cn(a,2),fl(a));break}}t=t.return}}function cc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new H0;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(ec=!0,n.add(l),e=Q0.bind(null,e,t,l),t.then(e,e))}function Q0(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ve===e&&(De&l)===l&&(tt===4||tt===3&&(De&62914560)===De&&300>we()-Gs?(Ue&2)===0&&Pa(e,0):tc|=l,Fa===De&&(Fa=0)),fl(e)}function sf(e,t){t===0&&(t=Wc()),e=ra(e,t),e!==null&&(cn(e,t),fl(e))}function Y0(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),sf(e,l)}function G0(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),sf(e,l)}function k0(e,t){return F(e,t)}var Is=null,tn=null,rc=!1,$s=!1,oc=!1,$l=0;function fl(e){e!==tn&&e.next===null&&(tn===null?Is=tn=e:tn=tn.next=e),$s=!0,rc||(rc=!0,Z0())}function Gn(e,t){if(!oc&&$s){oc=!0;do for(var l=!1,a=Is;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var u=a.suspendedLanes,c=a.pingedLanes;i=(1<<31-lt(42|e)+1)-1,i&=n&~(u&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,of(a,i))}else i=De,i=es(a,a===Ve?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||un(a,i)||(l=!0,of(a,i));a=a.next}while(l);oc=!1}}function X0(){uf()}function uf(){$s=rc=!1;var e=0;$l!==0&&tg()&&(e=$l);for(var t=we(),l=null,a=Is;a!==null;){var n=a.next,i=cf(a,t);i===0?(a.next=null,l===null?Is=n:l.next=n,n===null&&(tn=l)):(l=a,(e!==0||(i&3)!==0)&&($s=!0)),a=n}rt!==0&&rt!==5||Gn(e),$l!==0&&($l=0)}function cf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var u=31-lt(i),c=1<<u,f=n[u];f===-1?((c&l)===0||(c&a)!==0)&&(n[u]=ym(c,t)):f<=t&&(e.expiredLanes|=c),i&=~c}if(t=Ve,l=De,l=es(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&I(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||un(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&I(a),Ei(l)){case 2:case 8:l=ul;break;case 32:l=Xe;break;case 268435456:l=Ee;break;default:l=Xe}return a=rf.bind(null,e),l=F(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&I(a),e.callbackPriority=2,e.callbackNode=null,2}function rf(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Js()&&e.callbackNode!==l)return null;var a=De;return a=es(e,e===Ve?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(kd(e,a,t),cf(e,we()),e.callbackNode!=null&&e.callbackNode===l?rf.bind(null,e):null)}function of(e,t){if(Js())return null;kd(e,t,!0)}function Z0(){ag(function(){(Ue&6)!==0?F(je,X0):uf()})}function dc(){if($l===0){var e=Qa;e===0&&(e=ge,ge<<=1,(ge&261888)===0&&(ge=256)),$l=e}return $l}function df(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ns(""+e)}function ff(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function V0(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=df((n[Ct]||null).action),u=a.submitter;u&&(t=(t=u[Ct]||null)?df(t.formAction):u.getAttribute("formAction"),t!==null&&(i=t,u=null));var c=new cs("action","action",null,a,n);e.push({event:c,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($l!==0){var f=u?ff(n,u):new FormData(n);Ou(l,{pending:!0,data:f,method:n.method,action:i},null,f)}}else typeof i=="function"&&(c.preventDefault(),f=u?ff(n,u):new FormData(n),Ou(l,{pending:!0,data:f,method:n.method,action:i},i,f))},currentTarget:n}]})}}for(var fc=0;fc<Ji.length;fc++){var mc=Ji[fc],K0=mc.toLowerCase(),J0=mc[0].toUpperCase()+mc.slice(1);al(K0,"on"+J0)}al(Yr,"onAnimationEnd"),al(Gr,"onAnimationIteration"),al(kr,"onAnimationStart"),al("dblclick","onDoubleClick"),al("focusin","onFocus"),al("focusout","onBlur"),al(o0,"onTransitionRun"),al(d0,"onTransitionStart"),al(f0,"onTransitionCancel"),al(Xr,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kn));function mf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var u=a.length-1;0<=u;u--){var c=a[u],f=c.instance,j=c.currentTarget;if(c=c.listener,f!==i&&n.isPropagationStopped())break e;i=c,n.currentTarget=j;try{i(n)}catch(L){ds(L)}n.currentTarget=null,i=f}else for(u=0;u<a.length;u++){if(c=a[u],f=c.instance,j=c.currentTarget,c=c.listener,f!==i&&n.isPropagationStopped())break e;i=c,n.currentTarget=j;try{i(n)}catch(L){ds(L)}n.currentTarget=null,i=f}}}}function Te(e,t){var l=t[Ai];l===void 0&&(l=t[Ai]=new Set);var a=e+"__bubble";l.has(a)||(gf(t,e,2,!1),l.add(a))}function gc(e,t,l){var a=0;t&&(a|=4),gf(l,e,a,t)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function hc(e){if(!e[Fs]){e[Fs]=!0,sr.forEach(function(l){l!=="selectionchange"&&(I0.has(l)||gc(l,!1,e),gc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fs]||(t[Fs]=!0,gc("selectionchange",!1,t))}}function gf(e,t,l,a){switch(kf(t)){case 2:var n=Sg;break;case 8:n=Cg;break;default:n=zc}l=n.bind(null,t,l,e),n=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function xc(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var u=a.tag;if(u===3||u===4){var c=a.stateNode.containerInfo;if(c===n)break;if(u===4)for(u=a.return;u!==null;){var f=u.tag;if((f===3||f===4)&&u.stateNode.containerInfo===n)return;u=u.return}for(;c!==null;){if(u=Sa(c),u===null)return;if(f=u.tag,f===5||f===6||f===26||f===27){a=i=u;continue e}c=c.parentNode}}a=a.return}yr(function(){var j=i,L=_i(l),Q=[];e:{var S=Zr.get(e);if(S!==void 0){var D=cs,ae=e;switch(e){case"keypress":if(is(l)===0)break e;case"keydown":case"keyup":D=Gm;break;case"focusin":ae="focus",D=qi;break;case"focusout":ae="blur",D=qi;break;case"beforeblur":case"afterblur":D=qi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=zm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Zm;break;case Yr:case Gr:case kr:D=_m;break;case Xr:D=Km;break;case"scroll":case"scrollend":D=wm;break;case"wheel":D=Im;break;case"copy":case"cut":case"paste":D=Hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=jr;break;case"toggle":case"beforetoggle":D=Fm}var de=(t&4)!==0,ke=!de&&(e==="scroll"||e==="scrollend"),b=de?S!==null?S+"Capture":null:S;de=[];for(var x=j,N;x!==null;){var q=x;if(N=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||N===null||b===null||(q=dn(x,b),q!=null&&de.push(Xn(x,q,N))),ke)break;x=x.return}0<de.length&&(S=new D(S,ae,null,l,L),Q.push({event:S,listeners:de}))}}if((t&7)===0){e:{if(S=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",S&&l!==Mi&&(ae=l.relatedTarget||l.fromElement)&&(Sa(ae)||ae[ja]))break e;if((D||S)&&(S=L.window===L?L:(S=L.ownerDocument)?S.defaultView||S.parentWindow:window,D?(ae=l.relatedTarget||l.toElement,D=j,ae=ae?Sa(ae):null,ae!==null&&(ke=C(ae),de=ae.tag,ae!==ke||de!==5&&de!==27&&de!==6)&&(ae=null)):(D=null,ae=j),D!==ae)){if(de=vr,q="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(de=jr,q="onPointerLeave",b="onPointerEnter",x="pointer"),ke=D==null?S:on(D),N=ae==null?S:on(ae),S=new de(q,x+"leave",D,l,L),S.target=ke,S.relatedTarget=N,q=null,Sa(L)===j&&(de=new de(b,x+"enter",ae,l,L),de.target=N,de.relatedTarget=ke,q=de),ke=q,D&&ae)t:{for(de=$0,b=D,x=ae,N=0,q=b;q;q=de(q))N++;q=0;for(var ce=x;ce;ce=de(ce))q++;for(;0<N-q;)b=de(b),N--;for(;0<q-N;)x=de(x),q--;for(;N--;){if(b===x||x!==null&&b===x.alternate){de=b;break t}b=de(b),x=de(x)}de=null}else de=null;D!==null&&hf(Q,S,D,de,!1),ae!==null&&ke!==null&&hf(Q,ke,ae,de,!0)}}e:{if(S=j?on(j):window,D=S.nodeName&&S.nodeName.toLowerCase(),D==="select"||D==="input"&&S.type==="file")var Me=zr;else if(wr(S))if(Or)Me=u0;else{Me=s0;var se=n0}else D=S.nodeName,!D||D.toLowerCase()!=="input"||S.type!=="checkbox"&&S.type!=="radio"?j&&Oi(j.elementType)&&(Me=zr):Me=i0;if(Me&&(Me=Me(e,j))){Dr(Q,Me,l,L);break e}se&&se(e,S,j),e==="focusout"&&j&&S.type==="number"&&j.memoizedProps.value!=null&&zi(S,"number",S.value)}switch(se=j?on(j):window,e){case"focusin":(wr(se)||se.contentEditable==="true")&&(Ma=se,Zi=j,bn=null);break;case"focusout":bn=Zi=Ma=null;break;case"mousedown":Vi=!0;break;case"contextmenu":case"mouseup":case"dragend":Vi=!1,qr(Q,l,L);break;case"selectionchange":if(r0)break;case"keydown":case"keyup":qr(Q,l,L)}var Ne;if(Yi)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Oa?Ar(e,l)&&(ze="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(Sr&&l.locale!=="ko"&&(Oa||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Oa&&(Ne=pr()):(Ul=L,Li="value"in Ul?Ul.value:Ul.textContent,Oa=!0)),se=Ws(j,ze),0<se.length&&(ze=new Nr(ze,e,null,l,L),Q.push({event:ze,listeners:se}),Ne?ze.data=Ne:(Ne=Tr(l),Ne!==null&&(ze.data=Ne)))),(Ne=Pm?e0(e,l):t0(e,l))&&(ze=Ws(j,"onBeforeInput"),0<ze.length&&(se=new Nr("onBeforeInput","beforeinput",null,l,L),Q.push({event:se,listeners:ze}),se.data=Ne)),V0(Q,e,j,l,L)}mf(Q,t)})}function Xn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ws(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=dn(e,l),n!=null&&a.unshift(Xn(e,n,i)),n=dn(e,t),n!=null&&a.push(Xn(e,n,i))),e.tag===3)return a;e=e.return}return[]}function $0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function hf(e,t,l,a,n){for(var i=t._reactName,u=[];l!==null&&l!==a;){var c=l,f=c.alternate,j=c.stateNode;if(c=c.tag,f!==null&&f===a)break;c!==5&&c!==26&&c!==27||j===null||(f=j,n?(j=dn(l,i),j!=null&&u.unshift(Xn(l,j,f))):n||(j=dn(l,i),j!=null&&u.push(Xn(l,j,f)))),l=l.return}u.length!==0&&e.push({event:t,listeners:u})}var F0=/\r\n?/g,W0=/\u0000|\uFFFD/g;function xf(e){return(typeof e=="string"?e:""+e).replace(F0,`
`).replace(W0,"")}function yf(e,t){return t=xf(t),xf(e)===t}function Ge(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||wa(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&wa(e,""+a);break;case"className":ls(e,"class",a);break;case"tabIndex":ls(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ls(e,l,a);break;case"style":hr(e,a,i);break;case"data":if(t!=="object"){ls(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ns(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Ge(e,t,"name",n.name,n,null),Ge(e,t,"formEncType",n.formEncType,n,null),Ge(e,t,"formMethod",n.formMethod,n,null),Ge(e,t,"formTarget",n.formTarget,n,null)):(Ge(e,t,"encType",n.encType,n,null),Ge(e,t,"method",n.method,n,null),Ge(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ns(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=xl);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=ns(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),ts(e,"popover",a);break;case"xlinkActuate":hl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":hl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":hl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":hl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":hl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":hl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":hl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":hl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":hl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ts(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Am.get(l)||l,ts(e,l,a))}}function yc(e,t,l,a,n,i){switch(l){case"style":hr(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?wa(e,a):(typeof a=="number"||typeof a=="bigint")&&wa(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=xl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ir.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Ct]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):ts(e,l,a)}}}function yt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];if(u!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ge(e,t,i,u,l,null)}}n&&Ge(e,t,"srcSet",l.srcSet,l,null),a&&Ge(e,t,"src",l.src,l,null);return;case"input":Te("invalid",e);var c=i=u=n=null,f=null,j=null;for(a in l)if(l.hasOwnProperty(a)){var L=l[a];if(L!=null)switch(a){case"name":n=L;break;case"type":u=L;break;case"checked":f=L;break;case"defaultChecked":j=L;break;case"value":i=L;break;case"defaultValue":c=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:Ge(e,t,a,L,l,null)}}dr(e,i,c,f,j,u,n,!1);return;case"select":Te("invalid",e),a=u=i=null;for(n in l)if(l.hasOwnProperty(n)&&(c=l[n],c!=null))switch(n){case"value":i=c;break;case"defaultValue":u=c;break;case"multiple":a=c;default:Ge(e,t,n,c,l,null)}t=i,l=u,e.multiple=!!a,t!=null?Ta(e,!!a,t,!1):l!=null&&Ta(e,!!a,l,!0);return;case"textarea":Te("invalid",e),i=n=a=null;for(u in l)if(l.hasOwnProperty(u)&&(c=l[u],c!=null))switch(u){case"value":a=c;break;case"defaultValue":n=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:Ge(e,t,u,c,l,null)}mr(e,a,n,i);return;case"option":for(f in l)if(l.hasOwnProperty(f)&&(a=l[f],a!=null))switch(f){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ge(e,t,f,a,l,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<kn.length;a++)Te(kn[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(a=l[j],a!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ge(e,t,j,a,l,null)}return;default:if(Oi(t)){for(L in l)l.hasOwnProperty(L)&&(a=l[L],a!==void 0&&yc(e,t,L,a,l,void 0));return}}for(c in l)l.hasOwnProperty(c)&&(a=l[c],a!=null&&Ge(e,t,c,a,l,null))}function P0(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,u=null,c=null,f=null,j=null,L=null;for(D in l){var Q=l[D];if(l.hasOwnProperty(D)&&Q!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":f=Q;default:a.hasOwnProperty(D)||Ge(e,t,D,null,a,Q)}}for(var S in a){var D=a[S];if(Q=l[S],a.hasOwnProperty(S)&&(D!=null||Q!=null))switch(S){case"type":i=D;break;case"name":n=D;break;case"checked":j=D;break;case"defaultChecked":L=D;break;case"value":u=D;break;case"defaultValue":c=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(o(137,t));break;default:D!==Q&&Ge(e,t,S,D,a,Q)}}Di(e,u,c,f,j,L,i,n);return;case"select":D=u=c=S=null;for(i in l)if(f=l[i],l.hasOwnProperty(i)&&f!=null)switch(i){case"value":break;case"multiple":D=f;default:a.hasOwnProperty(i)||Ge(e,t,i,null,a,f)}for(n in a)if(i=a[n],f=l[n],a.hasOwnProperty(n)&&(i!=null||f!=null))switch(n){case"value":S=i;break;case"defaultValue":c=i;break;case"multiple":u=i;default:i!==f&&Ge(e,t,n,i,a,f)}t=c,l=u,a=D,S!=null?Ta(e,!!l,S,!1):!!a!=!!l&&(t!=null?Ta(e,!!l,t,!0):Ta(e,!!l,l?[]:"",!1));return;case"textarea":D=S=null;for(c in l)if(n=l[c],l.hasOwnProperty(c)&&n!=null&&!a.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:Ge(e,t,c,null,a,n)}for(u in a)if(n=a[u],i=l[u],a.hasOwnProperty(u)&&(n!=null||i!=null))switch(u){case"value":S=n;break;case"defaultValue":D=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&Ge(e,t,u,n,a,i)}fr(e,S,D);return;case"option":for(var ae in l)if(S=l[ae],l.hasOwnProperty(ae)&&S!=null&&!a.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Ge(e,t,ae,null,a,S)}for(f in a)if(S=a[f],D=l[f],a.hasOwnProperty(f)&&S!==D&&(S!=null||D!=null))switch(f){case"selected":e.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:Ge(e,t,f,S,a,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in l)S=l[de],l.hasOwnProperty(de)&&S!=null&&!a.hasOwnProperty(de)&&Ge(e,t,de,null,a,S);for(j in a)if(S=a[j],D=l[j],a.hasOwnProperty(j)&&S!==D&&(S!=null||D!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(137,t));break;default:Ge(e,t,j,S,a,D)}return;default:if(Oi(t)){for(var ke in l)S=l[ke],l.hasOwnProperty(ke)&&S!==void 0&&!a.hasOwnProperty(ke)&&yc(e,t,ke,void 0,a,S);for(L in a)S=a[L],D=l[L],!a.hasOwnProperty(L)||S===D||S===void 0&&D===void 0||yc(e,t,L,S,a,D);return}}for(var b in l)S=l[b],l.hasOwnProperty(b)&&S!=null&&!a.hasOwnProperty(b)&&Ge(e,t,b,null,a,S);for(Q in a)S=a[Q],D=l[Q],!a.hasOwnProperty(Q)||S===D||S==null&&D==null||Ge(e,t,Q,S,a,D)}function pf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,u=n.initiatorType,c=n.duration;if(i&&c&&pf(u)){for(u=0,c=n.responseEnd,a+=1;a<l.length;a++){var f=l[a],j=f.startTime;if(j>c)break;var L=f.transferSize,Q=f.initiatorType;L&&pf(Q)&&(f=f.responseEnd,u+=L*(f<c?1:(c-j)/(f-j)))}if(--a,t+=8*(i+u)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pc=null,bc=null;function Ps(e){return e.nodeType===9?e:e.ownerDocument}function bf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nc=null;function tg(){var e=window.event;return e&&e.type==="popstate"?e===Nc?!1:(Nc=e,!0):(Nc=null,!1)}var Nf=typeof setTimeout=="function"?setTimeout:void 0,lg=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(e){return jf.resolve(null).then(e).catch(ng)}:Nf;function ng(e){setTimeout(function(){throw e})}function Fl(e){return e==="head"}function Sf(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),sn(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Zn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Zn(l);for(var i=l.firstChild;i;){var u=i.nextSibling,c=i.nodeName;i[rn]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=u}}else l==="body"&&Zn(e.ownerDocument.body);l=n}while(l);sn(t)}function Cf(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":jc(l),Ti(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function sg(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function ig(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Wt(e.nextSibling),e===null))return null;return e}function Ef(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function Sc(e){return e.data==="$?"||e.data==="$~"}function Cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ug(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ec=null;function Af(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Wt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function wf(e,t,l){switch(t=Ps(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Zn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ti(e)}var Pt=new Map,Df=new Set;function ei(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ml=k.d;k.d={f:cg,r:rg,D:og,C:dg,L:fg,m:mg,X:hg,S:gg,M:xg};function cg(){var e=Ml.f(),t=Zs();return e||t}function rg(e){var t=Ca(e);t!==null&&t.tag===5&&t.type==="form"?Zo(t):Ml.r(e)}var ln=typeof document>"u"?null:document;function zf(e,t,l){var a=ln;if(a&&typeof t=="string"&&t){var n=Zt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Df.has(n)||(Df.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),yt(t,"link",e),dt(t),a.head.appendChild(t)))}}function og(e){Ml.D(e),zf("dns-prefetch",e,null)}function dg(e,t){Ml.C(e,t),zf("preconnect",e,t)}function fg(e,t,l){Ml.L(e,t,l);var a=ln;if(a&&e&&t){var n='link[rel="preload"][as="'+Zt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Zt(l.imageSizes)+'"]')):n+='[href="'+Zt(e)+'"]';var i=n;switch(t){case"style":i=an(e);break;case"script":i=nn(e)}Pt.has(i)||(e=G({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Pt.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Vn(i))||t==="script"&&a.querySelector(Kn(i))||(t=a.createElement("link"),yt(t,"link",e),dt(t),a.head.appendChild(t)))}}function mg(e,t){Ml.m(e,t);var l=ln;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Zt(a)+'"][href="'+Zt(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=nn(e)}if(!Pt.has(i)&&(e=G({rel:"modulepreload",href:e},t),Pt.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Kn(i)))return}a=l.createElement("link"),yt(a,"link",e),dt(a),l.head.appendChild(a)}}}function gg(e,t,l){Ml.S(e,t,l);var a=ln;if(a&&e){var n=Ea(a).hoistableStyles,i=an(e);t=t||"default";var u=n.get(i);if(!u){var c={loading:0,preload:null};if(u=a.querySelector(Vn(i)))c.loading=5;else{e=G({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Pt.get(i))&&Ac(e,l);var f=u=a.createElement("link");dt(f),yt(f,"link",e),f._p=new Promise(function(j,L){f.onload=j,f.onerror=L}),f.addEventListener("load",function(){c.loading|=1}),f.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ti(u,t,a)}u={type:"stylesheet",instance:u,count:1,state:c},n.set(i,u)}}}function hg(e,t){Ml.X(e,t);var l=ln;if(l&&e){var a=Ea(l).hoistableScripts,n=nn(e),i=a.get(n);i||(i=l.querySelector(Kn(n)),i||(e=G({src:e,async:!0},t),(t=Pt.get(n))&&Tc(e,t),i=l.createElement("script"),dt(i),yt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function xg(e,t){Ml.M(e,t);var l=ln;if(l&&e){var a=Ea(l).hoistableScripts,n=nn(e),i=a.get(n);i||(i=l.querySelector(Kn(n)),i||(e=G({src:e,async:!0,type:"module"},t),(t=Pt.get(n))&&Tc(e,t),i=l.createElement("script"),dt(i),yt(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Of(e,t,l,a){var n=(n=xe.current)?ei(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=an(l.href),l=Ea(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=an(l.href);var i=Ea(n).hoistableStyles,u=i.get(e);if(u||(n=n.ownerDocument||n,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,u),(i=n.querySelector(Vn(e)))&&!i._p&&(u.instance=i,u.state.loading=5),Pt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pt.set(e,l),i||yg(n,e,l,u.state))),t&&a===null)throw Error(o(528,""));return u}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=nn(l),l=Ea(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function an(e){return'href="'+Zt(e)+'"'}function Vn(e){return'link[rel="stylesheet"]['+e+"]"}function Mf(e){return G({},e,{"data-precedence":e.precedence,precedence:null})}function yg(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),yt(t,"link",l),dt(t),e.head.appendChild(t))}function nn(e){return'[src="'+Zt(e)+'"]'}function Kn(e){return"script[async]"+e}function _f(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(a)return t.instance=a,dt(a),a;var n=G({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),dt(a),yt(a,"style",n),ti(a,l.precedence,e),t.instance=a;case"stylesheet":n=an(l.href);var i=e.querySelector(Vn(n));if(i)return t.state.loading|=4,t.instance=i,dt(i),i;a=Mf(l),(n=Pt.get(n))&&Ac(a,n),i=(e.ownerDocument||e).createElement("link"),dt(i);var u=i;return u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),yt(i,"link",a),t.state.loading|=4,ti(i,l.precedence,e),t.instance=i;case"script":return i=nn(l.src),(n=e.querySelector(Kn(i)))?(t.instance=n,dt(n),n):(a=l,(n=Pt.get(i))&&(a=G({},l),Tc(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),dt(n),yt(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ti(a,l.precedence,e));return t.instance}function ti(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,u=0;u<a.length;u++){var c=a[u];if(c.dataset.precedence===t)i=c;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var li=null;function Uf(e,t,l){if(li===null){var a=new Map,n=li=new Map;n.set(l,a)}else n=li,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[rn]||i[mt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var u=i.getAttribute(t)||"";u=e+u;var c=a.get(u);c?c.push(i):a.set(u,[i])}}return a}function Hf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function pg(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Lf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bg(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=an(a.href),i=t.querySelector(Vn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ai.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,dt(i);return}i=t.ownerDocument||t,a=Mf(a),(n=Pt.get(n))&&Ac(a,n),i=i.createElement("link"),dt(i);var u=i;u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),yt(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ai.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var wc=0;function vg(e,t){return e.stylesheets&&e.count===0&&si(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&si(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&wc===0&&(wc=62500*eg());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&si(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>wc?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function ai(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)si(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ni=null;function si(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ni=new Map,t.forEach(Ng,e),ni=null,ai.call(e))}function Ng(e,t){if(!(t.state.loading&4)){var l=ni.get(e);if(l)var a=l.get(null);else{l=new Map,ni.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var u=n[i];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(l.set(u.dataset.precedence,u),a=u)}a&&l.set(null,a)}n=t.instance,u=n.getAttribute("data-precedence"),i=l.get(u)||a,i===a&&l.set(null,n),l.set(u,n),this.count++,a=ai.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Jn={$$typeof:ne,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function jg(e,t,l,a,n,i,u,c,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Rf(e,t,l,a,n,i,u,c,f,j,L,Q){return e=new jg(e,t,l,u,f,j,L,Q,c),t=1,i===!0&&(t|=24),i=Lt(3,null,null,t),e.current=i,i.stateNode=e,t=uu(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},du(i),e}function Bf(e){return e?(e=Ha,e):Ha}function qf(e,t,l,a,n,i){n=Bf(n),a.context===null?a.context=n:a.pendingContext=n,a=Ql(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Yl(e,a,t),l!==null&&(zt(l,e,t),An(l,e,t))}function Qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Dc(e,t){Qf(e,t),(e=e.alternate)&&Qf(e,t)}function Yf(e){if(e.tag===13||e.tag===31){var t=ra(e,67108864);t!==null&&zt(t,e,67108864),Dc(e,67108864)}}function Gf(e){if(e.tag===13||e.tag===31){var t=Yt();t=Ci(t);var l=ra(e,t);l!==null&&zt(l,e,t),Dc(e,t)}}var ii=!0;function Sg(e,t,l,a){var n=O.T;O.T=null;var i=k.p;try{k.p=2,zc(e,t,l,a)}finally{k.p=i,O.T=n}}function Cg(e,t,l,a){var n=O.T;O.T=null;var i=k.p;try{k.p=8,zc(e,t,l,a)}finally{k.p=i,O.T=n}}function zc(e,t,l,a){if(ii){var n=Oc(a);if(n===null)xc(e,t,a,ui,l),Xf(e,a);else if(Ag(n,e,t,l,a))a.stopPropagation();else if(Xf(e,a),t&4&&-1<Eg.indexOf(e)){for(;n!==null;){var i=Ca(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var u=na(i.pendingLanes);if(u!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;u;){var f=1<<31-lt(u);c.entanglements[1]|=f,u&=~f}fl(i),(Ue&6)===0&&(ks=we()+500,Gn(0))}}break;case 31:case 13:c=ra(i,2),c!==null&&zt(c,i,2),Zs(),Dc(i,2)}if(i=Oc(a),i===null&&xc(e,t,a,ui,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else xc(e,t,a,null,l)}}function Oc(e){return e=_i(e),Mc(e)}var ui=null;function Mc(e){if(ui=null,e=Sa(e),e!==null){var t=C(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=U(t),e!==null)return e;e=null}else if(l===31){if(e=A(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ui=e,null}function kf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case je:return 2;case ul:return 8;case Xe:case ml:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var _c=!1,Wl=null,Pl=null,ea=null,In=new Map,$n=new Map,ta=[],Eg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xf(e,t){switch(e){case"focusin":case"focusout":Wl=null;break;case"dragenter":case"dragleave":Pl=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":In.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(t.pointerId)}}function Fn(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Ca(t),t!==null&&Yf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Ag(e,t,l,a,n){switch(t){case"focusin":return Wl=Fn(Wl,e,t,l,a,n),!0;case"dragenter":return Pl=Fn(Pl,e,t,l,a,n),!0;case"mouseover":return ea=Fn(ea,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return In.set(i,Fn(In.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,$n.set(i,Fn($n.get(i)||null,e,t,l,a,n)),!0}return!1}function Zf(e){var t=Sa(e.target);if(t!==null){var l=C(t);if(l!==null){if(t=l.tag,t===13){if(t=U(l),t!==null){e.blockedOn=t,ar(e.priority,function(){Gf(l)});return}}else if(t===31){if(t=A(l),t!==null){e.blockedOn=t,ar(e.priority,function(){Gf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Oc(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Mi=a,l.target.dispatchEvent(a),Mi=null}else return t=Ca(l),t!==null&&Yf(t),e.blockedOn=l,!1;t.shift()}return!0}function Vf(e,t,l){ci(e)&&l.delete(t)}function Tg(){_c=!1,Wl!==null&&ci(Wl)&&(Wl=null),Pl!==null&&ci(Pl)&&(Pl=null),ea!==null&&ci(ea)&&(ea=null),In.forEach(Vf),$n.forEach(Vf)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,_c||(_c=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tg)))}var oi=null;function Kf(e){oi!==e&&(oi=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oi===e&&(oi=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Mc(a||l)===null)continue;break}var i=Ca(l);i!==null&&(e.splice(t,3),t-=3,Ou(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function sn(e){function t(f){return ri(f,e)}Wl!==null&&ri(Wl,e),Pl!==null&&ri(Pl,e),ea!==null&&ri(ea,e),In.forEach(t),$n.forEach(t);for(var l=0;l<ta.length;l++){var a=ta[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ta.length&&(l=ta[0],l.blockedOn===null);)Zf(l),l.blockedOn===null&&ta.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],u=n[Ct]||null;if(typeof i=="function")u||Kf(l);else if(u){var c=null;if(i&&i.hasAttribute("formAction")){if(n=i,u=i[Ct]||null)c=u.formAction;else if(Mc(n)!==null)continue}else c=u.action;typeof c=="function"?l[a+1]=c:(l.splice(a,3),a-=3),Kf(l)}}}function Jf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(u){return n=u})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Uc(e){this._internalRoot=e}di.prototype.render=Uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Yt();qf(l,a,e,t,null,null)},di.prototype.unmount=Uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qf(e.current,2,null,e,null,null),Zs(),t[ja]=null}};function di(e){this._internalRoot=e}di.prototype.unstable_scheduleHydration=function(e){if(e){var t=lr();e={blockedOn:null,target:e,priority:t};for(var l=0;l<ta.length&&t!==0&&t<ta[l].priority;l++);ta.splice(l,0,e),l===0&&Zf(e)}};var If=g.version;if(If!=="19.2.0")throw Error(o(527,If,"19.2.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=m(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var wg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{Ze=fi.inject(wg),Fe=fi}catch{}}return Pn.createRoot=function(e,t){if(!p(e))throw Error(o(299));var l=!1,a="",n=td,i=ld,u=ad;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Rf(e,1,!1,null,null,l,a,null,n,i,u,Jf),e[ja]=t.current,hc(e),new Uc(t)},Pn.hydrateRoot=function(e,t,l){if(!p(e))throw Error(o(299));var a=!1,n="",i=td,u=ld,c=ad,f=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(u=l.onCaughtError),l.onRecoverableError!==void 0&&(c=l.onRecoverableError),l.formState!==void 0&&(f=l.formState)),t=Rf(e,1,!0,t,l??null,a,n,f,i,u,c,Jf),t.context=Bf(null),l=t.current,a=Yt(),a=Ci(a),n=Ql(a),n.callback=null,Yl(l,n,a),l=a,t.current.lanes=l,cn(t,l),fl(t),e[ja]=t.current,hc(e),new di(t)},Pn.version="19.2.0",Pn}var sm;function Bg(){if(sm)return Rc.exports;sm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(g){console.error(g)}}return r(),Rc.exports=Rg(),Rc.exports}var qg=Bg();function Ke(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${Date.now()}-${Math.random().toString(36).substring(2,11)}`}function Qg(r){const g=r.text.toLowerCase(),y=[];if((g.includes("ship")||g.includes("sleek sophia")||g.includes("captain")||g.includes("crew"))&&y.push({id:Ke(),title:"Investigate the Ship Situation",bullets:["Talk to the captain about recent events","Check the crew roster and see who's missing","Inspect the ship for any suspicious activity","Set up a night watch if the Sleek Sophia is at anchor"]}),(g.includes("missing")||g.includes("disappeared")||g.includes("gone"))&&y.push({id:Ke(),title:"Follow Up on Missing Persons",bullets:["Ask NPCs about recent disappearances (Guard Captain, Quinn, Vitor)","Check the quest log for related investigations","Gather information from guards or authorities","Look for patterns: time of day, location, who was last seen with them"]}),(g.includes("fishing")||g.includes("hole")||g.includes("water")||g.includes("griff")||g.includes("naomi"))&&y.push({id:Ke(),title:"Investigate the Fishing Hole",bullets:["Visit Griff and Naomi to learn more about the dried/fouled fishing hole","Inspect the fishing hole north of town for signs of foul play","Check for tracks, unusual substances, or environmental clues","Ask about who might have access to poison or alchemical substances"]}),(g.includes("mayor")||g.includes("paranoid"))&&y.push({id:Ke(),title:"Visit the Mayor",bullets:["Ask about recent disappearances and any reward for evidence","Inquire about dreams or premonitions if the mayor seems troubled","Combine business license talk with mystery investigation","Check the place of worship next to the mayor's residence"]}),(g.includes("storm")||g.includes("weather"))&&y.push({id:Ke(),title:"Prepare for the Storm",bullets:["Secure horses and wagon if you have them","Plan watch shifts for the night","Use the bad weather as cover or tension for investigation","Check on the Sleek Sophia and other ships at anchor"]}),(g.includes("business")||g.includes("venture")||g.includes("butcher")||g.includes("exotic"))&&y.push({id:Ke(),title:"Develop Business Venture",bullets:["Review business ideas in your notes (exotic butchery)","Talk to relevant NPCs about partnerships (hunters, fishmongers, shipwright cooks)","Check what resources or permits you need from the mayor","Consider cold storage and location options"]}),(g.includes("maple")||g.includes("sap")||g.includes("tapping")||g.includes("breth"))&&y.push({id:Ke(),title:"Follow Up on Maple Tapping",bullets:["Talk to Breth about the maple tapping job tomorrow morning","Investigate the conflict between alchemists and maple tappers","Prepare for the expedition at first light","Consider how this relates to other mysteries in Seahaven"]}),r.openLeads.length>0){const o=[...r.openLeads].filter(p=>p.status==="Open"||p.status==="In Progress").sort((p,C)=>(C.importance||0)-(p.importance||0));if(o.length>0){const p=o[0];y.push({id:Ke(),title:`Follow Up on Lead: ${p.title}`,bullets:[p.summary,"Review related NPCs and quests for this lead","Decide on the best investigative approach","Consider who to talk to or where to go next"]})}}if(r.currentHubId&&r.openQuests.length>0){const o=r.openQuests.filter(p=>(p.hubId===r.currentHubId||!p.hubId)&&(p.status==="Open"||p.status==="In Progress"));if(o.length>0){const p=o[0];y.push({id:Ke(),title:`Follow Up on Quest: ${p.title}`,bullets:[`Location: ${p.location}`,p.description||"Review quest details and objectives","Talk to NPCs related to this quest","Check your notes for any clues or leads"]})}}if(r.currentHubId&&r.npcs.length>0){const o=r.npcs.filter(p=>p.hubId===r.currentHubId);if(o.length>0&&!g.includes("talk")&&!g.includes("npc")){const p=o.find(C=>C.role.toLowerCase().includes("captain")||C.role.toLowerCase().includes("mayor")||C.role.toLowerCase().includes("guard"))||o[0];p&&y.push({id:Ke(),title:`Talk to ${p.name}`,bullets:[`${p.role} - ${p.location}`,p.notes||"Gather information about current events","Ask about recent developments and rumours","See if they have leads on open quests"]})}}return y.length===0&&y.push({id:Ke(),title:"Investigate Current Location",bullets:[`Explore ${r.currentLocationName||r.currentHubId||"the area"}`,"Talk to local NPCs for information","Look for clues or interesting locations","Check your quest log and leads for things to follow up on"]},{id:Ke(),title:"Review Your Notes",bullets:["Check your quest log for open items","Review NPC relationships and information","Look at open leads and prioritize by importance","Update your notes with recent developments"]},{id:Ke(),title:"Ask the DM a Question",bullets:["Clarify something about the current situation","Ask about environmental details","Inquire about character knowledge or history","Check if there are any obvious leads you're missing"]}),y.slice(0,3).map((o,p)=>({...o,id:String(p+1)}))}const Yg="http://localhost:3001";async function Gg(r){try{const g=await fetch(`${Yg}/api/next-options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(g.ok){const y=await g.json();if(y.options&&Array.isArray(y.options)&&y.options.length>0)return y.options}}catch(g){console.warn("Backend API unavailable, using rule-based fallback:",g)}return Qg(r).map(g=>({...g,source:"rules-fallback"}))}const He={CAMPAIGNS:"campaign-copilot-campaigns",ACTIVE_CAMPAIGN_ID:"campaign-copilot-active-campaign-id",QUESTS:"campaign-copilot-quests",NPCS:"campaign-copilot-npcs",BUSINESS_IDEAS:"campaign-copilot-business-ideas",SESSION_NOTES:"campaign-copilot-session-notes",CURRENT_LOCATION:"campaign-copilot-current-location",HUBS:"campaign-copilot-hubs",LEADS:"campaign-copilot-leads",ACTIVE_HUB_ID:"campaign-copilot-active-hub-id",CHARACTER_PROFILE:"campaign-copilot-character-profile",SESSION_EVENTS:"campaign-copilot-session-events",SESSION_MODE:"campaign-copilot-session-mode",MIGRATION_DONE:"campaign-copilot-migration-v0.5"};function Ot(r,g){try{localStorage.setItem(r,JSON.stringify(g))}catch(y){console.error(`Failed to save to localStorage (${r}):`,y)}}function Mt(r,g){try{const y=localStorage.getItem(r);return y===null?g:JSON.parse(y)}catch(y){return console.error(`Failed to load from localStorage (${r}):`,y),g}}function kc(r){Ot(He.QUESTS,r)}function xi(){return Mt(He.QUESTS,[])}function Xc(r){Ot(He.NPCS,r)}function yi(){return Mt(He.NPCS,[])}function Zc(r){Ot(He.BUSINESS_IDEAS,r)}function om(){return Mt(He.BUSINESS_IDEAS,[])}function kg(r){const g=dm(),y=[r,...g].slice(0,10);Ot(He.SESSION_NOTES,y)}function dm(){return Mt(He.SESSION_NOTES,[])}function fm(r){Ot(He.CURRENT_LOCATION,r)}function mm(){return Mt(He.CURRENT_LOCATION,"")}function Vc(r){Ot(He.HUBS,r)}function pi(){return Mt(He.HUBS,[])}function Kc(r){Ot(He.LEADS,r)}function bi(){return Mt(He.LEADS,[])}function Xg(r){r?Ot(He.ACTIVE_HUB_ID,r):localStorage.removeItem(He.ACTIVE_HUB_ID)}function Zg(){return Mt(He.ACTIVE_HUB_ID,null)}function Jc(r){r?Ot(He.CHARACTER_PROFILE,r):localStorage.removeItem(He.CHARACTER_PROFILE)}function vi(){return Mt(He.CHARACTER_PROFILE,null)}const gm=200;function Ni(r){const g=r.slice(0,gm);Ot(He.SESSION_EVENTS,g)}function ji(){return Mt(He.SESSION_EVENTS,[])}function Vg(r){const g=ji(),y=[r,...g].slice(0,gm);Ni(y)}function Kg(r){Ot(He.SESSION_MODE,r)}function Jg(){return Mt(He.SESSION_MODE,"default")}function Ic(r){Ot(He.CAMPAIGNS,r)}function $c(){return Mt(He.CAMPAIGNS,[])}function Fc(r){r?Ot(He.ACTIVE_CAMPAIGN_ID,r):localStorage.removeItem(He.ACTIVE_CAMPAIGN_ID)}function Ig(){return Mt(He.ACTIVE_CAMPAIGN_ID,null)}function $g(){if(Mt(He.MIGRATION_DONE,!1)){const E=$c();if(E.length>0)return E[0].id}const r={id:Ke(),name:"Default Campaign",description:"Migrated from pre-v0.5 data.",createdAt:Date.now(),updatedAt:Date.now()},g=xi(),y=yi(),o=om(),p=pi(),C=bi(),U=ji(),A=vi(),v=g.map(E=>({...E,campaignId:r.id})),m=y.map(E=>({...E,campaignId:r.id})),T=o.map(E=>({...E,campaignId:r.id})),G=p.map(E=>({...E,campaignId:r.id})),B=C.map(E=>({...E,campaignId:r.id})),K=U.map(E=>({...E,campaignId:r.id})),Y=A?{...A,campaignId:r.id}:null;return Ic([r]),Fc(r.id),kc(v),Xc(m),Zc(T),Vc(G),Kc(B),Ni(K),Y&&Jc(Y),Ot(He.MIGRATION_DONE,!0),r.id}const Fg="modulepreload",Wg=function(r){return"/campaign-copilot/"+r},im={},Pg=function(g,y,o){let p=Promise.resolve();if(y&&y.length>0){let v=function(m){return Promise.all(m.map(T=>Promise.resolve(T).then(G=>({status:"fulfilled",value:G}),G=>({status:"rejected",reason:G}))))};document.getElementsByTagName("link");const U=document.querySelector("meta[property=csp-nonce]"),A=U?.nonce||U?.getAttribute("nonce");p=v(y.map(m=>{if(m=Wg(m),m in im)return;im[m]=!0;const T=m.endsWith(".css"),G=T?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${G}`))return;const B=document.createElement("link");if(B.rel=T?"stylesheet":Fg,T||(B.as="script"),B.crossOrigin="",B.href=m,A&&B.setAttribute("nonce",A),document.head.appendChild(B),T)return new Promise((K,Y)=>{B.addEventListener("load",K),B.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${m}`)))})}))}function C(U){const A=new Event("vite:preloadError",{cancelable:!0});if(A.payload=U,window.dispatchEvent(A),!A.defaultPrevented)throw U}return p.then(U=>{for(const A of U||[])A.status==="rejected"&&C(A.reason);return g().catch(C)})},mi="campaign-backups";function gi(){try{const r=localStorage.getItem(mi);return r?JSON.parse(r):[]}catch(r){return console.error("Error loading backups:",r),[]}}function eh(r,g){const y={id:Math.random().toString(36).substring(7),timestamp:Date.now(),campaignName:r,questCount:g.quests.length,npcCount:g.npcs.length,leadCount:g.leads.length,data:g},o=gi();o.push(y);const p=o.slice(-10);try{localStorage.setItem(mi,JSON.stringify(p))}catch(C){console.error("Error saving backup:",C),p.length>1&&(p.shift(),localStorage.setItem(mi,JSON.stringify(p)))}return y}function th(r){const y=gi().find(o=>o.id===r);return y||(console.error(`Backup with id ${r} not found`),null)}function um(){try{const r=localStorage.getItem(mi)||"";return new Blob([r]).size}catch(r){return console.error("Error calculating backup size:",r),0}}function cm(r){if(r===0)return"0 Bytes";const g=1024,y=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(r)/Math.log(g));return Math.round(r/Math.pow(g,o)*100)/100+" "+y[o]}function lh(r){const g=JSON.stringify(r,null,2),y=new Blob([g],{type:"application/json"}),o=URL.createObjectURL(y),p=document.createElement("a");p.href=o,p.download=`campaign-${r.campaignName}-${new Date(r.timestamp).toISOString().split("T")[0]}.json`,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(o)}function Yc(r){const y=Date.now()-r,o=Math.floor(y/6e4);if(o<1)return"Just now";if(o<60)return`${o}m ago`;const p=Math.floor(o/60);return p<24?`${p}h ago`:`${Math.floor(p/24)}d ago`}const hm=w.createContext(void 0);function ah({children:r}){const[g,y]=w.useState([]),[o,p]=w.useState([]),[C,U]=w.useState([]),[A,v]=w.useState([]),[m,T]=w.useState([]),[G,B]=w.useState([]),[K,Y]=w.useState([]),[E,R]=w.useState(null),[te,_]=w.useState(null),[ne,ie]=w.useState(null);w.useEffect(()=>{const Z=$g(),F=$c(),I=Ig()||Z;Y(F),R(I),y(xi()),p(yi()),U(om()),v(pi()),T(bi()),_(Zg()),ie(vi()),B(ji())},[]),w.useEffect(()=>{const Z=setInterval(()=>{const F=K.find(I=>I.id===E)?.name||"Campaign";eh(F,{quests:g.filter(I=>I.campaignId===E),npcs:o.filter(I=>I.campaignId===E),leads:m.filter(I=>I.campaignId===E),businessIdeas:C.filter(I=>I.campaignId===E),hubs:A.filter(I=>I.campaignId===E),campaigns:K,characterProfiles:ne?[ne]:[],sessionEvents:G.filter(I=>I.campaignId===E)})},3e5);return()=>clearInterval(Z)},[E,K,g,o,m,C,A,ne,G]);const fe=w.useMemo(()=>E?g.filter(Z=>Z.campaignId===E):[],[g,E]),J=w.useMemo(()=>E?o.filter(Z=>Z.campaignId===E):[],[o,E]),X=w.useMemo(()=>E?C.filter(Z=>Z.campaignId===E):[],[C,E]),z=w.useMemo(()=>E?A.filter(Z=>Z.campaignId===E):[],[A,E]),ee=w.useMemo(()=>E?m.filter(Z=>Z.campaignId===E):[],[m,E]),h=w.useMemo(()=>E?G.filter(Z=>Z.campaignId===E):[],[G,E]),W=w.useMemo(()=>E&&K.find(Z=>Z.id===E)||null,[K,E]);w.useEffect(()=>{Ic(K)},[K]),w.useEffect(()=>{Fc(E)},[E]),w.useEffect(()=>{kc(g)},[g]),w.useEffect(()=>{Xc(o)},[o]),w.useEffect(()=>{Zc(C)},[C]),w.useEffect(()=>{Vc(A)},[A]),w.useEffect(()=>{Kc(m)},[m]),w.useEffect(()=>{Xg(te)},[te]),w.useEffect(()=>{Jc(ne)},[ne]),w.useEffect(()=>{Ni(G)},[G]);const jt={campaigns:K,activeCampaignId:E,activeCampaign:W,addCampaign:Z=>{const F=Date.now(),I={...Z,id:Ke(),createdAt:F,updatedAt:F};return Y(ue=>[...ue,I]),I},updateCampaign:(Z,F)=>{Y(I=>I.map(ue=>ue.id===Z?{...ue,...F,updatedAt:Date.now()}:ue))},deleteCampaign:Z=>{if(Y(F=>F.filter(I=>I.id!==Z)),E===Z){const F=K.filter(I=>I.id!==Z);R(F.length>0?F[0].id:null)}},setActiveCampaignId:Z=>{R(Z)},quests:fe,npcs:J,businessIdeas:X,hubs:z,leads:ee,activeHubId:te,addQuest:Z=>{if(!E)throw new Error("No active campaign. Please select or create a campaign first.");const F=Date.now(),I={...Z,campaignId:E,id:Ke(),createdAt:F,updatedAt:F};return y(ue=>[...ue,I]),I},updateQuest:(Z,F)=>{y(I=>I.map(ue=>ue.id===Z?{...ue,...F,updatedAt:Date.now()}:ue))},deleteQuest:Z=>{y(F=>F.filter(I=>I.id!==Z))},addNPC:Z=>{if(!E)throw new Error("No active campaign. Please select or create a campaign first.");const F=Date.now(),I={...Z,campaignId:E,id:Ke(),createdAt:F,updatedAt:F};return p(ue=>[...ue,I]),I},updateNPC:(Z,F)=>{p(I=>I.map(ue=>ue.id===Z?{...ue,...F,updatedAt:Date.now()}:ue))},deleteNPC:Z=>{p(F=>F.filter(I=>I.id!==Z))},addBusinessIdea:Z=>{if(!E)throw new Error("No active campaign. Please select or create a campaign first.");const F=Date.now(),I={...Z,campaignId:E,id:Ke(),createdAt:F,updatedAt:F};return U(ue=>[...ue,I]),I},updateBusinessIdea:(Z,F)=>{U(I=>I.map(ue=>ue.id===Z?{...ue,...F,updatedAt:Date.now()}:ue))},deleteBusinessIdea:Z=>{U(F=>F.filter(I=>I.id!==Z))},addHub:Z=>{if(!E)throw new Error("No active campaign. Please select or create a campaign first.");const F=Date.now(),I={...Z,campaignId:E,id:Ke(),createdAt:F,updatedAt:F};return v(ue=>[...ue,I]),I},updateHub:(Z,F)=>{v(I=>I.map(ue=>ue.id===Z?{...ue,...F,updatedAt:Date.now()}:ue))},deleteHub:Z=>{v(F=>F.filter(I=>I.id!==Z))},setActiveHubId:Z=>{_(Z)},addLead:Z=>{if(!E)throw new Error("No active campaign. Please select or create a campaign first.");const F=Date.now(),I={...Z,campaignId:E,id:Ke(),createdAt:F,updatedAt:F};return T(ue=>[...ue,I]),I},updateLead:(Z,F)=>{T(I=>I.map(ue=>ue.id===Z?{...ue,...F,updatedAt:Date.now()}:ue))},deleteLead:Z=>{T(F=>F.filter(I=>I.id!==Z))},loadSeahavenSeed:async()=>{if(!E)throw new Error("No active campaign. Please select or create a campaign first.");try{const{loadSeahavenSeed:Z}=await Pg(async()=>{const{loadSeahavenSeed:je}=await import("./seahaven-BiX0bNDr.js");return{loadSeahavenSeed:je}},[]),F=Z(),I={...F.hub,campaignId:E},ue=F.npcs.map(je=>({...je,campaignId:E})),ll=F.quests.map(je=>({...je,campaignId:E})),we=F.leads.map(je=>({...je,campaignId:E}));A.find(je=>je.id===I.id)||v(je=>[...je,I]),ue.forEach(je=>{o.find(Xe=>Xe.name===je.name&&Xe.hubId===je.hubId&&Xe.campaignId===je.campaignId)||p(Xe=>[...Xe,je])}),ll.forEach(je=>{g.find(Xe=>Xe.title===je.title&&Xe.hubId===je.hubId&&Xe.campaignId===je.campaignId)||y(Xe=>[...Xe,je])}),we.forEach(je=>{m.find(Xe=>Xe.title===je.title&&Xe.hubId===je.hubId&&Xe.campaignId===je.campaignId)||T(Xe=>[...Xe,je])}),_(I.id)}catch(Z){throw console.error("Error loading Seahaven seed:",Z),Z}},characterProfile:ne,setCharacterProfile:Z=>{if(!Z){ie(null);return}const F={...Z,campaignId:Z.campaignId||E||void 0,updatedAt:Date.now(),createdAt:Z.createdAt||Date.now()};ie(F)},sessionEvents:h,addSessionEvent:Z=>{if(!E)throw new Error("No active campaign. Please select or create a campaign first.");const F={...Z,campaignId:E,id:Ke(),createdAt:new Date().toISOString()};return Vg(F),B(I=>[F,...I].slice(0,200)),F},updateSessionEvent:(Z,F)=>{B(I=>I.map(ue=>ue.id===Z?{...ue,...F}:ue))},deleteSessionEvent:Z=>{B(F=>F.filter(I=>I.id!==Z))},importData:(Z,F="overwrite")=>{try{const I=Z.campaign,ue=I.id,ll=(Z.quests||[]).map(Ee=>({...Ee,campaignId:ue})),we=(Z.npcs||[]).map(Ee=>({...Ee,campaignId:ue})),aa=(Z.businessIdeas||[]).map(Ee=>({...Ee,campaignId:ue})),je=(Z.hubs||[]).map(Ee=>({...Ee,campaignId:ue})),ul=(Z.leads||[]).map(Ee=>({...Ee,campaignId:ue})),Xe=(Z.sessionEvents||[]).map(Ee=>({...Ee,campaignId:ue})),ml=Z.characterProfile?{...Z.characterProfile,campaignId:ue}:null;F==="overwrite"?(Y([I]),y(ll),p(we),U(aa),v(je),T(ul),B(Xe),ie(ml),_(je&&je.length>0?je[0].id:null),R(ue)):(Y(Ee=>Ee.some(me=>me.id===I.id)?Ee:[...Ee,I]),y(Ee=>[...Ee,...ll]),p(Ee=>[...Ee,...we]),U(Ee=>[...Ee,...aa]),v(Ee=>[...Ee,...je]),T(Ee=>[...Ee,...ul]),B(Ee=>[...Ee,...Xe]),ml&&ie(Ee=>!Ee||Ee.id===ml.id?ml:Ee),R(ue),_(je&&je.length>0?je[0].id:te));try{localStorage.setItem("campaign-copilot-migration-v0.5",JSON.stringify(!0))}catch(Ee){console.warn("Could not set migration flag in localStorage",Ee)}}catch(I){throw console.error("Error importing campaign data into context:",I),I}}};return s.jsx(hm.Provider,{value:jt,children:r})}function Gt(){const r=w.useContext(hm);if(r===void 0)throw new Error("useCampaign must be used within a CampaignProvider");return r}function nh({toast:r,onDismiss:g}){const[y,o]=w.useState(!1);w.useEffect(()=>{const U=setTimeout(()=>{o(!0),setTimeout(()=>g(r.id),300)},5e3);return()=>clearTimeout(U)},[r.id]);const p=()=>{o(!0),setTimeout(()=>g(r.id),300)},C={success:"bg-green-600 border-green-500",error:"bg-red-600 border-red-500",info:"bg-blue-600 border-blue-500"};return s.jsxs("div",{className:`${C[r.type]} text-white px-4 py-3 rounded-lg shadow-lg border-l-4 flex items-center justify-between min-w-[300px] max-w-md toast-enter ${y?"toast-exit":""}`,role:"alert","aria-live":"assertive",children:[s.jsx("p",{className:"flex-1",children:r.message}),s.jsx("button",{onClick:p,className:"ml-4 text-white hover:text-gray-200 focus:outline-none focus:ring-2 focus:ring-white rounded transition-colors","aria-label":"Dismiss notification",children:""})]})}function sh({toasts:r,onDismiss:g}){return r.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2","aria-live":"polite","aria-label":"Notifications",children:r.map(y=>s.jsx(nh,{toast:y,onDismiss:g},y.id))})}const xm=w.createContext(void 0);function ih({children:r}){const[g,y]=w.useState([]),o=(v,m="info")=>{const T={id:Ke(),message:v,type:m};y(G=>[...G,T])},p=v=>o(v,"error"),C=v=>o(v,"success"),U=v=>o(v,"info"),A=v=>{y(m=>m.filter(T=>T.id!==v))};return s.jsxs(xm.Provider,{value:{showToast:o,showError:p,showSuccess:C,showInfo:U},children:[r,s.jsx(sh,{toasts:g,onDismiss:A})]})}function il(){const r=w.useContext(xm);if(r===void 0)throw new Error("useToast must be used within a ToastProvider");return r}function uh(){const{quests:r,npcs:g,leads:y,activeHubId:o,hubs:p,setActiveHubId:C,characterProfile:U,sessionEvents:A,addSessionEvent:v}=Gt(),{showError:m}=il(),[T,G]=w.useState(""),[B,K]=w.useState(mm()),[Y,E]=w.useState([]),[R,te]=w.useState(!1),[_,ne]=w.useState(Jg()),[ie,fe]=w.useState(new Date),J=o?p.find(h=>h.id===o):null;w.useEffect(()=>{Kg(_)},[_]),w.useEffect(()=>{fe(new Date)},[T,B]);const X=h=>{const W=h.toLowerCase(),re=[],Qe=[],he=[],Le=[];return r.forEach(k=>{(W.includes(k.title.toLowerCase())||k.description&&W.includes(k.description.toLowerCase()))&&re.push(k.id)}),y.forEach(k=>{(W.includes(k.title.toLowerCase())||W.includes(k.summary.toLowerCase()))&&Qe.push(k.id)}),g.forEach(k=>{(W.includes(k.name.toLowerCase())||k.role&&W.includes(k.role.toLowerCase()))&&he.push(k.id)}),Object.entries({seahaven:"Seahaven","sleek sophia":"Sleek Sophia",mayor:"Mayor",ship:"Ship",missing:"Missing",fishing:"Fishing",storm:"Storm",business:"Business",maple:"Maple",combat:"Combat",spell:"Spell"}).forEach(([k,P])=>{W.includes(k)&&!Le.includes(P)&&Le.push(P)}),J&&!Le.includes(J.name)&&Le.push(J.name),{suggestedQuestIds:re,suggestedLeadIds:Qe,suggestedNpcIds:he,suggestedTags:Le}},z=async()=>{if(!T.trim()){m("Please describe what happened first");return}te(!0);try{const{suggestedQuestIds:h,suggestedLeadIds:W,suggestedNpcIds:re,suggestedTags:Qe}=X(T),he=v({hubId:o||void 0,locationName:B||J?.defaultLocationName,mode:_,text:T,tags:Qe,linkedQuestIds:h,linkedLeadIds:W,linkedNpcIds:re});kg({id:he.id,text:T,location:B,timestamp:new Date(he.createdAt).getTime()});const Le=[he,...A].slice(0,10),O={text:T,currentHubId:o||void 0,currentLocationName:B||J?.defaultLocationName,mode:_,recentEvents:Le,openQuests:r.filter(P=>P.status!=="Resolved"),openLeads:y.filter(P=>P.status!=="Resolved"),npcs:g,characterProfile:U||void 0},k=await Gg(O);E(k),G("")}catch(h){m("Failed to get suggestions. Please try again."),console.error("Error getting suggestions:",h)}finally{te(!1)}},ee=h=>{K(h),fm(h)};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Session Brain"}),p.length>0&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"hub-select",className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Hub"}),s.jsxs("select",{id:"hub-select",value:o||"",onChange:h=>{if(C(h.target.value||null),h.target.value){const W=p.find(re=>re.id===h.target.value);W?.defaultLocationName&&ee(W.defaultLocationName)}},className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Select current hub",children:[s.jsx("option",{value:"",children:"No hub selected"}),p.map(h=>s.jsx("option",{value:h.id,children:h.name},h.id))]}),J&&J.description&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:J.description})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-300 mb-2",children:"Current Location"}),s.jsx("input",{id:"location",type:"text",value:B,onChange:h=>ee(h.target.value),placeholder:J?.defaultLocationName||"e.g. Seahaven, Grove Village, Two Weeks at Sea",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Current location"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Session Mode"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"default",label:"General"},{value:"interrogate-npc",label:"NPC"},{value:"investigate-lead",label:"Investigate"},{value:"business-planning",label:"Business"},{value:"combat-spells",label:"Combat/Spells"}].map(h=>s.jsx("button",{type:"button",onClick:()=>ne(h.value),className:`px-4 py-2 rounded-lg font-medium transition-colors text-sm ${_===h.value?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,"aria-pressed":_===h.value,children:h.label},h.value))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"session-text",className:"block text-sm font-medium text-gray-300 mb-2",children:"What just happened?"}),s.jsx("textarea",{id:"session-text",value:T,onChange:h=>G(h.target.value),placeholder:"Describe the most recent development or situation...",rows:6,className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg","aria-label":"Describe what just happened in the session","aria-required":"true"})]}),s.jsx("button",{onClick:z,disabled:R||!T.trim(),className:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold rounded-lg transition-colors text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[48px] flex items-center justify-center","aria-label":"Get AI suggestions for next actions","aria-busy":R,children:R?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Thinking..."})]}):"Suggest Next 3 Options"}),Y.length>0&&s.jsxs("div",{className:"mt-6 space-y-4 animate-fadeIn",role:"region","aria-label":"AI suggestions",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-200",children:"Suggestions:"}),s.jsx("ol",{className:"space-y-4","aria-label":"List of suggested actions",children:Y.map((h,W)=>s.jsxs("li",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600 transition-shadow hover:shadow-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("h4",{className:"text-lg font-semibold text-blue-400",children:[W+1,". ",h.title]}),h.source&&s.jsx("span",{className:`text-xs px-2 py-1 rounded ${h.source==="llm"?"bg-green-600":"bg-yellow-600"} text-white`,title:h.source==="llm"?"Generated by AI":"Rule-based suggestion",children:h.source==="llm"?"AI":"Rules"})]}),s.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-300","aria-label":`Details for ${h.title}`,children:h.bullets.map((re,Qe)=>s.jsx("li",{children:re},Qe))})]},h.id))})]}),!R&&Y.length===0&&T.trim()&&s.jsx("div",{className:"mt-6 text-center py-4",role:"status","aria-live":"polite",children:s.jsx("p",{className:"text-gray-400 text-sm",children:'Click "Suggest Next 3 Options" to get AI-powered suggestions based on your session notes.'})}),s.jsxs("div",{className:"mt-4 text-xs text-gray-500 text-right",children:[" Last saved: ",ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})}function hi({importance:r,npcRole:g,status:y,size:o="md",compact:p=!1}){if(g){const C={ally:"",Ally:"",neutral:"",Neutral:"",merchant:"",Merchant:"",enemy:"",Enemy:"","quest-giver":"","Quest-Giver":"","quest giver":"",villain:"",Villain:""},U={ally:{bg:"bg-green-900/40",text:"text-green-300"},Ally:{bg:"bg-green-900/40",text:"text-green-300"},neutral:{bg:"bg-gray-700/40",text:"text-gray-300"},Neutral:{bg:"bg-gray-700/40",text:"text-gray-300"},merchant:{bg:"bg-amber-900/40",text:"text-amber-300"},Merchant:{bg:"bg-amber-900/40",text:"text-amber-300"},enemy:{bg:"bg-red-900/40",text:"text-red-300"},Enemy:{bg:"bg-red-900/40",text:"text-red-300"},"quest-giver":{bg:"bg-blue-900/40",text:"text-blue-300"},"Quest-Giver":{bg:"bg-blue-900/40",text:"text-blue-300"},"quest giver":{bg:"bg-blue-900/40",text:"text-blue-300"},villain:{bg:"bg-purple-900/40",text:"text-purple-300"},Villain:{bg:"bg-purple-900/40",text:"text-purple-300"}},A=C[g]||"",v=U[g]||{bg:"bg-gray-700/40",text:"text-gray-300"},m=o==="sm"?"text-xs px-2 py-1":o==="lg"?"text-sm px-3 py-1.5":"text-xs px-2 py-1",T=p?g.charAt(0):g;return s.jsxs("span",{className:`inline-block rounded ${v.bg} ${v.text} ${m} font-medium`,children:[A," ",T]})}if(r!==void 0){const C=[{bg:"bg-green-900/30",text:"text-green-400",dot:"bg-green-500",label:"Low"},{bg:"bg-yellow-900/30",text:"text-yellow-400",dot:"bg-yellow-500",label:"Medium"},{bg:"bg-orange-900/30",text:"text-orange-400",dot:"bg-orange-500",label:"High"},{bg:"bg-red-900/30",text:"text-red-400",dot:"bg-red-600",label:"Critical"}],U=Math.min(Math.max(Math.round(r)-1,0),3),A=C[U],v=o==="sm"?"text-xs px-2 py-1":o==="lg"?"text-sm px-3 py-1.5":"text-xs px-2 py-1";return s.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded ${A.bg} ${A.text} ${v} font-medium`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${A.dot}`}),p?A.label.charAt(0):A.label]})}if(y){const C={Open:{bg:"bg-blue-900/30",text:"text-blue-400",emoji:""},"In Progress":{bg:"bg-yellow-900/30",text:"text-yellow-400",emoji:""},Resolved:{bg:"bg-green-900/30",text:"text-green-400",emoji:""}},U=C[y]||C.Open,A=o==="sm"?"text-xs px-2 py-1":o==="lg"?"text-sm px-3 py-1.5":"text-xs px-2 py-1";return s.jsxs("span",{className:`inline-flex items-center gap-1 rounded ${U.bg} ${U.text} ${A} font-medium`,children:[U.emoji," ",p?y.charAt(0):y]})}return null}function ch({quest:r,compact:g=!1}){return s.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:s.jsx(hi,{status:r.status,size:"sm",compact:g})})}function rh({npc:r,compact:g=!1}){return s.jsx("div",{className:"flex gap-2 items-center flex-wrap",children:r.role&&s.jsx(hi,{npcRole:r.role,size:"sm",compact:g})})}function oh({lead:r,compact:g=!1}){return s.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[s.jsx(hi,{importance:r.importance,size:"sm",compact:g}),s.jsx(hi,{status:r.status,size:"sm",compact:g})]})}function dh(){const{quests:r,addQuest:g,updateQuest:y,deleteQuest:o,loadSeahavenSeed:p,activeHubId:C,hubs:U}=Gt(),{showSuccess:A,showError:v}=il(),[m,T]=w.useState(""),[G,B]=w.useState(""),[K,Y]=w.useState(""),[E,R]=w.useState(""),[te,_]=w.useState(""),[ne,ie]=w.useState(!1),[fe,J]=w.useState(null),[X,z]=w.useState(new Set),[ee,h]=w.useState(!1),W=()=>{if(!m.trim()){v("Quest title is required");return}try{g({title:m.trim(),location:G.trim()||"Unknown",description:K.trim()||void 0,hubId:E||C||void 0,status:"Open"}),T(""),B(""),Y(""),R(""),ie(!1),A("Quest added successfully")}catch(d){v("Failed to add quest"),console.error("Error adding quest:",d)}},re=d=>{J(d.id)},Qe=(d,M)=>{try{y(d,M),J(null),A("Quest updated")}catch(V){v("Failed to update quest"),console.error("Error updating quest:",V)}},he=d=>{const M=r.find(xe=>xe.id===d);if(!M)return;const V=["Open","In Progress","Resolved"],$=V.indexOf(M.status),oe=V[($+1)%V.length];y(d,{status:oe})},Le=d=>{if(window.confirm("Delete this quest?"))try{o(d),A("Quest deleted")}catch(M){v("Failed to delete quest"),console.error("Error deleting quest:",M)}},O=d=>{z(M=>{const V=new Set(M);return V.has(d)?V.delete(d):V.add(d),V})},k=()=>{if(X.size!==0&&window.confirm(`Delete ${X.size} quest(s)?`))try{X.forEach(d=>o(d)),z(new Set),h(!1),A(`${X.size} quest(s) deleted`)}catch(d){v("Failed to delete quests"),console.error("Error deleting quests:",d)}},P=d=>{if(X.size!==0)try{X.forEach(M=>y(M,{status:d})),z(new Set),h(!1),A(`${X.size} quest(s) updated`)}catch(M){v("Failed to update quests"),console.error("Error updating quests:",M)}},ve=te?r.filter(d=>d.location.toLowerCase().includes(te.toLowerCase())):r,Se={Open:"bg-green-600","In Progress":"bg-yellow-600",Resolved:"bg-gray-600"};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Quests & Rumours"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{if(window.confirm("Load Seahaven demo data? This will add NPCs, quests, and leads for Seahaven."))try{await p(),A("Seahaven demo data loaded!")}catch(d){v("Failed to load Seahaven data"),console.error("Error loading seed:",d)}},className:"px-3 py-1 rounded text-sm font-medium bg-purple-600 hover:bg-purple-700 text-white transition-colors","aria-label":"Load Seahaven demo data",title:"Load Seahaven demo data (NPCs, quests, leads)",children:"Load Seahaven"}),ve.length>0&&s.jsx("button",{onClick:()=>{h(!ee),z(new Set)},className:`px-3 py-1 rounded text-sm font-medium transition-colors ${ee?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,"aria-label":ee?"Exit bulk mode":"Enter bulk mode",children:ee?"Cancel":"Select"})]})]}),ee&&X.size>0&&s.jsxs("div",{className:"bg-blue-900 bg-opacity-50 rounded-lg p-3 flex items-center gap-2 flex-wrap",children:[s.jsxs("span",{className:"text-sm text-gray-200",children:[X.size," selected"]}),s.jsx("button",{onClick:()=>P("Open"),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-sm rounded",children:"Mark Open"}),s.jsx("button",{onClick:()=>P("In Progress"),className:"px-3 py-1 bg-yellow-600 hover:bg-yellow-700 text-white text-sm rounded",children:"Mark In Progress"}),s.jsx("button",{onClick:()=>P("Resolved"),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded",children:"Mark Resolved"}),s.jsx("button",{onClick:k,className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded",children:"Delete Selected"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quest-filter",className:"sr-only",children:"Filter quests by location"}),s.jsx("input",{id:"quest-filter",type:"text",value:te,onChange:d=>_(d.target.value),placeholder:"Filter by location...",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Filter quests by location"})]}),ne?s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",role:"form","aria-label":"Add new quest",children:[s.jsx("label",{htmlFor:"quest-title",className:"sr-only",children:"Quest title"}),s.jsx("input",{id:"quest-title",type:"text",value:m,onChange:d=>T(d.target.value),placeholder:"Quest title...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),W()),d.key==="Escape"&&(ie(!1),T(""),B(""),Y(""))},autoFocus:!0,"aria-required":"true"}),U.length>0&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"quest-hub",className:"block text-sm text-gray-300 mb-1",children:"Hub (optional)"}),s.jsxs("select",{id:"quest-hub",value:E,onChange:d=>R(d.target.value),className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:d=>{d.key==="Escape"&&(ie(!1),T(""),B(""),Y(""),R(""))},children:[s.jsx("option",{value:"",children:"No hub"}),U.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))]})]}),s.jsx("label",{htmlFor:"quest-location",className:"sr-only",children:"Quest location"}),s.jsx("input",{id:"quest-location",type:"text",value:G,onChange:d=>B(d.target.value),placeholder:"Location (optional)...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:d=>{d.key==="Escape"&&(ie(!1),T(""),B(""),Y(""),R(""))}}),s.jsx("label",{htmlFor:"quest-description",className:"sr-only",children:"Quest description"}),s.jsx("textarea",{id:"quest-description",value:K,onChange:d=>Y(d.target.value),placeholder:"Description (optional)...",rows:3,className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:d=>{d.key==="Escape"&&(ie(!1),T(""),B(""),Y(""),R(""))}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:W,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Add quest",children:"Add Quest"}),s.jsx("button",{onClick:()=>{ie(!1),T(""),B(""),Y(""),R("")},className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Cancel adding quest",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>ie(!0),className:"w-full py-3 px-6 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors text-lg focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Add new quest",children:"Add Quest"}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto","aria-label":"Quest list",children:ve.length===0?s.jsx("div",{className:"text-center py-8",role:"status","aria-live":"polite",children:te?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-gray-400 mb-2",children:['No quests found for "',te,'".']}),s.jsx("p",{className:"text-sm text-gray-500",children:"Try a different location or clear the filter."})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-400 mb-2",children:"No quests yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add your first quest to start tracking your adventures!"})]})}):ve.map(d=>{const M=fe===d.id,V=X.has(d.id);return M?s.jsx(fh,{quest:d,onSave:$=>Qe(d.id,$),onCancel:()=>J(null)},d.id):s.jsxs("div",{className:`bg-gray-700 rounded-lg p-4 border ${V?"border-blue-500":"border-gray-600"}`,children:[ee&&s.jsx("input",{type:"checkbox",checked:V,onChange:()=>O(d.id),className:"mb-2","aria-label":`Select quest: ${d.title}`}),s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100 flex-1",children:d.title}),s.jsxs("div",{className:"flex gap-2",children:[!ee&&s.jsx("button",{onClick:()=>re(d),className:"text-blue-400 hover:text-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded",title:"Edit quest","aria-label":`Edit quest: ${d.title}`,children:""}),s.jsx("button",{onClick:()=>Le(d.id),className:"text-red-400 hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 rounded",title:"Delete quest","aria-label":`Delete quest: ${d.title}`,children:""})]})]}),s.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[s.jsx("span",{"aria-hidden":"true",children:""})," ",s.jsx("span",{className:"sr-only",children:"Location:"})," ",d.location]}),d.description&&s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:d.description}),s.jsx("div",{className:"flex items-center justify-between gap-2 mb-2",children:s.jsx(ch,{quest:d})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:()=>he(d.id),className:`px-3 py-1 rounded text-sm font-medium text-white min-h-[32px] min-w-[100px] ${Se[d.status]} focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors hover:opacity-90`,"aria-label":`Change quest status from ${d.status}`,title:`Click to cycle status: ${d.status}  ${d.status==="Open"?"In Progress":d.status==="In Progress"?"Resolved":"Open"}`,children:d.status})})]},d.id)})})]})}function fh({quest:r,onSave:g,onCancel:y}){const[o,p]=w.useState(r.title),[C,U]=w.useState(r.location),[A,v]=w.useState(r.description||""),m=()=>{o.trim()&&g({title:o.trim(),location:C.trim()||"Unknown",description:A.trim()||void 0})};return s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border border-blue-500",children:[s.jsx("input",{type:"text",value:o,onChange:T=>p(T.target.value),placeholder:"Quest title...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2",autoFocus:!0}),s.jsx("input",{type:"text",value:C,onChange:T=>U(T.target.value),placeholder:"Location...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),s.jsx("textarea",{value:A,onChange:T=>v(T.target.value),placeholder:"Description (optional)...",rows:3,className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:m,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:"Save"}),s.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors",children:"Cancel"})]})]})}const mh=({npc:r,hubForNpc:g})=>r?s.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-700/80 bg-slate-900/70 px-4 py-5 flex flex-col gap-4 sm:min-w-[340px]",children:[s.jsxs("div",{className:"flex-1 text-sm",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400 mb-1",children:"NPC Profile"}),s.jsx("h3",{className:"text-lg font-semibold text-slate-50 mb-1",children:r.name}),r.role&&s.jsxs("p",{className:"text-slate-300 mb-1",children:[s.jsx("span",{className:"font-medium text-slate-200",children:"Role: "}),r.role]}),(g?.name||r.location)&&s.jsxs("p",{className:"text-slate-300 mb-2",children:[s.jsx("span",{className:"font-medium text-slate-200",children:"Based in: "}),r.location||g?.name]}),r.notes?s.jsx("p",{className:"text-slate-300/90 leading-snug whitespace-pre-line",children:r.notes}):s.jsx("p",{className:"text-slate-400",children:"No notes for this NPC."})]}),s.jsx("div",{className:"flex items-center justify-center mt-2",children:s.jsxs("div",{className:"relative w-28 h-28 rounded-full bg-slate-800/90 shadow-inner shadow-black/60",children:[s.jsx("div",{className:"absolute inset-x-7 top-5 h-8 rounded-full bg-slate-600/90"}),s.jsx("div",{className:"absolute inset-x-5 bottom-3 h-10 rounded-t-full rounded-b-3xl bg-slate-700/90"})]})})]}):s.jsxs("div",{className:"mt-3 rounded-2xl border border-dashed border-slate-700/80 bg-slate-900/40 px-4 py-6 text-sm text-slate-400",children:[s.jsx("p",{className:"font-medium text-slate-300 mb-1",children:"NPC Profile"}),s.jsx("p",{children:"Select an NPC on the left to see their profile here."})]});function gh(){const{npcs:r,businessIdeas:g,hubs:y,addNPC:o,deleteNPC:p,addBusinessIdea:C,deleteBusinessIdea:U}=Gt(),{showSuccess:A,showError:v}=il(),[m,T]=w.useState("npcs"),[G,B]=w.useState(!1),[K,Y]=w.useState(!1),[E,R]=w.useState({name:"",role:"",location:"",notes:""}),[te,_]=w.useState({title:"",location:"",description:""}),[ne,ie]=w.useState(null),fe=h=>{if(h.key==="ArrowLeft"||h.key==="ArrowRight"){h.preventDefault();const W=["npcs","business"],re=W.indexOf(m);let Qe;h.key==="ArrowLeft"?Qe=re>0?re-1:W.length-1:Qe=re<W.length-1?re+1:0,T(W[Qe]);const he=W[Qe]==="npcs"?"npcs-tab":"business-tab";setTimeout(()=>{document.getElementById(he)?.focus()},0)}else h.key==="Home"?(h.preventDefault(),T("npcs"),document.getElementById("npcs-tab")?.focus()):h.key==="End"&&(h.preventDefault(),T("business"),document.getElementById("business-tab")?.focus())},J=()=>{if(!E.name.trim()){v("NPC name is required");return}try{o({name:E.name.trim(),role:E.role.trim()||"Unknown",location:E.location.trim()||"Unknown",notes:E.notes.trim()}),R({name:"",role:"",location:"",notes:""}),B(!1),A("NPC added successfully")}catch(h){v("Failed to add NPC"),console.error("Error adding NPC:",h)}},X=()=>{if(!te.title.trim()){v("Business idea title is required");return}try{C({title:te.title.trim(),location:te.location.trim()||"Unknown",description:te.description.trim()}),_({title:"",location:"",description:""}),Y(!1),A("Business idea added successfully")}catch(h){v("Failed to add business idea"),console.error("Error adding business idea:",h)}},z=h=>{const W=r.find(re=>re.id===h);if(window.confirm(`Delete NPC: ${W?.name||"this NPC"}?`))try{p(h),ne===h&&ie(null),A("NPC deleted")}catch(re){v("Failed to delete NPC"),console.error("Error deleting NPC:",re)}},ee=h=>{const W=g.find(re=>re.id===h);if(window.confirm(`Delete business idea: ${W?.title||"this business idea"}?`))try{U(h),A("Business idea deleted")}catch(re){v("Failed to delete business idea"),console.error("Error deleting business idea:",re)}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"NPCs & Business"}),s.jsxs("div",{className:"flex gap-2 border-b border-gray-700",role:"tablist","aria-label":"NPCs and Business Ideas tabs",children:[s.jsx("button",{onClick:()=>T("npcs"),onKeyDown:fe,role:"tab","aria-selected":m==="npcs","aria-controls":"npcs-panel",id:"npcs-tab",tabIndex:m==="npcs"?0:-1,className:`px-4 py-2 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${m==="npcs"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"NPCs"}),s.jsx("button",{onClick:()=>T("business"),onKeyDown:fe,role:"tab","aria-selected":m==="business","aria-controls":"business-panel",id:"business-tab",tabIndex:m==="business"?0:-1,className:`px-4 py-2 font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 ${m==="business"?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-300"}`,children:"Business Ideas"})]}),m==="npcs"&&s.jsx("div",{className:"space-y-4",role:"tabpanel",id:"npcs-panel","aria-labelledby":"npcs-tab",children:s.jsx("div",{className:"mt-4 grid gap-3 sm:grid-cols-1",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-sm font-semibold text-slate-100 mb-2",children:"NPCs in this hub"}),G?s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",role:"form","aria-label":"Add new NPC",children:[s.jsx("label",{htmlFor:"npc-name",className:"sr-only",children:"NPC name"}),s.jsx("input",{id:"npc-name",type:"text",value:E.name,onChange:h=>R({...E,name:h.target.value}),placeholder:"NPC name...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,"aria-required":"true",onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&E.name.trim()&&(h.preventDefault(),J()),h.key==="Escape"&&(B(!1),R({name:"",role:"",location:"",notes:""}))}}),s.jsx("label",{htmlFor:"npc-role",className:"sr-only",children:"NPC role"}),s.jsx("input",{id:"npc-role",type:"text",value:E.role,onChange:h=>R({...E,role:h.target.value}),placeholder:"Role (e.g. Guard Captain, Tavern Owner)...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&E.name.trim()&&(h.preventDefault(),J()),h.key==="Escape"&&(B(!1),R({name:"",role:"",location:"",notes:""}))}}),s.jsx("label",{htmlFor:"npc-location",className:"sr-only",children:"NPC location"}),s.jsx("input",{id:"npc-location",type:"text",value:E.location,onChange:h=>R({...E,location:h.target.value}),placeholder:"Location...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&E.name.trim()&&(h.preventDefault(),J()),h.key==="Escape"&&(B(!1),R({name:"",role:"",location:"",notes:""}))}}),s.jsx("label",{htmlFor:"npc-notes",className:"sr-only",children:"NPC notes"}),s.jsx("textarea",{id:"npc-notes",value:E.notes,onChange:h=>R({...E,notes:h.target.value}),placeholder:"Notes (optional)...",rows:2,className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:h=>{h.key==="Escape"&&(B(!1),R({name:"",role:"",location:"",notes:""}))}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:J,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Add NPC",children:"Add NPC"}),s.jsx("button",{onClick:()=>{B(!1),R({name:"",role:"",location:"",notes:""})},className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Cancel adding NPC",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>B(!0),className:"w-full py-3 px-6 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors text-lg focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Add new NPC",children:"Add NPC"}),s.jsx("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto","aria-label":"NPC list",children:r.length===0?s.jsxs("div",{className:"text-center py-8",role:"status","aria-live":"polite",children:[s.jsx("p",{className:"text-gray-400 mb-2",children:"No NPCs yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add your first NPC to start tracking characters you meet!"})]}):r.map(h=>{const W=ne===h.id;return s.jsxs("div",{className:`bg-gray-700 rounded-lg p-1 border ${W?"border-emerald-400 bg-emerald-400/6":"border-gray-600"}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("button",{type:"button",onClick:()=>ie(h.id),className:`w-full text-left px-3 py-2 rounded-lg transition ${W?"text-emerald-200":"text-gray-100 hover:text-gray-50"}`,"aria-pressed":W,children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-base font-semibold",children:h.name}),s.jsx("p",{className:"text-xs text-gray-400",children:h.role})]})}),s.jsx("button",{onClick:()=>z(h.id),className:"ml-2 text-red-400 hover:text-red-300 focus:outline-none focus:ring-2 focus:ring-red-500 rounded px-2",title:"Delete NPC","aria-label":`Delete NPC: ${h.name}`,children:""})]}),s.jsxs("div",{className:"px-3 pb-2",children:[s.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:[s.jsx("span",{"aria-hidden":"true",children:""})," ",s.jsx("span",{className:"sr-only",children:"Location:"})," ",h.location]}),s.jsx("div",{className:"mt-2 mb-2",children:s.jsx(rh,{npc:h,compact:!0})}),h.notes&&s.jsx("p",{className:"text-sm text-gray-300 mt-2",children:h.notes})]})]},h.id)})}),s.jsx("div",{className:"mt-3",children:(()=>{const h=r.find(re=>re.id===ne)??null,W=h?y.find(re=>re.id===h.hubId)??null:null;return s.jsx(mh,{npc:h,hubForNpc:W})})()})]})})}),m==="business"&&s.jsxs("div",{className:"space-y-4",role:"tabpanel",id:"business-panel","aria-labelledby":"business-tab",children:[K?s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",role:"form","aria-label":"Add new business idea",children:[s.jsx("label",{htmlFor:"business-title",className:"sr-only",children:"Business idea title"}),s.jsx("input",{id:"business-title",type:"text",value:te.title,onChange:h=>_({...te,title:h.target.value}),placeholder:"Business idea title...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,"aria-required":"true",onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&te.title.trim()&&(h.preventDefault(),X()),h.key==="Escape"&&(Y(!1),_({title:"",location:"",description:""}))}}),s.jsx("label",{htmlFor:"business-location",className:"sr-only",children:"Business location"}),s.jsx("input",{id:"business-location",type:"text",value:te.location,onChange:h=>_({...te,location:h.target.value}),placeholder:"Location...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&te.title.trim()&&(h.preventDefault(),X()),h.key==="Escape"&&(Y(!1),_({title:"",location:"",description:""}))}}),s.jsx("label",{htmlFor:"business-description",className:"sr-only",children:"Business description"}),s.jsx("textarea",{id:"business-description",value:te.description,onChange:h=>_({...te,description:h.target.value}),placeholder:"Description (optional)...",rows:3,className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:h=>{h.key==="Enter"&&!h.shiftKey&&te.title.trim()&&(h.preventDefault(),X()),h.key==="Escape"&&(Y(!1),_({title:"",location:"",description:""}))}}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:X,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Add business idea",children:"Add Business Idea"}),s.jsx("button",{onClick:()=>{Y(!1),_({title:"",location:"",description:""})},className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Cancel adding business idea",children:"Cancel"})]})]}):s.jsx("button",{onClick:()=>Y(!0),className:"w-full py-3 px-6 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors text-lg focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Add new business idea",children:"Add Business Idea"}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto","aria-label":"Business ideas list",children:g.length===0?s.jsxs("div",{className:"text-center py-8",role:"status","aria-live":"polite",children:[s.jsx("p",{className:"text-gray-400 mb-2",children:"No business ideas yet."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Track potential business ventures and opportunities here!"})]}):g.map(h=>s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:h.title})}),s.jsx("button",{onClick:()=>ee(h.id),className:"text-red-400 hover:text-red-300 ml-2 focus:outline-none focus:ring-2 focus:ring-red-500 rounded",title:"Delete business idea","aria-label":`Delete business idea: ${h.title}`,children:""})]}),s.jsxs("p",{className:"text-sm text-gray-400 mb-1",children:[s.jsx("span",{"aria-hidden":"true",children:""})," ",s.jsx("span",{className:"sr-only",children:"Location:"})," ",h.location]}),h.description&&s.jsx("p",{className:"text-sm text-gray-300 mt-2",children:h.description})]},h.id))})]})]})}function hh(){const{leads:r,activeHubId:g,addLead:y,updateLead:o,deleteLead:p}=Gt(),{showSuccess:C,showError:U}=il(),[A,v]=w.useState(!1),[m,T]=w.useState({title:"",summary:"",importance:3}),G=g?r.filter(R=>R.hubId===g):r,B=()=>{if(!m.title.trim()||!g){U("Lead title is required and a hub must be selected");return}try{y({hubId:g,title:m.title.trim(),summary:m.summary.trim(),status:"Open",importance:m.importance}),T({title:"",summary:"",importance:3}),v(!1),C("Lead added successfully")}catch(R){U("Failed to add lead"),console.error("Error adding lead:",R)}},K=R=>{const te=r.find(fe=>fe.id===R);if(!te)return;const _=["Open","In Progress","Resolved"],ne=_.indexOf(te.status),ie=_[(ne+1)%_.length];o(R,{status:ie})},Y=R=>{const te=r.find(_=>_.id===R);if(window.confirm(`Delete lead: ${te?.title||"this lead"}?`))try{p(R),C("Lead deleted")}catch(_){U("Failed to delete lead"),console.error("Error deleting lead:",_)}},E={Open:"bg-green-600","In Progress":"bg-yellow-600",Resolved:"bg-gray-600"};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"Leads"}),!g&&s.jsx("div",{className:"bg-yellow-900 bg-opacity-50 rounded-lg p-3 text-yellow-200 text-sm",children:"Select a hub to view and manage leads for that location."}),g&&A?s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 space-y-3",role:"form","aria-label":"Add new lead",children:[s.jsx("label",{htmlFor:"lead-title",className:"sr-only",children:"Lead title"}),s.jsx("input",{id:"lead-title",type:"text",value:m.title,onChange:R=>T({...m,title:R.target.value}),placeholder:"Lead title...",className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,"aria-required":"true"}),s.jsx("label",{htmlFor:"lead-summary",className:"sr-only",children:"Lead summary"}),s.jsx("textarea",{id:"lead-summary",value:m.summary,onChange:R=>T({...m,summary:R.target.value}),placeholder:"Summary...",rows:3,className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-required":"true"}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lead-importance",className:"block text-sm text-gray-300 mb-1",children:"Importance (1-5)"}),s.jsx("input",{id:"lead-importance",type:"number",min:"1",max:"5",value:m.importance,onChange:R=>T({...m,importance:parseInt(R.target.value)||3}),className:"w-full px-4 py-2 bg-gray-600 text-gray-100 rounded-lg border border-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:B,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Add lead",children:"Add Lead"}),s.jsx("button",{onClick:()=>{v(!1),T({title:"",summary:"",importance:3})},className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Cancel adding lead",children:"Cancel"})]})]}):g?s.jsx("button",{onClick:()=>v(!0),className:"w-full py-3 px-6 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors text-lg focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Add new lead",children:"Add Lead"}):null,s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto","aria-label":"Leads list",children:G.length===0?s.jsx("div",{className:"text-center py-8",role:"status","aria-live":"polite",children:g?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-400 mb-2",children:"No leads yet for this hub."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Add a lead to track important threads and rumours!"})]}):s.jsx("p",{className:"text-gray-400",children:"Select a hub to view leads."})}):G.sort((R,te)=>(te.importance||0)-(R.importance||0)).map(R=>s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border border-gray-600",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:R.title}),s.jsx("p",{className:"text-sm text-gray-300 mt-1",children:R.summary})]}),s.jsx("button",{onClick:()=>Y(R.id),className:"text-red-400 hover:text-red-300 ml-2 focus:outline-none focus:ring-2 focus:ring-red-500 rounded",title:"Delete lead","aria-label":`Delete lead: ${R.title}`,children:""})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx(oh,{lead:R,compact:!0}),s.jsx("button",{onClick:()=>K(R.id),className:`px-3 py-1 rounded text-sm font-medium text-white ${E[R.status]} focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors hover:opacity-90`,"aria-label":`Change lead status from ${R.status}`,children:R.status})]})]},R.id))})]})}function xh(){const{characterProfile:r,setCharacterProfile:g,activeCampaignId:y}=Gt(),{showSuccess:o,showError:p}=il(),[C,U]=w.useState(!r),[A,v]=w.useState({id:r?.id||Ke(),campaignId:r?.campaignId||y||"",name:r?.name||"",classAndLevel:r?.classAndLevel||"",race:r?.race||"",background:r?.background||"",alignment:r?.alignment||"",summary:r?.summary||"",dndBeyondUrl:r?.dndBeyondUrl||"",createdAt:r?.createdAt||Date.now(),updatedAt:r?.updatedAt||Date.now()});w.useEffect(()=>{r&&v(r)},[r]);const m=w.useRef(null),T=w.useRef(0);w.useEffect(()=>{if(C&&!(!A.name?.trim()||!A.classAndLevel?.trim()))return m.current&&window.clearTimeout(m.current),m.current=window.setTimeout(()=>{try{const K={...A,updatedAt:Date.now(),createdAt:A.createdAt||Date.now()};g(K);try{const Y=Date.now();Y-T.current>2e3&&(o("Character autosaved"),T.current=Y)}catch(Y){console.warn("Autosave toast failed",Y)}}catch(K){console.error("Autosave character failed",K)}},1e3),()=>{m.current&&window.clearTimeout(m.current)}},[A,C,g,o]);const G=()=>{if(!A.name.trim()||!A.classAndLevel.trim()){p("Name and Class & Level are required");return}try{const K={...A,updatedAt:Date.now()};g(K),U(!1),o("Character profile saved")}catch(K){p("Failed to save character profile"),console.error("Error saving character:",K)}},B=()=>{if(window.confirm("Delete character profile?"))try{g(null),U(!0),v({id:Ke(),campaignId:y||"",name:"",classAndLevel:"",race:"",background:"",alignment:"",summary:"",dndBeyondUrl:"",createdAt:Date.now(),updatedAt:Date.now()}),o("Character profile deleted")}catch(K){p("Failed to delete character profile"),console.error("Error deleting character:",K)}};return!C&&r?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"My Character"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>U(!0),className:"px-3 py-1 rounded text-sm font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors","aria-label":"Edit character",children:"Edit"}),s.jsx("button",{onClick:B,className:"px-3 py-1 rounded text-sm font-medium bg-red-600 hover:bg-red-700 text-white transition-colors","aria-label":"Delete character",children:"Delete"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:r.name}),s.jsx("p",{className:"text-gray-300",children:r.classAndLevel})]}),r.race&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Race: "}),s.jsx("span",{className:"text-gray-200",children:r.race})]}),r.background&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Background: "}),s.jsx("span",{className:"text-gray-200",children:r.background})]}),r.alignment&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Alignment: "}),s.jsx("span",{className:"text-gray-200",children:r.alignment})]}),r.summary&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-400 block mb-1",children:"Summary:"}),s.jsx("p",{className:"text-gray-200 whitespace-pre-wrap",children:r.summary})]}),r.dndBeyondUrl&&s.jsx("div",{children:s.jsx("a",{href:r.dndBeyondUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"View on D&D Beyond "})})]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100 mb-4",children:"My Character"}),s.jsxs("div",{className:"space-y-4",role:"form","aria-label":"Character profile form",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"char-name",className:"block text-sm font-medium text-gray-300 mb-2",children:["Name ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("input",{id:"char-name",type:"text",value:A.name,onChange:K=>v({...A,name:K.target.value}),placeholder:"Character name",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"char-class",className:"block text-sm font-medium text-gray-300 mb-2",children:["Class & Level ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("input",{id:"char-class",type:"text",value:A.classAndLevel,onChange:K=>v({...A,classAndLevel:K.target.value}),placeholder:"e.g. Paladin 5",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-required":"true"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"char-race",className:"block text-sm font-medium text-gray-300 mb-2",children:"Race (optional)"}),s.jsx("input",{id:"char-race",type:"text",value:A.race,onChange:K=>v({...A,race:K.target.value}),placeholder:"e.g. Human, Elf, Dwarf",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"char-background",className:"block text-sm font-medium text-gray-300 mb-2",children:"Background (optional)"}),s.jsx("input",{id:"char-background",type:"text",value:A.background,onChange:K=>v({...A,background:K.target.value}),placeholder:"e.g. Noble, Acolyte, Folk Hero",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"char-alignment",className:"block text-sm font-medium text-gray-300 mb-2",children:"Alignment (optional)"}),s.jsx("input",{id:"char-alignment",type:"text",value:A.alignment,onChange:K=>v({...A,alignment:K.target.value}),placeholder:"e.g. Lawful Good, Chaotic Neutral",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"char-summary",className:"block text-sm font-medium text-gray-300 mb-2",children:"Summary (optional)"}),s.jsx("textarea",{id:"char-summary",value:A.summary,onChange:K=>v({...A,summary:K.target.value}),placeholder:"Key spells, features, fighting style, etc.",rows:4,className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"char-dndbeyond",className:"block text-sm font-medium text-gray-300 mb-2",children:"D&D Beyond URL (optional)"}),s.jsx("input",{id:"char-dndbeyond",type:"url",value:A.dndBeyondUrl,onChange:K=>v({...A,dndBeyondUrl:K.target.value}),placeholder:"https://www.dndbeyond.com/characters/...",className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:G,className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Save character profile",children:"Save Character"}),r&&s.jsx("button",{onClick:()=>{U(!1),v(r)},className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Cancel editing",children:"Cancel"})]})]})]})}function yh({maxEvents:r=20}){const{sessionEvents:g,hubs:y,quests:o,leads:p,npcs:C,updateSessionEvent:U,deleteSessionEvent:A,addQuest:v,addLead:m,setActiveHubId:T}=Gt(),{showSuccess:G}=il(),[B,K]=w.useState(null),[Y,E]=w.useState(null),[R,te]=w.useState(null),[_,ne]=w.useState(null),[ie,fe]=w.useState(null),[J,X]=w.useState(""),[z,ee]=w.useState(""),[h,W]=w.useState(new Set),[re,Qe]=w.useState(!1),[he,Le]=w.useState(!1),[O,k]=w.useState(r),[P,ve]=w.useState(""),[Se,d]=w.useState("default"),[M,V]=w.useState(""),[$,oe]=w.useState(new Set),[xe,Ce]=w.useState(new Set),[Pe,Re]=w.useState(new Set),el=w.useMemo(()=>{const H=new Set;return g.forEach(me=>{me.tags?.forEach(Ze=>H.add(Ze))}),Array.from(H).sort()},[g]),kt=w.useMemo(()=>{let H=[...g];if(_&&(H=H.filter(me=>me.hubId===_)),ie&&(H=H.filter(me=>me.mode===ie)),J&&(H=H.filter(me=>me.tags?.includes(J))),z.trim()){const me=z.toLowerCase();H=H.filter(Ze=>!!(Ze.text.toLowerCase().includes(me)||Ze.tags?.some(We=>We.toLowerCase().includes(me))||(Ze.linkedQuestIds?.map(We=>o.find(cl=>cl.id===We)).filter(Boolean)||[]).some(We=>We&&We.title.toLowerCase().includes(me))||(Ze.linkedNpcIds?.map(We=>C.find(cl=>cl.id===We)).filter(Boolean)||[]).some(We=>We&&We.name.toLowerCase().includes(me))||(Ze.linkedLeadIds?.map(We=>p.find(cl=>cl.id===We)).filter(Boolean)||[]).some(We=>We&&We.title.toLowerCase().includes(me))||y.find(We=>We.id===Ze.hubId)?.name.toLowerCase()?.includes(me)))}return H},[g,_,ie,J,z,o,C,p,y]),_t=kt.slice(0,O),tl=w.useMemo(()=>{const H={default:0,"interrogate-npc":0,"investigate-lead":0,"business-planning":0,"combat-spells":0},me={};return g.forEach(Ze=>{H[Ze.mode]++,Ze.hubId&&(me[Ze.hubId]=(me[Ze.hubId]||0)+1)}),{modeCounts:H,hubCounts:me,total:g.length}},[g,y]),Ut=H=>{const me=new Date(H),Fe=new Date().getTime()-me.getTime(),pt=Math.floor(Fe/6e4),lt=Math.floor(Fe/36e5),gl=Math.floor(Fe/864e5);return pt<1?"Just now":pt<60?`${pt} min ago`:lt<24?`${lt} hour${lt>1?"s":""} ago`:gl===1?"Yesterday":gl<7?`${gl} days ago`:me.toLocaleDateString([],{month:"short",day:"numeric"})},le=H=>({default:"General","interrogate-npc":"NPC","investigate-lead":"Investigate","business-planning":"Business","combat-spells":"Combat/Spells"})[H],pe=H=>({default:"bg-blue-600","interrogate-npc":"bg-green-600","investigate-lead":"bg-yellow-600","business-planning":"bg-purple-600","combat-spells":"bg-red-600"})[H],Nt=H=>H?y.find(me=>me.id===H)?.name:null,jt=H=>{E(H.id),ve(H.text),d(H.mode),V(H.tags?.join(", ")||""),K(H.id)},Z=()=>{if(!Y)return;const H=M.split(",").map(me=>me.trim()).filter(Boolean);U(Y,{text:P,mode:Se,tags:H}),E(null),ve(""),V(""),G("Event updated")},F=()=>{E(null),ve(""),V("")},I=H=>{te(H.id),oe(new Set(H.linkedQuestIds||[])),Ce(new Set(H.linkedLeadIds||[])),Re(new Set(H.linkedNpcIds||[])),K(H.id)},ue=()=>{R&&(U(R,{linkedQuestIds:Array.from($),linkedLeadIds:Array.from(xe),linkedNpcIds:Array.from(Pe)}),te(null),oe(new Set),Ce(new Set),Re(new Set),G("Links updated"))},ll=()=>{te(null),oe(new Set),Ce(new Set),Re(new Set)},we=()=>{h.size!==0&&(h.forEach(H=>A(H)),W(new Set),Qe(!1),G(`Deleted ${h.size} event${h.size>1?"s":""}`))},aa=H=>{const me=new Set(h);me.has(H)?me.delete(H):me.add(H),W(me)},je=()=>{h.size===_t.length?W(new Set):W(new Set(_t.map(H=>H.id)))},ul=H=>{const me=H.text.length>50?H.text.substring(0,50)+"...":H.text;v({title:me,location:H.locationName||"Unknown",hubId:H.hubId,status:"Open",description:H.text}),G("Quest created from event")},Xe=H=>{const me=H.text.length>50?H.text.substring(0,50)+"...":H.text;if(!H.hubId){G("Event must have a hub to create a lead");return}m({title:me,hubId:H.hubId,summary:H.text,status:"Open",importance:3}),G("Lead created from event")},ml=H=>{T(H),G("Switched to hub")},Ee=H=>{const me=`${H.text}

Mode: ${le(H.mode)}
Time: ${Ut(H.createdAt)}`;navigator.clipboard.writeText(me),G("Event copied to clipboard")};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Session Timeline"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>Le(!he),className:"px-3 py-1 text-sm bg-gray-700 hover:bg-gray-600 text-gray-300 rounded",children:[he?"Hide":"Show"," Stats"]}),s.jsxs("button",{onClick:()=>{Qe(!re),W(new Set)},className:"px-3 py-1 text-sm bg-gray-700 hover:bg-gray-600 text-gray-300 rounded",children:[re?"Cancel":"Bulk"," Select"]}),s.jsxs("span",{className:"text-sm text-gray-400",children:[_t.length," of ",kt.length," shown (",g.length," total)"]})]})]}),he&&s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Event Statistics"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Total Events"}),s.jsx("p",{className:"text-2xl font-bold text-gray-100",children:tl.total})]}),Object.entries(tl.modeCounts).map(([H,me])=>s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-400 mb-1",children:le(H)}),s.jsx("p",{className:"text-xl font-bold text-gray-100",children:me})]},H))]}),Object.keys(tl.hubCounts).length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Events by Hub"}),s.jsx("div",{className:"space-y-1",children:Object.entries(tl.hubCounts).map(([H,me])=>{const Ze=y.find(Fe=>Fe.id===H);return Ze?s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-300",children:Ze.name}),s.jsx("span",{className:"text-gray-400",children:me})]},H):null})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("select",{value:_||"",onChange:H=>ne(H.target.value||null),className:"px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[s.jsx("option",{value:"",children:"All Hubs"}),y.map(H=>s.jsx("option",{value:H.id,children:H.name},H.id))]}),s.jsxs("select",{value:ie||"",onChange:H=>fe(H.target.value||null),className:"px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[s.jsx("option",{value:"",children:"All Modes"}),s.jsx("option",{value:"default",children:"General"}),s.jsx("option",{value:"interrogate-npc",children:"NPC"}),s.jsx("option",{value:"investigate-lead",children:"Investigate"}),s.jsx("option",{value:"business-planning",children:"Business"}),s.jsx("option",{value:"combat-spells",children:"Combat/Spells"})]}),el.length>0&&s.jsxs("select",{value:J,onChange:H=>X(H.target.value),className:"px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[s.jsx("option",{value:"",children:"All Tags"}),el.map(H=>s.jsx("option",{value:H,children:H},H))]}),s.jsx("input",{type:"text",placeholder:"Search events, quests, NPCs...",value:z,onChange:H=>ee(H.target.value),className:"flex-1 min-w-[200px] px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),re&&h.size>0&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-700 rounded",children:[s.jsxs("span",{className:"text-sm text-gray-300",children:[h.size," selected"]}),s.jsx("button",{onClick:we,className:"px-3 py-1 text-sm bg-red-600 hover:bg-red-700 text-white rounded",children:"Delete Selected"}),s.jsx("button",{onClick:()=>W(new Set),className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 text-gray-300 rounded",children:"Clear Selection"})]})]}),s.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:_t.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx("p",{children:"No events found."}),s.jsx("p",{className:"text-sm mt-2",children:'Events will appear here when you use "Suggest Next 3 Options".'})]}):s.jsxs(s.Fragment,{children:[re&&s.jsx("div",{className:"mb-2",children:s.jsx("button",{onClick:je,className:"text-xs text-blue-400 hover:text-blue-300",children:h.size===_t.length?"Deselect All":"Select All"})}),_t.map(H=>{const me=B===H.id,Ze=Y===H.id,Fe=R===H.id,pt=h.has(H.id),lt=Nt(H.hubId),gl=H.linkedQuestIds?.map(ge=>o.find(ot=>ot.id===ge)).filter(Boolean)||[],We=H.linkedLeadIds?.map(ge=>p.find(ot=>ot.id===ge)).filter(Boolean)||[],cl=H.linkedNpcIds?.map(ge=>C.find(ot=>ot.id===ge)).filter(Boolean)||[];return s.jsxs("div",{className:`bg-gray-700 rounded-lg p-4 border transition-colors ${pt?"border-blue-500 bg-gray-600":"border-gray-600 hover:border-gray-500"}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[re&&s.jsx("input",{type:"checkbox",checked:pt,onChange:()=>aa(H.id),className:"w-4 h-4"}),s.jsx("span",{className:"text-xs text-gray-400",children:Ut(H.createdAt)}),s.jsx("span",{className:`text-xs px-2 py-1 ${pe(H.mode)} text-white rounded`,children:le(H.mode)}),lt&&s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-600 text-gray-200 rounded",children:lt}),H.linkedQuestIds&&H.linkedQuestIds.length>0&&s.jsxs("span",{className:"text-xs text-gray-400",children:["+",H.linkedQuestIds.length," quest",H.linkedQuestIds.length>1?"s":""]})]}),Ze?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:P,onChange:ge=>ve(ge.target.value),className:"w-full px-3 py-2 bg-gray-800 text-gray-100 rounded border border-gray-600 text-sm",rows:4}),s.jsxs("select",{value:Se,onChange:ge=>d(ge.target.value),className:"w-full px-3 py-2 bg-gray-800 text-gray-100 rounded border border-gray-600 text-sm",children:[s.jsx("option",{value:"default",children:"General"}),s.jsx("option",{value:"interrogate-npc",children:"NPC"}),s.jsx("option",{value:"investigate-lead",children:"Investigate"}),s.jsx("option",{value:"business-planning",children:"Business"}),s.jsx("option",{value:"combat-spells",children:"Combat/Spells"})]}),s.jsx("input",{type:"text",value:M,onChange:ge=>V(ge.target.value),placeholder:"Tags (comma-separated)",className:"w-full px-3 py-2 bg-gray-800 text-gray-100 rounded border border-gray-600 text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:Z,className:"px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Save"}),s.jsx("button",{onClick:F,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 text-gray-300 rounded",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-gray-200 text-sm line-clamp-2",children:H.text}),H.tags&&H.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:H.tags.map((ge,ot)=>s.jsx("button",{onClick:()=>X(ge),className:"text-xs px-2 py-0.5 bg-gray-600 hover:bg-gray-500 text-gray-300 rounded cursor-pointer",children:ge},ot))})]})]}),!Ze&&s.jsxs("div",{className:"flex gap-2 ml-2 flex-wrap",children:[s.jsx("button",{onClick:()=>K(me?null:H.id),className:"text-xs px-2 py-1 text-blue-400 hover:text-blue-300",children:me?"Collapse":"View"}),s.jsx("button",{onClick:()=>jt(H),className:"text-xs px-2 py-1 text-yellow-400 hover:text-yellow-300",children:"Edit"}),s.jsx("button",{onClick:()=>A(H.id),className:"text-xs px-2 py-1 text-red-400 hover:text-red-300","aria-label":"Delete event",children:"Delete"})]})]}),me&&!Ze&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-600 space-y-3",children:[s.jsx("div",{children:s.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:H.text})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>ul(H),className:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-700 text-white rounded",children:"Create Quest"}),H.hubId&&s.jsx("button",{onClick:()=>Xe(H),className:"px-2 py-1 text-xs bg-yellow-600 hover:bg-yellow-700 text-white rounded",children:"Create Lead"}),H.hubId&&s.jsx("button",{onClick:()=>ml(H.hubId),className:"px-2 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Jump to Hub"}),s.jsx("button",{onClick:()=>Ee(H),className:"px-2 py-1 text-xs bg-gray-600 hover:bg-gray-500 text-gray-300 rounded",children:"Copy"}),s.jsx("button",{onClick:()=>I(H),className:"px-2 py-1 text-xs bg-green-600 hover:bg-green-700 text-white rounded",children:Fe?"Cancel Linking":"Link Entities"})]}),Fe&&s.jsxs("div",{className:"bg-gray-800 rounded p-3 space-y-3",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-200",children:"Link Entities"}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:"Quests"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:o.map(ge=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:$.has(ge.id),onChange:ot=>{const bt=new Set($);ot.target.checked?bt.add(ge.id):bt.delete(ge.id),oe(bt)}}),s.jsx("span",{children:ge.title})]},ge.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:"Leads"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:p.map(ge=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:xe.has(ge.id),onChange:ot=>{const bt=new Set(xe);ot.target.checked?bt.add(ge.id):bt.delete(ge.id),Ce(bt)}}),s.jsx("span",{children:ge.title})]},ge.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-400 mb-1 block",children:"NPCs"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:C.map(ge=>s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:Pe.has(ge.id),onChange:ot=>{const bt=new Set(Pe);ot.target.checked?bt.add(ge.id):bt.delete(ge.id),Re(bt)}}),s.jsxs("span",{children:[ge.name," (",ge.role,")"]})]},ge.id))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:ue,className:"px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded",children:"Save Links"}),s.jsx("button",{onClick:ll,className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 text-gray-300 rounded",children:"Cancel"})]})]}),gl.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"Linked Quests:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:gl.map(ge=>ge&&s.jsx("span",{className:"text-xs px-2 py-1 bg-purple-600 text-white rounded",children:ge.title},ge.id))})]}),We.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"Linked Leads:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:We.map(ge=>ge&&s.jsx("span",{className:"text-xs px-2 py-1 bg-yellow-600 text-white rounded",children:ge.title},ge.id))})]}),cl.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-400 mb-1",children:"Linked NPCs:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:cl.map(ge=>ge&&s.jsx("span",{className:"text-xs px-2 py-1 bg-green-600 text-white rounded",children:ge.name},ge.id))})]})]})]},H.id)})]})}),kt.length>O&&s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:()=>k(H=>H+r),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded",children:["Load More (",kt.length-O," remaining)"]})})]})}function ph({eventCount:r=20}){const{sessionEvents:g,hubs:y,quests:o,leads:p,activeHubId:C}=Gt(),[U,A]=w.useState(!1),[v,m]=w.useState(!1),[T,G]=w.useState(r),[B,K]=w.useState(null),Y=C?y.find(J=>J.id===C):null,E=g.slice(0,T),R=o.filter(J=>J.status!=="Resolved"),te=p.filter(J=>J.status!=="Resolved"),_=C?R.filter(J=>J.hubId===C):R,ne=C?te.filter(J=>J.hubId===C):te,ie=()=>{if(!B)return;const J=`# Session Handoff Summary
${Y?`**Hub:** ${Y.name}
`:""}**Generated:** ${new Date().toLocaleString()}

## What Just Happened
${B.whatHappened.map((h,W)=>`${W+1}. ${h}`).join(`
`)}

## Open Threads ${Y?`in ${Y.name}`:""}
${B.openThreads.map(h=>`- ${h}`).join(`
`)}

## Top 3 Priorities for Next Session
${B.nextSessionPriorities.map((h,W)=>`${W+1}. ${h}`).join(`
`)}
`,X=new Blob([J],{type:"text/markdown"}),z=URL.createObjectURL(X),ee=document.createElement("a");ee.href=z,ee.download=`handoff-summary-${new Date().toISOString().split("T")[0]}.md`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(z)},fe=async()=>{A(!0);try{if(v){const J=await fetch("/api/ai/summarize-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({events:E,quests:_,npcs:[],activeHub:Y})});if(J.ok){const z=(await J.json()).summary;K({whatHappened:[z],openThreads:_.map(ee=>`${ee.title} (${ee.status})`),nextSessionPriorities:ne.slice(0,3).map(ee=>`Follow up: ${ee.title}`)}),A(!1);return}}}catch(J){console.error("AI summary error:",J)}setTimeout(()=>{const J=[],X=[],z=[];if(E.slice(0,5).forEach(h=>{const W=h.text.length>100?h.text.substring(0,100)+"...":h.text;J.push(W)}),_.forEach(h=>{X.push(`Quest: ${h.title} (${h.status})`)}),ne.forEach(h=>{h.status!=="Resolved"&&X.push(`Lead: ${h.title} (${h.status})`)}),ne.length>0){const h=ne.sort((W,re)=>(re.importance||0)-(W.importance||0))[0];z.push(`Follow up on lead: "${h.title}"`)}if(_.length>0){const h=_.find(W=>W.status==="In Progress");if(h)z.push(`Continue quest: "${h.title}"`);else{const W=_[0];z.push(`Start or investigate: "${W.title}"`)}}if(E.length>0){const h=E[0];(h.mode==="investigate-lead"||h.mode==="interrogate-npc")&&z.push("Continue investigation based on recent discoveries")}for(;z.length<3&&(_.length>0||ne.length>0);)if(_.length>z.length)z.push(`Review quest: "${_[z.length].title}"`);else if(ne.length>z.length-_.length){const h=z.length-_.length;z.push(`Check lead: "${ne[h].title}"`)}else break;K({whatHappened:J.length>0?J:["No recent events recorded."],openThreads:X.length>0?X:["No open threads in current hub."],nextSessionPriorities:z.length>0?z.slice(0,3):["Review session timeline","Check for new quests or leads","Plan next steps"]}),A(!1)},300)};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Handoff Summary"}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Events:"}),s.jsx("input",{type:"number",min:"5",max:"50",value:T,onChange:J=>G(Math.max(5,Math.min(50,parseInt(J.target.value)||20))),className:"w-16 px-2 py-1 bg-gray-700 text-gray-100 rounded border border-gray-600 text-sm"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:v,onChange:J=>m(J.target.checked),className:"w-4 h-4"}),s.jsx("span",{children:"Use AI"})]}),s.jsx("button",{onClick:fe,disabled:U||E.length===0,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors text-sm",children:U?"Generating...":"Generate Summary"}),B&&s.jsx("button",{onClick:ie,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors text-sm",children:"Export"})]})]}),E.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-400",children:[s.jsx("p",{children:"No events yet."}),s.jsx("p",{className:"text-sm mt-2",children:'Use "Suggest Next 3 Options" to create events, then generate a summary.'})]}),B&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"What Just Happened"}),s.jsx("ul",{className:"space-y-2",children:B.whatHappened.map((J,X)=>s.jsx("li",{className:"text-sm text-gray-300 bg-gray-700 rounded p-3",children:J},X))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:["Open Threads ",Y&&`in ${Y.name}`]}),s.jsx("ul",{className:"space-y-2",children:B.openThreads.map((J,X)=>s.jsx("li",{className:"text-sm text-gray-300 bg-gray-700 rounded p-3",children:J},X))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Top 3 Priorities for Next Session"}),s.jsx("ol",{className:"space-y-2",children:B.nextSessionPriorities.map((J,X)=>s.jsxs("li",{className:"text-sm text-gray-300 bg-gray-700 rounded p-3 flex items-start gap-2",children:[s.jsxs("span",{className:"font-bold text-blue-400",children:[X+1,"."]}),s.jsx("span",{children:J})]},X))})]})]}),!B&&E.length>0&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:s.jsx("p",{children:'Click "Generate Summary" to create a handoff summary.'})})]})}function bh(){const{hubs:r,activeHubId:g,quests:y,npcs:o,leads:p,businessIdeas:C}=Gt(),[U,A]=w.useState([]),[v,m]=w.useState(""),[T,G]=w.useState(60),B=g?r.find(z=>z.id===g):null;if(!B)return s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 text-center text-gray-400",children:s.jsx("p",{children:"Select a hub from the Session Brain to view its dashboard"})});const K=y.filter(z=>z.hubId===B.id),Y=o.filter(z=>z.location===B.defaultLocationName),E=C.filter(z=>z.location===B.defaultLocationName),R=p.filter(z=>z.hubId===B.id),te=K.filter(z=>z.status==="Resolved").length,_=K.length>0?Math.round(te/K.length*100):0,ne=R.filter(z=>z.status==="Resolved").length,ie=R.length>0?Math.round(ne/R.length*100):0,fe=()=>{if(!v.trim())return;const z={id:`timer-${Date.now()}`,hubId:B.id,name:v,createdAt:new Date,durationMinutes:T,isActive:!0};A([...U,z]),m("")},J=z=>{A(U.filter(ee=>ee.id!==z))},X=z=>{const ee=(Date.now()-z.createdAt.getTime())/6e4,h=z.durationMinutes-ee;return h<=0?{text:"EXPIRED",color:"bg-red-900 text-red-100"}:h<=5?{text:`${Math.ceil(h)}m left`,color:"bg-orange-900 text-orange-100"}:{text:`${Math.ceil(h)}m left`,color:"bg-blue-900 text-blue-100"}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-700 pb-4",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-100 mb-1",children:B.name}),s.jsx("p",{className:"text-gray-400 text-sm",children:B.description}),B.tags&&B.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:B.tags.map(z=>s.jsx("span",{className:"px-2 py-1 bg-gray-700 text-xs text-gray-300 rounded",children:z},z))})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:K.length}),s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Quests"}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${_}%`}})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[_,"% resolved"]})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:R.length}),s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Leads"}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all",style:{width:`${ie}%`}})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[ie,"% resolved"]})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:Y.length}),s.jsx("div",{className:"text-xs text-gray-400",children:"NPCs Here"}),s.jsx("div",{className:"text-xs text-gray-500 mt-3",children:"Met locally"})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-amber-400",children:E.length}),s.jsx("div",{className:"text-xs text-gray-400",children:"Business Ideas"}),s.jsx("div",{className:"text-xs text-gray-500 mt-3",children:"Ventures here"})]})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold text-gray-100",children:"Timers & Events"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:v,onChange:z=>m(z.target.value),placeholder:"Event name (e.g. 'Guard patrol')",className:"flex-1 px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",onKeyDown:z=>z.key==="Enter"&&fe()}),s.jsx("input",{type:"number",value:T,onChange:z=>G(Math.max(1,parseInt(z.target.value)||1)),min:"1",max:"480",className:"w-16 px-2 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),s.jsx("button",{onClick:fe,disabled:!v.trim(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg font-semibold transition-colors text-sm",children:"Add"})]}),U.length>0?s.jsx("div",{className:"space-y-2",children:U.map(z=>{const ee=X(z);return s.jsxs("div",{className:"flex items-center justify-between bg-gray-700 rounded p-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-100",children:z.name}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Set ",Math.round((Date.now()-z.createdAt.getTime())/1e3),"s ago"]})]}),s.jsx("div",{className:`px-2 py-1 rounded text-xs font-semibold ${ee.color}`,children:ee.text}),s.jsx("button",{onClick:()=>J(z.id),className:"ml-2 text-gray-400 hover:text-red-400 transition-colors",title:"Remove timer",children:""})]},z.id)})}):s.jsx("p",{className:"text-sm text-gray-500",children:"No timers set"})]}),R.length>0&&s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-gray-100",children:"Active Leads"}),s.jsx("div",{className:"space-y-2",children:R.filter(z=>z.status!=="Resolved").slice(0,5).map(z=>s.jsxs("div",{className:"text-sm bg-gray-700 rounded p-2",children:[s.jsx("div",{className:"font-medium text-amber-300",children:z.title}),s.jsx("div",{className:"text-xs text-gray-400",children:z.summary})]},z.id))})]}),s.jsx("div",{className:"text-xs text-gray-500 text-center border-t border-gray-700 pt-4",children:s.jsx("p",{children:"Update your main Session Brain for quest changes and detailed notes"})})]})}function vh(r,g,y,o,p,C,U,A,v,m=""){const T={campaign:r,quests:g,npcs:y,businessIdeas:o,sessionNotes:p,sessionEvents:C,hubs:U,leads:A,characterProfile:v,currentLocation:m,exportDate:Date.now(),version:"1.2"};return JSON.stringify(T,null,2)}function Nh(r){try{const g=JSON.parse(r);if(!g.quests||!g.npcs||!g.businessIdeas)throw new Error("Invalid data structure");if(!g.campaign){const y=g.version==="1.1"||g.version==="1.0"?`Imported Campaign ${new Date(g.exportDate).toLocaleDateString()}`:"Imported Campaign";g.campaign={id:`imported-${Date.now()}`,name:y,description:"Imported from backup",createdAt:g.exportDate,updatedAt:Date.now()}}return g}catch(g){return console.error("Failed to import data:",g),null}}function jh(r,g="campaign-copilot-backup.json"){const y=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(y),p=document.createElement("a");p.href=o,p.download=g,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(o)}function Sh(r){const g=[],y=[];if(!r||typeof r!="object")return g.push("Import file is not a valid JSON object."),{valid:!1,errors:g,warnings:y};const o=r;return(!o.campaign||!o.campaign.id)&&g.push("Missing `campaign` object or `campaign.id`."),Array.isArray(o.quests)||y.push("`quests` is missing or not an array; treated as empty."),Array.isArray(o.npcs)||y.push("`npcs` is missing or not an array; treated as empty."),Array.isArray(o.hubs)||y.push("`hubs` is missing or not an array; treated as empty."),o&&o.version&&o.version,{valid:g.length===0,errors:g,warnings:y}}function Ch(r){const g=xi(),y=yi(),o=pi(),p=bi(),C=vi(),U=[],A=(r.quests||[]).filter(B=>g.some(K=>K.id===B.id)).length;A&&U.push(`${A} quest(s) with colliding IDs`);const v=(r.npcs||[]).filter(B=>y.some(K=>K.id===B.id)).length;v&&U.push(`${v} NPC(s) with colliding IDs`);const m=(r.hubs||[]).filter(B=>o.some(K=>K.id===B.id)).length;m&&U.push(`${m} hub(s) with colliding IDs`);const T=(r.leads||[]).filter(B=>p.some(K=>K.id===B.id)).length;T&&U.push(`${T} lead(s) with colliding IDs`);const G=!!(r.characterProfile&&C&&r.characterProfile.id===C.id);return G&&U.push("Character profile ID collides with existing profile"),{questsConflicts:A,npcsConflicts:v,hubsConflicts:m,leadsConflicts:T,characterConflict:G,details:U}}function Eh(r){const g=xi(),y=yi(),o=pi(),p=bi(),C=ji(),U=$c(),A=vi(),v={};function m(_){if(!_)return Ke();if(v[_])return v[_];if(!(g.some(fe=>fe.id===_)||y.some(fe=>fe.id===_)||o.some(fe=>fe.id===_)||p.some(fe=>fe.id===_)||C.some(fe=>fe.id===_)||U.some(fe=>fe.id===_)||A&&A.id===_))return v[_]=_,_;const ie=Ke();return v[_]=ie,ie}const T=m(r.campaign.id),G=(r.quests||[]).map(_=>({..._,id:m(_.id),campaignId:T})),B=(r.npcs||[]).map(_=>({..._,id:m(_.id),campaignId:T})),K=(r.hubs||[]).map(_=>({..._,id:m(_.id),campaignId:T})),Y=(r.leads||[]).map(_=>({..._,id:m(_.id),campaignId:T})),E=(r.sessionEvents||[]).map(_=>({..._,id:m(_.id),campaignId:T})),R=r.characterProfile?{...r.characterProfile,id:m(r.characterProfile.id),campaignId:T}:null;return{campaign:{...r.campaign,id:T},quests:G,npcs:B,hubs:K,leads:Y,sessionEvents:E,characterProfile:R,currentLocation:r.currentLocation||""}}function Ah(){const{campaigns:r,activeCampaignId:g,activeCampaign:y,addCampaign:o,updateCampaign:p,deleteCampaign:C,setActiveCampaignId:U,quests:A,npcs:v,businessIdeas:m,hubs:T,leads:G,characterProfile:B,sessionEvents:K,importData:Y}=Gt(),{showSuccess:E,showError:R}=il(),[te,_]=w.useState(!1),[ne,ie]=w.useState(null),[fe,J]=w.useState(""),[X,z]=w.useState(""),[ee,h]=w.useState(""),[W,re]=w.useState(""),Qe=w.useRef(null),[he,Le]=w.useState(null),[O,k]=w.useState(null),[P,ve]=w.useState("merge"),[Se,d]=w.useState([]),[M,V]=w.useState([]),[$,oe]=w.useState(null),xe=()=>{if(!fe.trim()){R("Campaign name is required");return}try{const le=o({name:fe.trim(),description:X.trim()||void 0});U(le.id),J(""),z(""),_(!1),E(`Campaign "${le.name}" created and activated`)}catch(le){R("Failed to create campaign"),console.error("Error creating campaign:",le)}},Ce=le=>{const pe=r.find(Nt=>Nt.id===le);pe&&(ie(le),h(pe.name),re(pe.description||""))},Pe=le=>{if(!ee.trim()){R("Campaign name is required");return}try{p(le,{name:ee.trim(),description:W.trim()||void 0}),ie(null),E("Campaign updated")}catch(pe){R("Failed to update campaign"),console.error("Error updating campaign:",pe)}},Re=le=>{if(window.confirm(`Delete campaign "${r.find(pe=>pe.id===le)?.name}"? This will delete all quests, NPCs, leads, and events in this campaign.`))try{C(le),E("Campaign deleted")}catch(pe){R("Failed to delete campaign"),console.error("Error deleting campaign:",pe)}},el=()=>{if(!y||!g){R("No active campaign to export");return}try{const le=dm(),pe=mm(),Nt=vh(y,A,v,m,le,K,T,G,B||void 0,pe||""),Z=`${(y.name||"campaign").replace(/[^a-z0-9-_]/gi,"-").toLowerCase()}-${Date.now()}.json`;jh(Nt,Z),E("Export started  check your downloads folder")}catch(le){console.error("Export failed:",le),R("Failed to export campaign")}},kt=()=>{Qe.current?.click()},_t=le=>{const pe=le.target.files&&le.target.files[0];if(!pe)return;const Nt=new FileReader;Nt.onload=jt=>{try{const Z=String(jt.target?.result||""),F=Nh(Z);if(!F){R("Failed to parse import file");return}const I=Sh(F);d(I.errors),V(I.warnings);const ue=Ch(F);oe(ue),Le(F),k(pe.name)}catch(Z){console.error("Import parse error:",Z),R("Failed to parse import file")}},Nt.readAsText(pe),le.target.value=""},tl=()=>{Le(null),k(null)},Ut=()=>{const le=he;if(le)try{if(Se&&Se.length>0){R("Import file has errors  fix them before importing");return}if(Y){if(P==="merge"){const we=Eh(le);Y(we,"merge"),E("Import merged successfully"),Le(null),k(null);return}Y(le,"overwrite"),E("Import applied"),Le(null),k(null);return}const pe=le.campaign.id,Nt=le.quests.map(we=>({...we,campaignId:pe})),jt=le.npcs.map(we=>({...we,campaignId:pe})),Z=le.businessIdeas.map(we=>({...we,campaignId:pe})),F=le.hubs.map(we=>({...we,campaignId:pe})),I=le.leads.map(we=>({...we,campaignId:pe})),ue=le.sessionEvents.map(we=>({...we,campaignId:pe})),ll=le.characterProfile?{...le.characterProfile,campaignId:pe}:null;Ic([le.campaign]),kc(Nt),Xc(jt),Zc(Z),Vc(F),Kc(I),Ni(ue),ll&&Jc(ll),Fc(pe),fm(le.currentLocation||"");try{localStorage.setItem("campaign-copilot-migration-v0.5","true")}catch(we){console.warn("Could not set migration flag in localStorage",we)}E("Import applied  reloading to apply data"),setTimeout(()=>window.location.reload(),800)}catch(pe){console.error("Import confirmation error:",pe),R("Failed to apply imported data")}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-100",children:"Campaigns"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{ref:Qe,type:"file",accept:"application/json",onChange:_t,className:"hidden"}),s.jsx("button",{onClick:kt,className:"px-3 py-1 text-sm bg-yellow-600 hover:bg-yellow-700 text-white rounded transition-colors",title:"Import campaign from file",children:"Import"}),s.jsx("button",{onClick:el,className:"px-3 py-1 text-sm bg-indigo-600 hover:bg-indigo-700 text-white rounded transition-colors",title:"Export active campaign to file",children:"Export"}),!te&&s.jsx("button",{onClick:()=>_(!0),className:"px-3 py-1 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"+ New Campaign"})]})]}),he&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black opacity-50",onClick:tl}),s.jsxs("div",{className:"relative bg-gray-900 border border-gray-700 rounded-lg p-6 w-11/12 max-w-2xl text-gray-100",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Import preview"}),O&&s.jsxs("p",{className:"text-sm text-gray-400",children:["File: ",O]}),s.jsxs("p",{className:"mt-2 text-sm",children:["Campaign: ",s.jsx("span",{className:"font-medium text-gray-200",children:he.campaign?.name||he.campaign.id})]})]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:["Quests: ",s.jsx("strong",{children:he.quests?.length??0})]}),s.jsxs("div",{children:["NPCs: ",s.jsx("strong",{children:he.npcs?.length??0})]}),s.jsxs("div",{children:["Business Ideas: ",s.jsx("strong",{children:he.businessIdeas?.length??0})]}),s.jsxs("div",{children:["Session Events: ",s.jsx("strong",{children:he.sessionEvents?.length??0})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{children:["Hubs: ",s.jsx("strong",{children:he.hubs?.length??0})]}),s.jsxs("div",{children:["Leads: ",s.jsx("strong",{children:he.leads?.length??0})]}),s.jsxs("div",{children:["Character: ",s.jsx("strong",{children:he.characterProfile?.name||""})]}),s.jsxs("div",{children:["Location: ",s.jsx("strong",{children:he.currentLocation||""})]})]})]}),(Se.length>0||M.length>0)&&s.jsxs("div",{className:"mt-4 p-3 bg-red-900 bg-opacity-20 border border-red-700 rounded text-sm",children:[Se.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("strong",{className:"text-red-300",children:"Errors:"}),s.jsx("ul",{className:"list-disc list-inside",children:Se.map((le,pe)=>s.jsx("li",{children:le},pe))})]}),M.length>0&&s.jsxs("div",{children:[s.jsx("strong",{className:"text-yellow-300",children:"Warnings:"}),s.jsx("ul",{className:"list-disc list-inside",children:M.map((le,pe)=>s.jsx("li",{children:le},pe))})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("label",{className:"inline-flex items-center mr-4",children:[s.jsx("input",{type:"radio",name:"importMode",value:"merge",checked:P==="merge",onChange:()=>ve("merge"),className:"mr-2"}),"Merge (keep existing, rename imported on ID collision)"]}),s.jsxs("label",{className:"inline-flex items-center",children:[s.jsx("input",{type:"radio",name:"importMode",value:"overwrite",checked:P==="overwrite",onChange:()=>ve("overwrite"),className:"mr-2"}),"Overwrite (replace existing with imported)"]})]}),P==="merge"&&$&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-800 border border-gray-700 rounded text-sm",children:[s.jsx("div",{className:"font-medium mb-1",children:"Merge conflict summary"}),$.details.length===0?s.jsx("div",{className:"text-sm text-gray-300",children:"No ID collisions detected  safe to merge."}):s.jsx("ul",{className:"list-disc list-inside text-sm text-gray-300",children:$.details.map((le,pe)=>s.jsx("li",{children:le},pe))})]}),s.jsxs("div",{className:"mt-3 p-3 bg-gray-800 border border-gray-700 rounded text-sm",children:[s.jsx("div",{className:"font-medium mb-1",children:"Import summary"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("div",{children:"Existing:"}),s.jsxs("ul",{className:"list-disc list-inside",children:[s.jsxs("li",{children:["Campaigns: ",s.jsx("strong",{children:r.length})]}),s.jsxs("li",{children:["Quests: ",s.jsx("strong",{children:A.length})]}),s.jsxs("li",{children:["NPCs: ",s.jsx("strong",{children:v.length})]}),s.jsxs("li",{children:["Hubs: ",s.jsx("strong",{children:T.length})]}),s.jsxs("li",{children:["Leads: ",s.jsx("strong",{children:G.length})]})]})]}),s.jsxs("div",{children:[s.jsx("div",{children:"Imported:"}),s.jsxs("ul",{className:"list-disc list-inside",children:[s.jsxs("li",{children:["Campaign: ",s.jsx("strong",{children:he.campaign?1:0})]}),s.jsxs("li",{children:["Quests: ",s.jsx("strong",{children:he.quests?.length??0})]}),s.jsxs("li",{children:["NPCs: ",s.jsx("strong",{children:he.npcs?.length??0})]}),s.jsxs("li",{children:["Hubs: ",s.jsx("strong",{children:he.hubs?.length??0})]}),s.jsxs("li",{children:["Leads: ",s.jsx("strong",{children:he.leads?.length??0})]})]})]})]}),P==="merge"&&$&&s.jsx("div",{className:"mt-2 text-sm text-gray-300",children:s.jsxs("div",{children:["On merge: ",s.jsxs("strong",{children:[(he.quests?.length??0)+(he.npcs?.length??0)+(he.hubs?.length??0)+(he.leads?.length??0)," items"]})," will be added. ",$.details.length>0?s.jsxs("span",{className:"text-yellow-300",children:[$.details.length," collisions will be renamed."]}):null]})})]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[s.jsx("button",{onClick:tl,className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded",children:"Cancel"}),s.jsx("button",{onClick:Ut,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded",children:"Confirm Import"})]})]})]}),te&&s.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[s.jsx("input",{type:"text",placeholder:"Campaign name (e.g. 'Pets of the Spider Queen')",value:fe,onChange:le=>J(le.target.value),className:"w-full px-3 py-2 mb-2 bg-gray-800 text-gray-100 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),s.jsx("textarea",{placeholder:"Description (optional)",value:X,onChange:le=>z(le.target.value),className:"w-full px-3 py-2 mb-2 bg-gray-800 text-gray-100 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:xe,className:"px-3 py-1 text-sm bg-green-600 hover:bg-green-700 text-white rounded",children:"Create"}),s.jsx("button",{onClick:()=>{_(!1),J(""),z("")},className:"px-3 py-1 text-sm bg-gray-600 hover:bg-gray-500 text-gray-300 rounded",children:"Cancel"})]})]}),s.jsx("div",{className:"space-y-2",children:r.length===0?s.jsx("p",{className:"text-gray-400 text-sm",children:"No campaigns yet. Create one to get started!"}):r.map(le=>{const pe=le.id===g,Nt=ne===le.id;return s.jsx("div",{className:`p-3 rounded border ${pe?"bg-blue-900 border-blue-600":"bg-gray-700 border-gray-600 hover:border-gray-500"}`,children:Nt?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:ee,onChange:jt=>h(jt.target.value),className:"w-full px-2 py-1 bg-gray-800 text-gray-100 rounded border border-gray-600 text-sm",autoFocus:!0}),s.jsx("textarea",{value:W,onChange:jt=>re(jt.target.value),className:"w-full px-2 py-1 bg-gray-800 text-gray-100 rounded border border-gray-600 text-sm",rows:2}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Pe(le.id),className:"px-2 py-1 text-xs bg-green-600 hover:bg-green-700 text-white rounded",children:"Save"}),s.jsx("button",{onClick:()=>ie(null),className:"px-2 py-1 text-xs bg-gray-600 hover:bg-gray-500 text-gray-300 rounded",children:"Cancel"})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:()=>U(le.id),className:`font-medium text-left ${pe?"text-blue-300":"text-gray-200 hover:text-gray-100"}`,children:[le.name,pe&&s.jsx("span",{className:"ml-2 text-xs text-blue-400",children:"(Active)"})]})}),le.description&&s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:le.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Ce(le.id),className:"px-2 py-1 text-xs bg-gray-600 hover:bg-gray-500 text-gray-300 rounded",title:"Edit campaign",children:"Edit"}),r.length>1&&s.jsx("button",{onClick:()=>Re(le.id),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded",title:"Delete campaign",children:"Delete"})]})]})},le.id)})})]})}function Th({quests:r,npcs:g,businessIdeas:y,onSelect:o,isOpen:p,onClose:C}){const[U,A]=w.useState(""),[v,m]=w.useState([]),[T,G]=w.useState(0),B=w.useRef(null);w.useEffect(()=>{p&&B.current&&B.current.focus()},[p]),w.useEffect(()=>{if(!U.trim()){m([]);return}const Y=U.toLowerCase(),E=[];r.forEach(R=>{(R.title.toLowerCase().includes(Y)||R.location.toLowerCase().includes(Y)||R.description?.toLowerCase().includes(Y))&&E.push({type:"quest",id:R.id,title:R.title,subtitle:R.location,item:R})}),g.forEach(R=>{(R.name.toLowerCase().includes(Y)||R.role.toLowerCase().includes(Y)||R.location.toLowerCase().includes(Y)||R.notes?.toLowerCase().includes(Y))&&E.push({type:"npc",id:R.id,title:R.name,subtitle:`${R.role} - ${R.location}`,item:R})}),y.forEach(R=>{(R.title.toLowerCase().includes(Y)||R.location.toLowerCase().includes(Y)||R.description?.toLowerCase().includes(Y))&&E.push({type:"business",id:R.id,title:R.title,subtitle:R.location,item:R})}),m(E.slice(0,10)),G(0)},[U,r,g,y]);const K=Y=>{Y.key==="Escape"?(C(),A("")):Y.key==="ArrowDown"?(Y.preventDefault(),G(E=>Math.min(E+1,v.length-1))):Y.key==="ArrowUp"?(Y.preventDefault(),G(E=>Math.max(E-1,0))):Y.key==="Enter"&&v[T]&&(Y.preventDefault(),o(v[T]),A(""),C())};return p?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-20",onClick:C,children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl mx-4",onClick:Y=>Y.stopPropagation(),children:[s.jsx("div",{className:"p-4 border-b border-gray-700",children:s.jsx("input",{ref:B,type:"text",value:U,onChange:Y=>A(Y.target.value),onKeyDown:K,placeholder:"Search quests, NPCs, business ideas...",className:"w-full px-4 py-3 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg","aria-label":"Search"})}),v.length>0&&s.jsx("div",{className:"max-h-96 overflow-y-auto",children:v.map((Y,E)=>s.jsx("button",{onClick:()=>{o(Y),A(""),C()},className:`w-full text-left px-4 py-3 hover:bg-gray-700 transition-colors ${E===T?"bg-gray-700":""}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${Y.type==="quest"?"bg-blue-600":Y.type==="npc"?"bg-green-600":"bg-purple-600"}`,children:Y.type==="quest"?"Quest":Y.type==="npc"?"NPC":"Business"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-100 font-medium",children:Y.title}),Y.subtitle&&s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:Y.subtitle})]})]})},`${Y.type}-${Y.id}`))}),U&&v.length===0&&s.jsx("div",{className:"px-4 py-8 text-center text-gray-400",children:"No results found"}),!U&&s.jsx("div",{className:"px-4 py-8 text-center text-gray-400",children:"Start typing to search..."})]})}):null}function wh({isOpen:r,onClose:g}){return r?s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4",onClick:g,children:s.jsx("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-96 overflow-y-auto",onClick:y=>y.stopPropagation(),children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Keyboard Shortcuts"}),s.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-200 text-2xl","aria-label":"Close help",children:""})]}),s.jsxs("div",{className:"space-y-4 text-gray-300",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-sm font-mono",children:"Ctrl + K"}),s.jsx("span",{children:"or"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-sm font-mono",children:"Cmd + K"})]}),s.jsx("p",{className:"text-gray-400 ml-2",children:"Open global search"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-sm font-mono",children:"?"})}),s.jsx("p",{className:"text-gray-400 ml-2",children:"Show this help menu"})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"font-semibold text-gray-100 mb-3",children:"Session Panel"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-sm font-mono",children:"Enter"}),s.jsx("span",{children:"(in location field)"})]}),s.jsx("p",{className:"text-gray-400 ml-2",children:"Focus session description"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-sm font-mono",children:"Enter"}),s.jsx("span",{children:"(in form fields)"})]}),s.jsx("p",{className:"text-gray-400 ml-2",children:"Submit quest/NPC/business form"})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"font-semibold text-gray-100 mb-3",children:"Tips"}),s.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[s.jsx("li",{children:" Use search (Ctrl+K) to quickly find quests, NPCs, and business ideas"}),s.jsx("li",{children:" Your data is automatically saved to your browser"}),s.jsx("li",{children:" Export your campaign at the end of a session for backups"}),s.jsx("li",{children:" Dark theme is optimized for low-light gaming sessions"}),s.jsx("li",{children:" Click on any item to view or edit its details"})]})]}),s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:s.jsxs("p",{className:"text-gray-400 text-sm",children:["Press ",s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:"Esc"})," or click outside to close this menu"]})})]})]})})}):null}const Dh=["Combat","Social","Exploration","Discovery","Death","Victory","Betrayal","Twist","Insight","Mystery","Resource","Injury"];function zh(){const{sessionEvents:r,addSessionEvent:g,quests:y,npcs:o,leads:p}=Gt(),{showSuccess:C}=il(),[U,A]=w.useState(""),[v,m]=w.useState([]),[T,G]=w.useState(!1),B=w.useRef(null);w.useEffect(()=>{B.current?.focus()},[]);const K=[{label:"Combat Round",text:"Initiative called. "},{label:"NPC Interaction",text:"Talked to "},{label:"Discovery",text:"Found out: "},{label:"Decision Point",text:"Group decided to "},{label:"Plot Twist",text:"Unexpected: "},{label:"Failed Check",text:"Failed a "}],Y=()=>{if(!U.trim())return;const _=[],ne=[],ie=[],fe=U.toLowerCase();y.forEach(J=>{fe.includes(J.title.toLowerCase())&&_.push(J.id)}),o.forEach(J=>{fe.includes(J.name.toLowerCase())&&ne.push(J.id)}),p.forEach(J=>{fe.includes(J.title.toLowerCase())&&ie.push(J.id)}),g({text:U,mode:"default",tags:v,linkedQuestIds:_,linkedNpcIds:ne,linkedLeadIds:ie}),C(`Event logged${v.length>0?` [${v.join(", ")}]`:""}`),A(""),m([]),B.current?.focus()},E=_=>{m(ne=>ne.includes(_)?ne.filter(ie=>ie!==_):[...ne,_])},R=_=>{A(_.text),G(!1),B.current?.focus(),B.current?.setSelectionRange(_.text.length,_.text.length)},te=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),Y())};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:"Live Log"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[r.length," events"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx("input",{ref:B,type:"text",value:U,onChange:_=>A(_.target.value),onKeyDown:te,placeholder:"What just happened? (Enter to log)",className:"w-full px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm","aria-label":"Quick event entry"})}),s.jsx("button",{onClick:Y,disabled:!U.trim(),className:"px-3 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-semibold rounded-lg transition-colors text-sm","aria-label":"Log event",children:"Log"}),s.jsx("button",{onClick:()=>G(!T),className:"px-2 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors text-sm",title:"Quick templates","aria-label":"Show templates",children:""})]}),T&&s.jsx("div",{className:"grid grid-cols-2 gap-2 p-2 bg-gray-750 rounded-lg border border-gray-600",children:K.map(_=>s.jsx("button",{onClick:()=>R(_),className:"text-left px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",children:_.label},_.label))}),s.jsx("div",{className:"flex flex-wrap gap-1",children:Dh.map(_=>s.jsx("button",{onClick:()=>E(_),className:`px-2 py-1 rounded-full text-xs font-medium transition-colors ${v.includes(_)?"bg-blue-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:_},_))})]}),s.jsx("div",{className:"border-t border-gray-700 pt-3",children:s.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[r.slice().reverse().slice(0,5).map((_,ne)=>s.jsxs("div",{className:"text-xs bg-gray-750 rounded p-2 border-l-2 border-blue-500",children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("p",{className:"text-gray-200 line-clamp-2",children:_.text}),s.jsx("span",{className:"text-gray-500 ml-2 whitespace-nowrap text-right",children:ne===0?"now":ne===1?"1 ago":`${ne} ago`})]}),_.tags&&_.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:_.tags.slice(0,3).map(ie=>s.jsx("span",{className:"px-1.5 py-0.5 bg-blue-900 text-blue-200 rounded text-xs",children:ie},ie))})]},_.id)),r.length===0&&s.jsx("p",{className:"text-center text-gray-500 text-xs py-2",children:"No events logged yet"})]})})]})}function Oh(){const{characterProfile:r}=Gt(),{showError:g}=il(),[y,o]=w.useState(!1),[p,C]=w.useState([]),[U,A]=w.useState("");if(!r)return s.jsx("div",{className:"bg-gray-800 rounded-lg p-6 text-center text-gray-400",children:s.jsx("p",{children:"Add your character profile to get tactical advice"})});const v=async()=>{if(!U.trim()){g("Describe the combat situation");return}o(!0);try{const m=await fetch("/api/ai/tactical-advice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({situation:U,character:r})});if(!m.ok)throw new Error("Failed to get tactical advice");const T=await m.json();C(T.tips||rm(r,U)),A("")}catch(m){console.error("Tactical advice error:",m),C(rm(r))}finally{o(!1)}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Tactical Advisor"}),s.jsx("div",{className:"bg-gray-750 rounded-lg p-3",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-semibold text-gray-100",children:r.name}),s.jsx("p",{className:"text-xs text-gray-400",children:r.classAndLevel})]})}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"situation",className:"block text-sm font-medium text-gray-300 mb-2",children:"What's the combat situation?"}),s.jsx("textarea",{id:"situation",value:U,onChange:m=>A(m.target.value),placeholder:"e.g. 'Fighting 3 goblins. I have 2 first-level spells left. Ally is down to 5 HP.'",rows:3,className:"w-full px-4 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),s.jsx("button",{onClick:v,disabled:y||!U.trim(),className:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white font-semibold rounded-lg transition-colors","aria-busy":y,children:y?"Analyzing...":"Get Tactical Tips"}),p.length>0&&s.jsxs("div",{className:"space-y-3 animate-fadeIn",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-200",children:"Suggested Actions:"}),p.map(m=>{const T={spell:"border-blue-500 bg-blue-900/20",action:"border-green-500 bg-green-900/20",defense:"border-orange-500 bg-orange-900/20",feature:"border-purple-500 bg-purple-900/20",strategy:"border-cyan-500 bg-cyan-900/20"},G={spell:" Spell",action:" Action",defense:" Defense",feature:" Feature",strategy:" Strategy"};return s.jsxs("div",{className:`rounded-lg border-l-4 p-3 ${T[m.category]}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-1",children:[s.jsx("h4",{className:"font-semibold text-gray-100",children:m.title}),s.jsx("span",{className:"text-xs text-gray-400",children:G[m.category]})]}),s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:m.description}),m.resourcesUsed&&s.jsxs("div",{className:"text-xs text-gray-400",children:[s.jsx("strong",{children:"Resources:"})," ",m.resourcesUsed]})]},m.id)})]}),p.length===0&&s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-gray-100 text-sm",children:"Combat Tips:"}),s.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[s.jsx("li",{children:" Keep your character profile updated with current spells"}),s.jsx("li",{children:" Describe the enemy count and positioning for better advice"}),s.jsx("li",{children:" Mention ally status to get defense-focused suggestions"}),s.jsx("li",{children:" Include how many spell slots/features you have left"})]})]})]})}function rm(r,g){const y=r.classAndLevel?.toLowerCase()||"",o=[];return o.push({id:"1",title:"Assess Resources",description:"Check hit points, spell slots, and action uses. Conserve limited resources for critical moments.",category:"strategy"}),y.includes("wizard")||y.includes("sorcerer")?(o.push({id:"2",title:"Position Safely",description:"Stay 60+ feet from enemies. Use allies as shields. Be ready to use Misty Step or similar if threatened.",category:"strategy",resourcesUsed:"Position-based"}),o.push({id:"3",title:"Control the Battlefield",description:"Use area control spells (Web, Entangle, Fireball) to manage multiple enemies or protect allies.",category:"spell"})):y.includes("fighter")||y.includes("barbarian")?(o.push({id:"2",title:"Protect Allies",description:"Position between fragile allies and enemies. Use your AC advantage to draw attacks.",category:"strategy"}),o.push({id:"3",title:"Action Surge / Rage",description:"Use powerful action abilities on your turn when you have advantage or multiple targets.",category:"feature"})):y.includes("rogue")?(o.push({id:"2",title:"Get Flanking Advantage",description:"Position to flank enemies for Sneak Attack. Attack from stealth if possible.",category:"strategy"}),o.push({id:"3",title:"Evasion or Disengage",description:"Use Disengage to reposition safely or Evasion to dodge area effects.",category:"feature"})):y.includes("cleric")&&(o.push({id:"2",title:"Manage Healing",description:"Treat healing as a resource. Use spell slots efficiently. Sometimes attacking is better than healing.",category:"strategy"}),o.push({id:"3",title:"Channel Divinity",description:"Use Channel Divinity abilities for powerful turns without using spell slots.",category:"feature"})),o.push({id:"4",title:"Communicate Tactics",description:"Tell your allies what you plan to do. Coordination beats individual optimization.",category:"strategy"}),o}function Mh(){const{showSuccess:r,showError:g}=il(),[y,o]=w.useState([]),[p,C]=w.useState(0),[U,A]=w.useState(1),[v,m]=w.useState(!1),[T,G]=w.useState(""),[B,K]=w.useState("10"),[Y,E]=w.useState("12"),R=()=>{if(!T.trim()){g("Enter combatant name");return}const z={id:Math.random().toString(36).substring(7),name:T,hp:parseInt(B)||10,maxHp:parseInt(B)||10,ac:parseInt(Y)||12,isPlayer:!1,conditions:[],initiativeRoll:0};o([...y,z]),G(""),K("10"),E("12"),r(`${T} added to encounter`)},te=()=>{const z=[...y].map(ee=>({...ee,initiativeRoll:Math.floor(Math.random()*20)+1+Math.floor(ee.ac/2)}));z.sort((ee,h)=>h.initiativeRoll-ee.initiativeRoll),o(z),m(!0),C(0),A(1),r("Initiative rolled!")},_=(z,ee)=>{o(y.map(h=>h.id===z?{...h,hp:Math.max(0,h.hp-ee),lastAction:`Took ${ee} damage`}:h))},ne=(z,ee)=>{o(y.map(h=>h.id===z?{...h,hp:Math.min(h.maxHp,h.hp+ee),lastAction:`Healed ${ee} HP`}:h))},ie=(z,ee)=>{o(y.map(h=>h.id===z?{...h,conditions:h.conditions.filter(W=>W!==ee)}:h))},fe=()=>{const z=(p+1)%y.length;z===0&&A(U+1),C(z),r(`${y[z]?.name}'s turn!`)},J=()=>{m(!1),o([]),C(0),A(1),r("Encounter ended")},X=y[p];return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Encounter Mode"}),v&&s.jsxs("div",{className:"text-sm",children:[s.jsxs("p",{className:"font-semibold text-red-400",children:["Round ",U]}),X&&s.jsxs("p",{className:"text-xs text-gray-400",children:[X.name,"'s turn"]})]})]}),v?s.jsxs("div",{className:"space-y-4",children:[X&&s.jsxs("div",{className:"bg-gradient-to-r from-red-900/30 to-orange-900/30 rounded-lg p-4 border border-red-600/50",children:[s.jsxs("h3",{className:"text-xl font-bold text-red-300 mb-4",children:[X.name,"'s Turn"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-300",children:"HP"}),s.jsxs("span",{className:X.hp<=0?"text-red-400":"text-green-400",children:[X.hp,"/",X.maxHp]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-lg h-4 overflow-hidden",children:s.jsx("div",{className:`h-full transition-all ${X.hp<=0?"bg-red-600":X.hp<=X.maxHp/3?"bg-orange-500":"bg-green-500"}`,style:{width:`${X.hp/X.maxHp*100}%`}})})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"AC:"}),s.jsx("span",{className:"ml-2 text-gray-100 font-semibold",children:X.ac})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[s.jsx("button",{onClick:()=>_(X.id,5),className:"py-2 px-3 bg-red-600 hover:bg-red-700 text-white text-xs font-semibold rounded transition-colors",children:"Damage (5)"}),s.jsx("button",{onClick:()=>ne(X.id,5),className:"py-2 px-3 bg-green-600 hover:bg-green-700 text-white text-xs font-semibold rounded transition-colors",children:"Heal (5)"})]}),X.conditions.length>0&&s.jsxs("div",{className:"text-xs space-y-1 pt-2 border-t border-gray-600",children:[s.jsx("p",{className:"text-gray-400 font-semibold",children:"Conditions:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:X.conditions.map(z=>s.jsxs("button",{onClick:()=>ie(X.id,z),className:"px-2 py-1 bg-orange-900/40 text-orange-200 rounded border border-orange-600 hover:bg-orange-900/60",children:[z," "]},z))})]}),X.lastAction&&s.jsxs("div",{className:"text-xs text-gray-400 pt-2 italic",children:["Last: ",X.lastAction]})]}),s.jsxs("button",{onClick:fe,className:"w-full mt-4 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors",children:["Next Turn (Round ",U,")"]})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-gray-200 mb-3",children:"Turn Order"}),y.map((z,ee)=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded text-sm transition-all ${ee===p?"bg-red-900/40 border-l-4 border-red-500":"bg-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsxs("span",{className:"text-gray-400 font-mono w-4",children:[ee+1,"."]}),s.jsx("span",{className:z.hp<=0?"line-through text-gray-500":"text-gray-100",children:z.name})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[s.jsxs("span",{className:z.hp<=0?"text-red-400":"text-green-400",children:[z.hp,"/",z.maxHp]}),s.jsx("button",{onClick:()=>_(z.id,1),className:"text-red-400 hover:text-red-300",title:"Quick damage",children:"-"}),s.jsx("button",{onClick:()=>ne(z.id,1),className:"text-green-400 hover:text-green-300",title:"Quick heal",children:"+"})]})]},z.id))]}),s.jsx("button",{onClick:J,className:"w-full py-2 px-4 bg-gray-700 hover:bg-gray-600 text-gray-200 font-semibold rounded-lg transition-colors",children:"End Encounter"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold text-gray-200",children:"Add Combatants"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:T,onChange:z=>G(z.target.value),placeholder:"Combatant name",className:"w-full px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"number",value:B,onChange:z=>K(z.target.value),placeholder:"HP",className:"px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),s.jsx("input",{type:"number",value:Y,onChange:z=>E(z.target.value),placeholder:"AC",className:"px-3 py-2 bg-gray-700 text-gray-100 rounded-lg border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),s.jsx("button",{onClick:R,className:"w-full py-2 px-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors text-sm",children:"Add Combatant"})]})]}),y.length>0&&s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 space-y-2",children:[s.jsxs("h3",{className:"font-semibold text-gray-200 mb-3",children:["Combatants (",y.length,")"]}),y.map(z=>s.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-700 p-2 rounded",children:[s.jsx("span",{className:"text-gray-100",children:z.name}),s.jsxs("div",{className:"flex gap-2 text-xs text-gray-400",children:[s.jsxs("span",{children:["HP: ",z.hp,"/",z.maxHp]}),s.jsxs("span",{children:["AC: ",z.ac]}),s.jsx("button",{onClick:()=>o(y.filter(ee=>ee.id!==z.id)),className:"text-red-400 hover:text-red-300 ml-2",children:""})]})]},z.id))]}),y.length>0&&s.jsx("button",{onClick:te,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors",children:"Start Encounter - Roll Initiative"})]})]})}function _h(){const{quests:r}=Gt(),g=r.map(C=>({id:C.id,name:C.title,status:C.status,relatedCount:0})),y=[];r.forEach(C=>{});const o={Open:"bg-blue-600 ring-blue-400","In Progress":"bg-green-600 ring-green-400",Resolved:"bg-green-600 ring-green-400"},p={Open:" Open","In Progress":" In Progress",Resolved:" Resolved"};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Quest Web"}),s.jsx("p",{className:"text-sm text-gray-400",children:"All quests and connections"})]}),g.length===0?s.jsx("div",{className:"bg-gray-750 rounded-lg p-8 text-center",children:s.jsx("p",{className:"text-gray-400",children:"No quests yet. Create a quest to see the web."})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-gray-750 rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-400",children:g.filter(C=>C.status==="Open").length}),s.jsx("p",{className:"text-xs text-gray-400",children:"Open"})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-400",children:g.filter(C=>C.status==="In Progress").length}),s.jsx("p",{className:"text-xs text-gray-400",children:"In Progress"})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-400",children:g.filter(C=>C.status==="Resolved").length}),s.jsx("p",{className:"text-xs text-gray-400",children:"Resolved"})]}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-3 text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-400",children:y.length}),s.jsx("p",{className:"text-xs text-gray-400",children:"Connections"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-gray-200 text-sm",children:"Quest Nodes:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(C=>s.jsxs("div",{className:`px-3 py-2 rounded-lg border-2 ring-2 text-xs font-medium transition-all hover:scale-105 cursor-pointer ${o[C.status]} text-white`,title:`${C.relatedCount} connections`,children:[s.jsx("div",{children:C.name}),s.jsx("div",{className:"text-xs opacity-75",children:p[C.status]})]},C.id))})]}),y.length>0&&s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-gray-200 text-sm mb-3",children:"Connections:"}),s.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:y.map((C,U)=>{const A=g.find(T=>T.id===C.source),v=g.find(T=>T.id===C.target),m={"leads-to":"",blocks:"",rewards:"",related:""};return s.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:A?.name}),s.jsx("span",{className:"text-gray-500",children:m[C.type]}),s.jsx("span",{className:"font-medium",children:v?.name}),s.jsx("span",{className:"text-gray-600 ml-auto text-xs",children:C.type})]},U)})})]}),s.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-4 border border-blue-600/30 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-blue-300 text-sm",children:"About Quest Web:"}),s.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[s.jsx("li",{children:" Shows all quests and their interconnections"}),s.jsx("li",{children:" Color-coded by status (blue = active, green = complete)"}),s.jsx("li",{children:" Connection count shown on each node"}),s.jsx("li",{children:" Helps identify quest chains and blocked paths"}),s.jsx("li",{children:" Full graph visualization coming in phase 2"})]})]})]})]})}function Uh(){const{showSuccess:r,showError:g}=il(),[y,o]=w.useState(!1),[p,C]=w.useState(null),U=[{id:"seahaven",name:"Seahaven Trading Post",description:"A classic coastal hub campaign with mystery, commerce, and intrigue",complexity:"intermediate",estimatedHours:20,hubs:[{name:"Seahaven",description:"A bustling port town with merchant factions",tags:["port","commerce","mystery"],defaultLocationName:"Seahaven Docks"}],quests:[{title:"Missing Sailors",location:"Seahaven Docks",status:"Open",description:"Three sailors vanished from the docks last night"},{title:"Smugglers Ring",location:"Seahaven Warehouse District",status:"Open",description:"Illegal goods flowing through the port"}],npcs:[{name:"Captain Thorne",role:"Harbormaster",location:"Seahaven Harbor Office",notes:"Gruff, efficient, worried about reputation"},{name:"Marta Goldleaf",role:"Tavern Keeper",location:"The Leaky Anchor",notes:"Hears all the town gossip, neutral but helpful"}]},{id:"dragon-tower",name:"Dragon Tower Ruins",description:"An ancient tower with magical secrets and dangerous creatures",complexity:"advanced",estimatedHours:30,hubs:[{name:"Dragon Tower",description:"Crumbling spire filled with arcane mysteries",tags:["dungeon","magic","danger"],defaultLocationName:"Tower Entrance"}],quests:[{title:"Tower Ascent",location:"Dragon Tower",status:"Open",description:"Climb to the top and discover the tower's secrets"}],npcs:[{name:"Elder Vex",role:"Mysterious Archivist",location:"Tower Library",notes:"Appears and disappears mysteriously, knows hidden lore"}]},{id:"local-politics",name:"Village Politics",description:"Navigate faction conflicts in a small community",complexity:"beginner",estimatedHours:10,hubs:[{name:"Millstone Village",description:"A quiet village caught in political turmoil",tags:["village","politics","intrigue"],defaultLocationName:"Village Square"}],quests:[{title:"Faction Dispute",location:"Millstone Village",status:"Open",description:"Two factions are at odds. Which side will you take?"}],npcs:[{name:"Lady Blackstone",role:"Faction Leader",location:"Village Hall",notes:"Seeks order and progress through commerce"},{name:"Old Master Cray",role:"Faction Leader",location:"Ancient Oak Inn",notes:"Wants to preserve traditions and protect the land"}]}],A=v=>{o(!0);try{r(`${v.name} campaign template loaded! Customize as needed.`),C(null)}catch(m){console.error("Preset load error:",m),g("Failed to load preset campaign")}finally{o(!1)}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-100",children:"Preset Campaigns"}),s.jsx("p",{className:"text-sm text-gray-400",children:"One-click setup for popular campaign types"})]}),p?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-blue-900/20 rounded-lg p-4 border border-blue-600/30",children:[s.jsx("h3",{className:"text-xl font-bold text-blue-300 mb-3",children:p.name}),s.jsx("p",{className:"text-sm text-gray-300 mb-4",children:p.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[s.jsxs("div",{className:"bg-gray-750 rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Complexity"}),s.jsx("p",{className:"text-sm font-semibold text-gray-100 capitalize",children:p.complexity})]}),s.jsxs("div",{className:"bg-gray-750 rounded p-3",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Estimated Time"}),s.jsxs("p",{className:"text-sm font-semibold text-gray-100",children:["~",p.estimatedHours," hours"]})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("h4",{className:"font-semibold text-gray-200 text-sm",children:"This preset includes:"}),s.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[s.jsxs("li",{children:[" ",p.hubs.length," hub(s): ",p.hubs.map(v=>v.name).join(", ")]}),s.jsxs("li",{children:[" ",p.quests.length," quest(s)"]}),s.jsxs("li",{children:[" ",p.npcs.length," NPC(s)"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>C(null),disabled:y,className:"flex-1 py-2 px-4 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-200 font-semibold rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>A(p),disabled:y,className:"flex-1 py-2 px-4 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white font-semibold rounded-lg transition-colors","aria-busy":y,children:y?"Loading...":"Load Preset"})]})]})}):s.jsx("div",{className:"grid gap-3",children:U.map(v=>{const m={beginner:"bg-green-900/20 text-green-400",intermediate:"bg-blue-900/20 text-blue-400",advanced:"bg-red-900/20 text-red-400"};return s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 hover:bg-gray-700 cursor-pointer transition-colors border border-gray-600 hover:border-blue-500",onClick:()=>C(v),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-100",children:v.name}),s.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded ${m[v.complexity]}`,children:v.complexity.charAt(0).toUpperCase()+v.complexity.slice(1)})]}),s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:v.description}),s.jsxs("div",{className:"flex gap-3 text-xs text-gray-500",children:[s.jsxs("span",{children:[" ~",v.estimatedHours," hours"]}),s.jsxs("span",{children:[" ",v.hubs.length," hub(s)"]}),s.jsxs("span",{children:[" ",v.quests.length," quest(s)"]}),s.jsxs("span",{children:[" ",v.npcs.length," NPC(s)"]})]})]},v.id)})}),s.jsxs("div",{className:"bg-gray-750 rounded-lg p-4 border border-gray-600 text-sm",children:[s.jsxs("p",{className:"text-gray-400 mb-2",children:[" ",s.jsx("strong",{children:"Tip:"})," Preset campaigns come fully configured with hubs, quests, and NPCs."]}),s.jsx("p",{className:"text-gray-400",children:"You can edit everything after loading to match your campaign's unique story."})]})]})}function Hh(){const[r,g]=w.useState(gi()),[y,o]=w.useState(!1),[p,C]=w.useState(cm(um()));w.useEffect(()=>{const A=setInterval(()=>{g(gi()),C(cm(um()))},5e3);return()=>clearInterval(A)},[]);const U=r.length>0?r[r.length-1]:null;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>o(!y),className:"flex items-center gap-2 px-3 py-2 bg-gray-750 hover:bg-gray-700 rounded-lg border border-gray-600 text-xs text-gray-300 transition-colors relative",title:U?`Last backup: ${Yc(U.timestamp)}`:"No backups",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsxs("span",{className:"hidden sm:inline",children:[r.length," backup",r.length!==1?"s":""]}),s.jsxs("span",{className:"hidden md:inline text-gray-500",children:[" ",p]}),U&&s.jsxs("span",{className:"hidden lg:inline text-gray-500 text-xs",children:[" ",Yc(U.timestamp)]}),r.length>0&&s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-green-500 rounded-full"})]}),y&&s.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-gray-800 rounded-lg border border-gray-600 shadow-lg z-50 max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold text-gray-100",children:"Campaign Backups"}),r.length===0?s.jsx("p",{className:"text-sm text-gray-400",children:"No backups yet. They are created automatically every 5 minutes."}):s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[...r].reverse().map((A,v)=>s.jsxs("div",{className:"p-3 bg-gray-750 rounded-lg border border-gray-600 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-100 truncate",children:A.campaignName}),s.jsx("p",{className:"text-xs text-gray-400",children:Yc(A.timestamp)}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[A.questCount," quests  ",A.npcCount," NPCs  ",A.leadCount," leads"]})]}),v===0&&s.jsx("span",{className:"px-2 py-1 bg-green-900/40 text-green-300 text-xs rounded whitespace-nowrap",children:"Latest"})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:()=>{lh(A),o(!1)},className:"flex-1 px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs font-medium rounded transition-colors",children:"Download"}),s.jsx("button",{onClick:()=>{const m=th(A.id);m&&(localStorage.setItem("restoreFromBackup",JSON.stringify(m.data)),window.location.reload())},className:"flex-1 px-2 py-1 bg-green-600 hover:bg-green-700 text-white text-xs font-medium rounded transition-colors",children:"Restore"})]})]},A.id))}),r.length>0&&s.jsxs("div",{className:"pt-2 border-t border-gray-600",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["Keeping last ",Math.min(r.length,10)," backups  ",p," total"]}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Auto-backups every 5 minutes. Manual backups on demand."})]})]})})]})}function Lh(){const[r,g]=w.useState(!1),[y,o]=w.useState(!1),[p,C]=w.useState("tactical"),{quests:U,npcs:A,businessIdeas:v}=Gt();return w.useEffect(()=>{const m=T=>{(T.ctrlKey||T.metaKey)&&T.key==="k"&&(T.preventDefault(),g(!0)),T.key==="?"&&!y&&o(!0)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[y]),s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),s.jsx("div",{className:"min-h-screen bg-gray-900 p-4 md:p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("header",{className:"mb-6 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-100 mb-2",children:"Campaign Copilot"}),s.jsx("p",{className:"text-gray-400",children:"Your D&D 5e session assistant"})]}),s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx(Hh,{}),s.jsx("button",{onClick:()=>o(!0),className:"px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-400 text-sm hover:bg-gray-700 transition-colors","aria-label":"Show help",title:"Press ? for help",children:"?"})]})]}),s.jsxs("main",{id:"main-content",className:"space-y-6",children:[s.jsx(Ah,{}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:order-1 order-2 space-y-6",children:[s.jsx(dh,{}),s.jsx(hh,{})]}),s.jsx("div",{className:"lg:order-2 order-4",children:s.jsx(xh,{})}),s.jsx("div",{className:"lg:order-3 order-1",children:s.jsx(uh,{})}),s.jsx("div",{className:"lg:order-4 order-3",children:s.jsx(gh,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(yh,{}),s.jsx(ph,{}),s.jsx(zh,{})]}),s.jsx(bh,{}),s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex border-b border-gray-700 bg-gray-750",children:[s.jsx("button",{onClick:()=>C("tactical"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${p==="tactical"?"bg-gray-800 text-blue-400 border-b-2 border-blue-500":"text-gray-400 hover:text-gray-300"}`,children:" Tactical Advisor"}),s.jsx("button",{onClick:()=>C("encounter"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${p==="encounter"?"bg-gray-800 text-red-400 border-b-2 border-red-500":"text-gray-400 hover:text-gray-300"}`,children:" Encounter Mode"}),s.jsx("button",{onClick:()=>C("quest-web"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${p==="quest-web"?"bg-gray-800 text-purple-400 border-b-2 border-purple-500":"text-gray-400 hover:text-gray-300"}`,children:" Quest Web"}),s.jsx("button",{onClick:()=>C("presets"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${p==="presets"?"bg-gray-800 text-green-400 border-b-2 border-green-500":"text-gray-400 hover:text-gray-300"}`,children:" Presets"})]}),s.jsxs("div",{className:"p-6",children:[p==="tactical"&&s.jsx(Oh,{}),p==="encounter"&&s.jsx(Mh,{}),p==="quest-web"&&s.jsx(_h,{}),p==="presets"&&s.jsx(Uh,{})]})]})]})]})}),s.jsx(Th,{quests:U,npcs:A,businessIdeas:v,onSelect:()=>{},isOpen:r,onClose:()=>g(!1)}),s.jsx(wh,{isOpen:y,onClose:()=>o(!1)})]})}function Rh(){return s.jsx(ih,{children:s.jsx(ah,{children:s.jsx(Lh,{})})})}qg.createRoot(document.getElementById("root")).render(s.jsx(w.StrictMode,{children:s.jsx(Rh,{})}));export{Ke as g};
